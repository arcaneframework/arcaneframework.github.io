<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arcane: Les types fondamentaux</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arcane
   &#160;<span id="projectnumber">3.1.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Recherche','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/deb/arcanedoc_core.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Les types fondamentaux </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table des matières</h3>
<ul><li class="level1"><a href="#arcanedoc_module">Les modules</a><ul><li class="level2"><a href="#arcanedoc_module_desc">Le descripteur de module</a></li>
<li class="level2"><a href="#arcanedoc_module_class">La classe représentant le module</a></li>
<li class="level2"><a href="#arcanedoc_module_connectarcane">Connexion du module à Arcane</a></li>
</ul>
</li>
<li class="level1"><a href="#arcanedoc_variable">Les variables</a><ul><li class="level2"><a href="#arcanedoc_variable_types">Le type</a></li>
<li class="level2"><a href="#arcanedoc_variable_support">Le support</a></li>
<li class="level2"><a href="#arcanedoc_variable_dim">La dimension</a></li>
<li class="level2"><a href="#arcanedoc_variable_cppclass">Classe C++</a></li>
<li class="level2"><a href="#arcanedoc_variable_declare">Déclaration</a></li>
<li class="level2"><a href="#arcanedoc_variable_use">Utilisation</a></li>
</ul>
</li>
<li class="level1"><a href="#arcanedoc_entrypoint">Les points d&#39;entrée</a><ul><li class="level2"><a href="#arcanedoc_module_build">Construction</a></li>
</ul>
</li>
<li class="level1"><a href="#arcanedoc_service">Les services</a><ul><li class="level2"><a href="#arcanedoc_service_desc">Le descripteur de service</a></li>
<li class="level2"><a href="#arcanedoc_service_connectarcane">Connexion du service à Arcane</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md__home_grospellierg_arcane_packaging_framework_arcane_doc_core"></a></p>
<p>Il existe 4 types fondamentaux dans Arcane, qui correspondent aux notions de <em>Module</em>, <em>Variable</em>, <em>Point d'entrée</em> et <em>Service</em>, .</p>
<p>Pour une description sommaire de ces notions, se reporter à la section <a class="el" href="../../db/d2f/arcane_overview.html">vue d'ensemble d'ARCANE</a>.</p>
<ul>
<li>
<a class="el" href="../../d1/deb/arcanedoc_core.html#arcanedoc_module">Module</a> </li>
<li>
<a class="el" href="../../d1/deb/arcanedoc_core.html#arcanedoc_variable">Variable</a> </li>
<li>
<a class="el" href="../../d1/deb/arcanedoc_core.html#arcanedoc_entrypoint">Point d'entrée</a> </li>
<li>
<a class="el" href="../../d1/deb/arcanedoc_core.html#arcanedoc_service">Service</a> </li>
</ul>
<h1><a class="anchor" id="arcanedoc_module"></a>
Les modules</h1>
<p>Un module est un ensemble de <em>points d'entrée</em> et de <em>variables</em>. Il peut posséder des options de configuration qui permettent à l'utilisateur de paramètrer le module via le jeu de données de la simulation.</p>
<p>Un module est représenté par une classe et un fichier XML appelé <em>descripteur de module</em>.</p>
<h2><a class="anchor" id="arcanedoc_module_desc"></a>
Le descripteur de module</h2>
<p>Le descripteur de module est un fichier XML ayant l'extension ".axl".Il présente les caractéristiques du module :</p><ul>
<li>ses variables,</li>
<li>ses points d'entrée,</li>
<li>ses options de configuration.</li>
</ul>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>?&gt;</div>
<div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Test&quot;</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">name</span> <span class="keyword">lang</span>=<span class="stringliteral">&quot;fr&quot;</span>&gt;<span class="keyword">Test</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">description</span>&gt;<span class="keyword">Descripteur</span> <span class="keyword">du</span> <span class="keyword">module</span> <span class="keyword">Test</span>&lt;/<span class="keywordtype">description</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">variables</span>/&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">entry-points</span>/&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">options</span>/&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">module</span>&gt;</div>
</div><!-- fragment --><p>Par exemple, le fichier <code>Test.axl</code> ci-dessus présente le module nommé <em>Test</em> dont la classe de base, est <code>BasicModule</code> (cas général). <b>TODO: ajouter doc référence sur les autres attributs du module.</b></p>
<p>Ce module <code>Test</code> ne possède ni variable, ni point d'entrée, ni option de configuration.</p>
<p>Les variables et les points d'entrée seront décrits dans les chapitres suivants. Les options de configuration sont présentées dans le document <a class="el" href="../../de/d26/arcanedoc_caseoptions.html">Configuration des options jeu de données (fichier AXL)</a>.</p>
<h2><a class="anchor" id="arcanedoc_module_class"></a>
La classe représentant le module</h2>
<p>Grâce à l'utilitaire <code>axl2cc</code>, le fichier <code>Test.axl</code> génère un fichier Test_axl.h. Ce fichier contient la classe <code>ArcaneTestObject</code>, classe de base du module de Test.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>TestModule</div>
<div class="line">: <span class="keyword">public</span> ArcaneTestObject</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  <span class="comment">// Construit un module avec les paramètres spécifiés dans \a mb</span></div>
<div class="line">  ModuleTest(<span class="keyword">const</span> ModuleBuildInfo &amp; mbi)</div>
<div class="line">  : ArcaneTestObject(mbi) {}</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Retourne le numéro de version du module</span></div>
<div class="line">  <span class="keyword">virtual</span> VersionInfo versionInfo()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> VersionInfo(1, 0, 0); }</div>
<div class="line">};</div>
</div><!-- fragment --><p>L'exemple précédent montre que Arcane impose que le constructeur du module prenne un object de type <code>ModuleBuildInfo</code> en paramètre pour le transmettre à sa classe de base. Arcane impose également la définition d'une méthode <code>versionInfo()</code> qui retourne le numéro de version de votre module.</p>
<dl class="section note"><dt>Note</dt><dd>Le fait de dériver de la classe ArcaneTestObject donne accés, entre autre, aux traces Arcane (cf <a class="el" href="../../d2/dcf/arcanedoc_traces.html">Utilisation des traces</a>) et aux méthodes suivantes : <br  />
 <table class="doxtable">
<tr>
<th>Méthode</th><th>Action </th></tr>
<tr>
<td><code>allCells()</code> </td><td>retourne le groupe de toutes les mailles  </td></tr>
<tr>
<td><code>allNodes()</code> </td><td>retourne le groupe de tous les noeuds  </td></tr>
<tr>
<td><code>allFaces()</code> </td><td>retourne le groupe de toutes les faces  </td></tr>
<tr>
<td><code>ownCells()</code> </td><td>retourne le groupe des mailles propres au sous-domaine  </td></tr>
<tr>
<td><code>ownNodes()</code> </td><td>retourne le groupe des noeuds propres au </td></tr>
<tr>
<td><code>ownFaces()</code> </td><td>retourne le groupe de toutes les faces propres au sous-domaine  </td></tr>
</table>
</dd></dl>
<h2><a class="anchor" id="arcanedoc_module_connectarcane"></a>
Connexion du module à Arcane</h2>
<p>Une instance du module est contruite par l'architecture lors de l'exécution.</p>
<p>L'utilisateur doit donc fournir une fonction pour créer une instance de la classe du module. Arcane fournit une macro permettant de définir une fonction générique de création. Cette macro doit être écrite dans le fichier source où est défini le module. Elle possède le prototype suivant :</p>
<div class="fragment"><div class="line">ARCANE_REGISTER_MODULE_TEST(TestModule);</div>
</div><!-- fragment --><p><code><em>TestModule</em></code> correspond au nom de la classe et <em>TEST</em> qui suit <b>ARCANE_REGISTER_MODULE_</b> permet de définir la fonction de création.</p>
<h1><a class="anchor" id="arcanedoc_variable"></a>
Les variables</h1>
<p>Une variable est une valeur manipulée par le code et gérée par Arcane. Par exemple le volume, la vitesse, sont des variables. Elle sont caractérisées par un <b>nom</b>, un <b>type</b>, un <b>support</b> et une <b>dimension</b>.</p>
<p>Les variables sont déclarées à l'intérieur d'un module, au sein du descripteur de module.</p>
<p>Si deux modules utilisent des variables de même nom, leurs valeurs seront implicitement partagées. C'est par ce moyen que les modules communiquent leurs informations.</p>
<h2><a class="anchor" id="arcanedoc_variable_types"></a>
Le type</h2>
<p>Les <b>types</b> des variables sont :</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Nom C++   </th><th class="markdownTableHeadNone">Type    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Integer</b>   </td><td class="markdownTableBodyNone">entier signé (Arcane::Integer)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Int16</b>   </td><td class="markdownTableBodyNone">entier signé sur 16 bits (Arcane::Int16)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Int32</b>   </td><td class="markdownTableBodyNone">entier signé sur 32 bits (Arcane::Int32)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Int64</b>   </td><td class="markdownTableBodyNone">entier signé sur 64 bits (Arcane::Int64)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Byte</b>   </td><td class="markdownTableBodyNone">représente un caractère sur 8 bits (<a class="el" href="../../d0/d32/namespaceArcane.html#ab8a647feabd759fae601d29f827568ec" title="Type d&#39;un octet.">Arcane::Byte</a>)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Real</b>   </td><td class="markdownTableBodyNone">réel IEEE 754 (Arcane::Real)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Real2</b>   </td><td class="markdownTableBodyNone">coordonnée 2D, vecteur de deux réels (<a class="el" href="../../d6/d24/classArcane_1_1Real2.html" title="Classe gérant un vecteur de réel de dimension 2.">Arcane::Real2</a>)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Real3</b>   </td><td class="markdownTableBodyNone">coordonnée 3D, vecteur de trois réels (<a class="el" href="../../d1/da6/classArcane_1_1Real3.html" title="Classe gérant un vecteur de réel de dimension 3.">Arcane::Real3</a>)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Real2x2</b>   </td><td class="markdownTableBodyNone">tenseur 2D, vecteur de quatre réels (<a class="el" href="../../da/d4a/classArcane_1_1Real2x2.html" title="Classe gérant une matrice de réel de dimension 2x2.">Arcane::Real2x2</a>)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Real3x3</b>   </td><td class="markdownTableBodyNone">tenseur 3D, vecteur de neufs réels (<a class="el" href="../../d9/da0/classArcane_1_1Real3x3.html" title="Classe gérant une matrice de réel de dimension 3x3.">Arcane::Real3x3</a>)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>String</b>   </td><td class="markdownTableBodyNone">chaîne de caractères unicode (Arcane::String)   </td></tr>
</table>
<p>Par défaut, les entiers sont stockés sur 4 octets mais il est possible de passer sur 8 octets en compilant avec la macro <code>ARCANE_64BIT</code>. Les flottants (<em>Real</em>, <em>Real2</em>, <em>Real2x2</em>, <em>Real3</em>, <em>Real3x3</em>) sont des réels double précisions (stockés sur 8 octets).</p>
<h2><a class="anchor" id="arcanedoc_variable_support"></a>
Le support</h2>
<p>Le <b>support</b> correspond à l'entité qui porte la variable, sur laquelle la variable est définie. Ces variables qui s'appliquent sur des éléments du maillage sont appelées des <b>grandeurs</b>.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Nom C++   </th><th class="markdownTableHeadNone">Support    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">(vide)   </td><td class="markdownTableBodyNone">variable définie globalement (ex : pas de temps)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Node</b>   </td><td class="markdownTableBodyNone">noeud du maillage (<a class="el" href="../../d8/dd7/classArcane_1_1Node.html" title="Noeud d&#39;un maillage.">Arcane::Node</a>)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Face</b>   </td><td class="markdownTableBodyNone">face du maillage (<a class="el" href="../../d1/db1/classArcane_1_1Face.html" title="Face d&#39;une maille.">Arcane::Face</a>)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Cell</b>   </td><td class="markdownTableBodyNone">maille du maillage (<a class="el" href="../../d9/db2/classArcane_1_1Cell.html" title="Maille d&#39;un maillage.">Arcane::Cell</a>)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Particle</b>   </td><td class="markdownTableBodyNone">particule du maillage (<a class="el" href="../../dd/d6c/classArcane_1_1Particle.html" title="Particule.">Arcane::Particle</a>)   </td></tr>
</table>
<h2><a class="anchor" id="arcanedoc_variable_dim"></a>
La dimension</h2>
<p>La <b>dimension</b> peut être:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Nom C++   </th><th class="markdownTableHeadNone">Dimension    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Scalar</b>   </td><td class="markdownTableBodyNone">scalaire    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Array</b>   </td><td class="markdownTableBodyNone">tableau 1D    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Array2</b>   </td><td class="markdownTableBodyNone">tableau 2D   </td></tr>
</table>
<h2><a class="anchor" id="arcanedoc_variable_cppclass"></a>
Classe C++</h2>
<p>Il est aisé d'obtenir la classe C++ correspondant à un type, un support et à une dimension donnés. Le nom de la classe est construit de la manière suivante :</p>
<p><b>Variable</b> + <b>support</b> + <b>dimension</b> + <b>type</b></p>
<p>Par exemple, pour une variable représentant un tableau d'entiers <b>VariableArrayInteger</b>, pour une variable représentant un réel <b>VariableScalarReal</b>.</p>
<p>Quand une variable scalaire est définie sur une entité du maillage le support (<em>Scalar</em>) n'est pas précisé. Par exemple, pour une variable représentant un réel aux mailles <b>VariableCellReal</b>.</p>
<p>Tous les combinaisons sont possibles aux exceptions suivantes:</p><ul>
<li>les variables de type <em>chaîne de caractères</em> qui n'existent que pour les genres scalaires et tableaux mais pas sur les éléments du maillage (pour des raisons de performances).</li>
<li>Les variables de dimension 2 ne peuvent pas avoir de support (il n'est pas possible d'avoir des variables 2D aux mailles par exemple.</li>
</ul>
<p>Le tableau suivant donne quelques exemples de variables:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Nom C++   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gae100d56dd1a1231ec970073bcf0572da" title="Variable scalaire de type réel.">Arcane::VariableScalarReal</a>   </td><td class="markdownTableBodyNone">un réel    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gaffd64d38d2546b294fcf9fc05aa3c465" title="Variable scalaire de type entier.">Arcane::VariableScalarInteger</a>   </td><td class="markdownTableBodyNone">un entier    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#ga6d109da7bef7d823687f9636c8935da8" title="Variable tableau de type entier.">Arcane::VariableArrayInteger</a>   </td><td class="markdownTableBodyNone">Tableau d'entiers    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#ga964ae3a2259afb2022336cbd549194d5" title="Variable tableau de type coordonnées (x,y,z)">Arcane::VariableArrayReal3</a>   </td><td class="markdownTableBodyNone">Tableau de coordonnées 3D    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#ga8a3da822e65f4631b8d9b9f3987c2352" title="Grandeur au noeud de type coordonnées.">Arcane::VariableNodeReal2</a>   </td><td class="markdownTableBodyNone">Coordonnée 2D aux noeuds    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#ga53dac1124aca5fcb6c634530641608b4" title="Grandeur aux faces de type réel.">Arcane::VariableFaceReal</a>   </td><td class="markdownTableBodyNone">Réel aux faces    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gadca3b7b1011b6f67f4b619cf0f1e3090" title="Grandeur aux faces de type coordonnées.">Arcane::VariableFaceReal3</a>   </td><td class="markdownTableBodyNone">Coordonnée 3D aux faces    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#ga27dcbd39bdd8ac855e592c23518d6db9" title="Grandeur aux faces de type tableau d&#39;entiers.">Arcane::VariableFaceArrayInteger</a>   </td><td class="markdownTableBodyNone">Tableau d'entiers aux faces    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gaee6feded16c556185773d761fc09796f" title="Grandeur au centre des mailles de type tableau de réel.">Arcane::VariableCellArrayReal</a>   </td><td class="markdownTableBodyNone">Tableau de réels aux mailles    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gaf7f4a257c36daa5cc99309395e330d81" title="Grandeur au centre des mailles de type tableau de coordonnées.">Arcane::VariableCellArrayReal3</a>   </td><td class="markdownTableBodyNone">Tableau de coordonnées 3D aux mailles    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gaadbc21e4c4f4dd3106b27be9bd964694" title="Grandeur au centre des mailles de type tableau de tenseur de réels.">Arcane::VariableCellArrayReal2x2</a>   </td><td class="markdownTableBodyNone">Tableau de tenseurs 2D aux mailles   </td></tr>
</table>
<h2><a class="anchor" id="arcanedoc_variable_declare"></a>
Déclaration</h2>
<p>La déclaration des variables se fait par l'intermédiaire du descripteur un module.</p>
<p>Par exemple, on déclare dans le module <code>Test</code> une variable de type réel aux mailles appelée <code>Pressure</code> et une variable de type réel aux noeuds appelée <code>NodePressure</code>.</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Test&quot;</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">name</span> <span class="keyword">lang</span>=<span class="stringliteral">&quot;fr&quot;</span>&gt;<span class="keyword">Test</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">description</span>&gt;<span class="keyword">Descripteur</span> <span class="keyword">du</span> <span class="keyword">module</span> <span class="keyword">Test</span>&lt;/<span class="keywordtype">description</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">variables</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">variable</span></div>
<div class="line">      <span class="keyword">field-name</span>=<span class="stringliteral">&quot;pressure&quot;</span></div>
<div class="line">      <span class="keyword">name</span>=<span class="stringliteral">&quot;Pressure&quot;</span></div>
<div class="line">      <span class="keyword">data-type</span>=<span class="stringliteral">&quot;real&quot;</span></div>
<div class="line">      <span class="keyword">item-kind</span>=<span class="stringliteral">&quot;cell&quot;</span></div>
<div class="line">      <span class="keyword">dim</span>=<span class="stringliteral">&quot;0&quot;</span></div>
<div class="line">      <span class="keyword">dump</span>=<span class="stringliteral">&quot;true&quot;</span></div>
<div class="line">      <span class="keyword">need-sync</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">    &lt;<span class="keywordtype">variable</span></div>
<div class="line">      <span class="keyword">field-name</span>=<span class="stringliteral">&quot;node_pressure&quot;</span></div>
<div class="line">      <span class="keyword">name</span>=<span class="stringliteral">&quot;NodePressure&quot;</span></div>
<div class="line">      <span class="keyword">data-type</span>=<span class="stringliteral">&quot;real&quot;</span></div>
<div class="line">      <span class="keyword">item-kind</span>=<span class="stringliteral">&quot;node&quot;</span></div>
<div class="line">      <span class="keyword">dim</span>=<span class="stringliteral">&quot;0&quot;</span></div>
<div class="line">      <span class="keyword">dump</span>=<span class="stringliteral">&quot;true&quot;</span></div>
<div class="line">      <span class="keyword">need-sync</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">   &lt;/<span class="keywordtype">variables</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">entry-points</span>/&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">options</span>/&gt;</div>
<div class="line">&lt;/<span class="keywordtype">module</span>&gt;</div>
</div><!-- fragment --><p>Les attributs suivants sont disponibles:</p>
<table class="doxtable">
<tr>
<th>Attribut </th><th>Description  </th></tr>
<tr>
<td><b>name</b>  </td><td>nom de la variable. Par convention, elle commence par une majuscule. Les caractères valides sont les caractères alphabétiques <b>[a-zA-Z]</b>, les chiffres (sauf au début du nom) et le caractère souligné. Les variables dont le nom commence par <em>Global</em> et <em>Arcane</em> sont réservées pour Arcane.   </td></tr>
<tr>
<td><b>field-name</b>  </td><td>nom information du champ de la variable dans la classe générée. Ce nom doit être un nom valide en C++. Par convention, si la variable s'appelle <em>NodePressure</em> par exemple, le champ sera <b>node_pressure</b>. Dans la classe générée, le nom spécifié sera préfixé de <b>m_</b> (le préfixage <code>m_</code> correspond aux <a class="el" href="../../d1/d72/arcanedoc_codingrules.html">règles de codage</a> dans Arcane pour les attributs de classe).   </td></tr>
<tr>
<td><b>item-kind</b>  </td><td>support de la variable. Les valeurs possibles sont <code>node</code>, <code>face</code>, <code>cell</code> ou <code>none</code>. La valeur <code>none</code> indique qu'il ne s'agit pas d'une variable du maillage. A noter qu'il n'est pas (encore) possible de déclarer dans le fichier axl les variables ayant comme support des particules (Particle) ou liens (Link).   </td></tr>
<tr>
<td><b>data-type</b>  </td><td>type de données de la variable. Il s'agit au choix de <em>integer</em>, <em>int16</em>, <em>int32</em>, <em>int64</em>, <em>real</em>, <em>string</em>, <em>real2</em>, <em>real3</em>, <em>real2x2</em>, <em>real3x3</em>. Le type *string8 n'est pas utilisable pour les variables du maillage (celles ayant un support).   </td></tr>
<tr>
<td><b>dim</b>  </td><td>La dimension de la variables. Les valeurs possibles sont <em>0</em> pour une variable scalaire, <em>1</em> pour une variable tableau à une dimension et <em>2</em> pour un tableau à deux dimensions. Les tableaux à deux dimensions ne sont pas supportés pour les variables du maillage.   </td></tr>
<tr>
<td><b>dump</b>  </td><td>permet de choisir si les valeurs d'une variable sont sauvegardées lors d'un arrêt du code. Dans ce cas, les valeurs sauvegardées seront, bien entendu, relues lors d'une reprise d'exécution. Certaines variables recalculées n'ont pas besoin d'être sauvegardées ; dans ce cas l'attribut <em>dump</em> vaut *fals*e. C'est le cas lorsque la valeur d'une variable n'est pas utile d'une itération à l'autre.   </td></tr>
<tr>
<td><b>need-sync</b>  </td><td>indique si la variable doit être synchronisé entre sous-domaines. Il s'agit juste d'une indication qui peut être utilisée lors de vérifications.   </td></tr>
</table>
<p>Lors de la compilation du descripteur de module par Arcane (avec <code>axl2cc</code> - cf précédemment), les variables sont enregistrées au sein de la base de données de l'architecture.</p>
<h2><a class="anchor" id="arcanedoc_variable_use"></a>
Utilisation</h2>
<p>La manière d'utiliser une variable est identique quel que soit son type et ne dépend que de son genre.</p>
<p><b>Variables scalaires</b></p>
<p>Les variables scalaires sont utilisées par l'intermédiaire de la classe template <a class="el" href="../../d0/db7/classArcane_1_1VariableRefScalarT.html" title="Référence à une variable scalaire.">Arcane::VariableRefScalarT</a>.</p>
<p>Il n'y a que deux possibilités d'utilisation :</p>
<ul>
<li>"lire la valeur" : cela se fait par l'opérateur() (VariableRefScalarT::operator()()). Cet opérateur retourne une référence constante sur la valeur stockée dans la variable. Il peut être utilisé partout ou l'on veut utiliser une valeur du type de la variable.</li>
<li>"changer la valeur" : cela se fait par l'opérateur = (Arcane::VariableRefScalarT::operator=())</li>
</ul>
<p>Par exemple, avec la variable <code>m_time</code> de type <code>VariableScalarReal</code> :</p>
<div class="fragment"><div class="line">m_time = 5.;         <span class="comment">// affecte la valeur 5. à la variable m_time</span></div>
<div class="line"><span class="keywordtype">double</span> z = m_time(); <span class="comment">// récupère la valeur de la variable et l&#39;affecte à z.</span></div>
<div class="line">cout &lt;&lt; m_time();    <span class="comment">// imprime la valeur de m_time</span></div>
</div><!-- fragment --><p>L'important est de ne pas oublier les parenthèses lorsqu'on veut accéder à la valeur de la variable.</p>
<p><b>Variables tableaux</b></p>
<p>Les variables tableaux sont utilisées par l'intermédiaire de la classe template <em><a class="el" href="../../d8/d30/classArcane_1_1VariableRefArrayT.html" title="Variable tableau.">Arcane::VariableRefArrayT</a></em>.</p>
<p>Leur fonctionnement est assez similaire à la classe <code>vector</code> de la STL. Le dimensionnement du tableau se fait par la méthode <a class="el" href="../../d8/d30/classArcane_1_1VariableRefArrayT.html#ab6a547ffc70e3c72e395f55f812ad2e2" title="Redimensionne le tableau pour contenir new_size éléments.">Arcane::VariableRefArrayT::resize()</a> et chaque élément du tableau peut être accédé par l'opérateur <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html#ae5edc98c676e94c3ace669f49f191083" title="i-ème élément du tableau.">Arcane::VariableRefArrayT::operator[]()</a> qui retourne une référence sur le type des éléments du tableau.</p>
<p>Par exemple, avec la variable <em>m_times</em> de type <em>VariableArrayReal</em>:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d8/d30/classArcane_1_1VariableRefArrayT.html">Arcane::VariableArrayReal</a> m_times = ...;</div>
<div class="line">m_times.<a class="code" href="../../d8/d30/classArcane_1_1VariableRefArrayT.html#ab6a547ffc70e3c72e395f55f812ad2e2">resize</a>(5);         <span class="comment">// redimensionne le tableau pour contenir 5 éléments</span></div>
<div class="line">m_times[3] = 2.0;          <span class="comment">// affecte la valeur 2.0 au 4ème élément du tableau</span></div>
<div class="line">cout &lt;&lt; m_times[0];        <span class="comment">// imprime la valeur du premier élément</span></div>
<div class="ttc" id="aclassArcane_1_1VariableRefArrayT_html"><div class="ttname"><a href="../../d8/d30/classArcane_1_1VariableRefArrayT.html">Arcane::VariableRefArrayT</a></div><div class="ttdoc">Variable tableau.</div><div class="ttdef"><b>Definition:</b> VariableRefArray.h:39</div></div>
<div class="ttc" id="aclassArcane_1_1VariableRefArrayT_html_ab6a547ffc70e3c72e395f55f812ad2e2"><div class="ttname"><a href="../../d8/d30/classArcane_1_1VariableRefArrayT.html#ab6a547ffc70e3c72e395f55f812ad2e2">Arcane::VariableRefArrayT::resize</a></div><div class="ttdeci">virtual void resize(Integer new_size)</div><div class="ttdoc">Redimensionne le tableau pour contenir new_size éléments.</div><div class="ttdef"><b>Definition:</b> VariableRefArray.cc:142</div></div>
</div><!-- fragment --><p><b>Variables scalaires sur le maillage</b></p>
<p>Il s'agit des variables sur les éléments du maillages (noeuds, faces ou mailles) avec une valeur par élément. Ces variables sont définies par la classe template <a class="el" href="../../d7/d20/classArcane_1_1MeshVariableScalarRefT.html" title="Variable scalaire sur un type d&#39;entité du maillage.">Arcane::MeshVariableScalarRefT</a>.</p>
<p>Leur fonctionnement est assez similaire à celui d'un tableau C standard. On utilise l'opérateur <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html#ae5edc98c676e94c3ace669f49f191083" title="i-ème élément du tableau.">Arcane::VariableRefArrayT::operator[]()</a> pour récupérer une référence sur le type de la variable pour un élément du maillage donné. Cet opérateur est surchargé pour prendre en argument un itérateur sur un élément du maillage.</p>
<p>Les grandeurs se déclarent et s'utilisent de manière similaire quels que soient le type d'élément du maillage. Elles sont dimensionnées automatiquement lors de l'initialisation aux nombre d'éléments du maillage du genre de la variable.</p>
<p>Par exemple, avec la variable <em>m_volume</em> de type <em><a class="el" href="../../d3/d00/group__Variable.html#ga135a2515548fbcacb89c3ce1a2410b79" title="Grandeur au centre des mailles de type réel.">Arcane::VariableCellReal</a></em>:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d7/d20/classArcane_1_1MeshVariableScalarRefT.html">Arcane::VariableCellReal</a> m_volume = ...;</div>
<div class="line"><a class="code" href="../../d6/d0f/ItemEnumerator_8h.html#aaf5910d68ad8428248f844535ab071f3">ENUMERATE_CELL</a>(i,allCells()) {</div>
<div class="line">  m_volume[i] = 2.0;     <span class="comment">// Affecte la valeur 2.0 au volume de la maille courante</span></div>
<div class="line">  cout &lt;&lt; m_volume[i];   <span class="comment">// Imprime le volume de la maille courante</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// il est possible de faire les mêmes opérations avec la maille</span></div>
<div class="line">  <span class="comment">// ATTENTION c&#39;est moins performant</span></div>
<div class="line">  Cell cell = *i;         <span class="comment">// Déclare une référence à une maille.</span></div>
<div class="line">  m_volume[cell] = 2.0;   <span class="comment">// Affecte la valeur 2.0 au volume de la maille &#39;cell&#39;</span></div>
<div class="line">  cout &lt;&lt; m_volume[cell]; <span class="comment">// Imprime le volume de la maille &#39;cell&#39;</span></div>
<div class="line">}</div>
<div class="ttc" id="aItemEnumerator_8h_html_aaf5910d68ad8428248f844535ab071f3"><div class="ttname"><a href="../../d6/d0f/ItemEnumerator_8h.html#aaf5910d68ad8428248f844535ab071f3">ENUMERATE_CELL</a></div><div class="ttdeci">#define ENUMERATE_CELL(name, group)</div><div class="ttdoc">Enumérateur générique d'un groupe de mailles.</div><div class="ttdef"><b>Definition:</b> ItemEnumerator.h:221</div></div>
<div class="ttc" id="aclassArcane_1_1MeshVariableScalarRefT_html"><div class="ttname"><a href="../../d7/d20/classArcane_1_1MeshVariableScalarRefT.html">Arcane::MeshVariableScalarRefT&lt; Cell, Real &gt;</a></div></div>
</div><!-- fragment --><p><b>Variables tableaux sur le maillage</b></p>
<p>Il s'agit des variables sur les éléments du maillage (noeuds, faces ou mailles) avec un tableau de valeurs par éléments. Ces variables sont définies pas la classe template <a class="el" href="../../dd/d95/classArcane_1_1MeshVariableArrayRefT.html" title="Variable tableau sur un type d&#39;entité du maillage.">Arcane::MeshVariableArrayRefT</a>.</p>
<p>Le fonctionnement de ces variables est identiques à celui des variables scalaires sur le maillage mais l'opérateur Arcane::MeshVariableArrayRefT::operator[]() retourne un tableau de valeurs du type de la variable.</p>
<p>Il est possible de changer le nombre d'éléments de la deuxième dimension de ce tableau par la méthode Arcane::MeshVariableArrayRefT::resize().</p>
<p>Par exemple, avec la variable <em>m_temperature</em> de type <em><a class="el" href="../../d3/d00/group__Variable.html#gaee6feded16c556185773d761fc09796f" title="Grandeur au centre des mailles de type tableau de réel.">Arcane::VariableCellArrayReal</a></em>:</p>
<div class="fragment"><div class="line"><a class="code" href="../../dd/d95/classArcane_1_1MeshVariableArrayRefT.html">Arcane::VariableCellArrayReal</a> m_temperature = ...;</div>
<div class="line">m_temperature.resize(3); <span class="comment">// Chaque maille aura 3 valeurs de temperature</span></div>
<div class="line"><a class="code" href="../../d6/d0f/ItemEnumerator_8h.html#aaf5910d68ad8428248f844535ab071f3">ENUMERATE_CELL</a>(i,allCells()) {</div>
<div class="line">  m_volume[i][0] = 2.0;        <span class="comment">// Affecte la valeur 2.0 à la première temperature de la maille courante</span></div>
<div class="line">  cout &lt;&lt; m_volume[i][1];      <span class="comment">// Imprime la 2ème température de la maille courante</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// il est possible de faire les mêmes opérations avec la maille</span></div>
<div class="line">  <span class="comment">// ATTENTION c&#39;est moins performant</span></div>
<div class="line">  Cell cell = *i;            <span class="comment">// Déclare une référence à une maille.</span></div>
<div class="line">  m_volume[cell][0] = 2.0;   <span class="comment">// Affecte la valeur 2.0 à la première temperature de la maille &#39;cell&#39;</span></div>
<div class="line">  cout &lt;&lt; m_volume[cell][1]; <span class="comment">// Imprime la 2ème température de la maille &#39;cell&#39;</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassArcane_1_1MeshVariableArrayRefT_html"><div class="ttname"><a href="../../dd/d95/classArcane_1_1MeshVariableArrayRefT.html">Arcane::MeshVariableArrayRefT</a></div><div class="ttdoc">Variable tableau sur un type d'entité du maillage.</div><div class="ttdef"><b>Definition:</b> MeshVariableArrayRef.h:129</div></div>
</div><!-- fragment --><h1><a class="anchor" id="arcanedoc_entrypoint"></a>
Les points d'entrée</h1>
<p>Un point d'entrée est une méthode d'un module qui est référencée par Arcane et qui sert d'interface pour le module avec la boucle en temps. Un point d'entrée est décrit par la classe interface <code>IEntryPoint</code>. Un point d'entrée est une méthode dont la signature est la suivante, <b>T</b> étant le type de la classe du module:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> T::func();</div>
</div><!-- fragment --><p>Un point d'entrée est caractérisé par:</p><ul>
<li>un nom</li>
<li>une méthode de la classe associée.</li>
<li>l'endroit ou il peut être appelé (initialisation, boucle de calcul, ...). Par défaut, un point d'entrée est appelé dans la boucle de calcul.</li>
</ul>
<p>Les points d'entrée sont déclarés dans le descripteur de module. Par exemple, pour le module <code>Test</code>, on déclare 2 points d'entrée pouvant ensuite être appelés dans la boucle en temps par les noms <b>DumpConnection</b> ou <b>TestPressureSync</b> :</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Test&quot;</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">name</span> <span class="keyword">lang</span>=<span class="stringliteral">&quot;fr&quot;</span>&gt;<span class="keyword">Test</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">description</span>&gt;<span class="keyword">Descripteur</span> <span class="keyword">du</span> <span class="keyword">module</span> <span class="keyword">Test</span>&lt;/<span class="keywordtype">description</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">variables</span>&gt;</div>
<div class="line">          <span class="comment">&lt;!-- .... cf chapitre sur les variables .... --&gt;</span></div>
<div class="line">       &lt;/<span class="keywordtype">variables</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">entry-points</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">entry-point</span> <span class="keyword">method-name</span>=<span class="stringliteral">&quot;testPressureSync&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;TestPressureSync&quot;</span> <span class="keyword">where</span>=<span class="stringliteral">&quot;compute-loop&quot;</span> <span class="keyword">property</span>=<span class="stringliteral">&quot;none&quot;</span> /&gt;</div>
<div class="line">    &lt;<span class="keywordtype">entry-point</span> <span class="keyword">method-name</span>=<span class="stringliteral">&quot;dumpConnection&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;DumpConnection&quot;</span> <span class="keyword">where</span>=<span class="stringliteral">&quot;compute-loop&quot;</span> <span class="keyword">property</span>=<span class="stringliteral">&quot;none&quot;</span> /&gt;</div>
<div class="line">  &lt;<span class="keywordtype">entry-points</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">options</span>/&gt;</div>
<div class="line">&lt;/<span class="keywordtype">module</span>&gt;</div>
</div><!-- fragment --><p>La signification des attributs de l'élément <b>entry-point</b> est la suivante :</p><ul>
<li><b>method-name</b> définit le nom de la méthode C++ correspondant au point d'entrée,</li>
<li><b>name</b> est le nom d'enregistrement du point d'entrée dans Arcane,</li>
<li><b>property</b> donne le type de point d'entrée :<ul>
<li><b>none</b> : point d'entrée "traditionnel"</li>
<li><b>auto-load-begin</b> : signifie que le module de ce point d'entrée sera chargé automatiquement et que le point d'entrée sera appelé au début de la boucle en temps,</li>
<li><b>auto-load-end</b> : signifie que le module de ce point d'entrée sera chargé automatiquement et que le point d'entrée sera appelé à la fin de la boucle en temps</li>
</ul>
</li>
<li><b>where</b> est l'endroit où le point d'entrée va être appelé. Les valeurs possibles sont :</li>
</ul>
<table class="doxtable">
<tr>
<td><b>compute-loop</b> </td><td>appel du point d'entrée tant que l'on itère,  </td></tr>
<tr>
<td><b>init</b>  </td><td>sert à initialiser les structures de données du module qui ne sont pas conservées lors d'une protection. A ce stade de l'initialisation, le jeu de données et le maillage ont déjà été lus. L'initialisation sert également à vérifier certaines valeurs, calculer des valeurs initiales...  </td></tr>
<tr>
<td><b>start-init</b>  </td><td>sert à initialiser les variables et les valeurs uniquement lors du démarrage du cas (t=0),  </td></tr>
<tr>
<td><b>continue-init</b>  </td><td>sert à initialiser des structures spécifiques au mode reprise. A priori, un module ne devrait pas avoir à faire d'opérations spécifiques dans ce cas,  </td></tr>
<tr>
<td><b>build</b>  </td><td>appel du point d'entrée avant l'initialisation ; le jeu de données n'est pas encore lu. Ce point d'entrée sert généralement à construire certains objets utiles au module mais est peu utilisé par les modules numériques.  </td></tr>
<tr>
<td><b>on-mesh-changed</b>  </td><td>sert à initialiser des variables et des valeurs lors d'un changement de la structure de maillage (partitionnement, abandon de mailles...). <b>Attention</b> : la taille des variables du code définies sur des entités du maillage est automatiquement mise à jour par Arcane.  </td></tr>
<tr>
<td><b>restore</b>  </td><td>sert à initialiser des structures spécifiques lors d'un retour arrière,  </td></tr>
<tr>
<td><b>exit</b>  </td><td>sert, par exemple, à désallouer des structures de données lors de la sortie du code : fin de simulation, arrêt avant reprise...  </td></tr>
</table>
<p>Lors de la compilation du descripteur de module par Arcane (avec <b>axl2cc</b> - cf précédemment), les points d'entrée sont enregistrés au sein de la base de données de l'architecture.</p>
<p>Il faut déclarer les points d'entrée au niveau de la classe du module (sinon une erreur se produit à la compilation):</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>TestModule</div>
<div class="line">{</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">   <span class="keyword">virtual</span> <span class="keywordtype">void</span> testPressureSync();</div>
<div class="line">   <span class="keyword">virtual</span> <span class="keywordtype">void</span> dumpConnection();</div>
<div class="line">   ...</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="arcanedoc_module_build"></a>
Construction</h2>
<p>Les points d'entrée sont définis dans le fichier de définition du module, dans notre cas <code>TestModule.cc</code>.</p>
<p>Pour exemple, voici le point d'entrée <code>testPressureSync</code> appelé à chaque itération de la boucle de calcul. Ce point d'entrée effectue une moyenne des pressions des mailles au cours du temps:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="../../d3/d00/group__Variable.html#ga50e313bc663c5f4fd459ffbe2a2432b8">VariableNodeReal</a> m_node_pressure = ...;</div>
<div class="line"><a class="code" href="../../d3/d00/group__Variable.html#ga135a2515548fbcacb89c3ce1a2410b79">VariableCellReal</a> m_cell_pressure = ...;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> TestModule::</div>
<div class="line">testPressureSync()</div>
<div class="line">{</div>
<div class="line">  m_global_deltat = options()-&gt;deltatInit();</div>
<div class="line">  m_node_pressure.fill(0.0);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Ajoute à chaque noeud la pression de chaque maille auquel il appartient</span></div>
<div class="line">  <a class="code" href="../../d6/d0f/ItemEnumerator_8h.html#aaf5910d68ad8428248f844535ab071f3">ENUMERATE_CELL</a>(i,allCells()){</div>
<div class="line">    Cell cell = *i;</div>
<div class="line">    <a class="code" href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Real</a> cell_pressure = m_pressure[i];</div>
<div class="line">    <span class="keywordflow">for</span>( <a class="code" href="../../de/db5/group__Mesh.html#ga8270de1e7b8febe980cab11b992c47b5">NodeEnumerator</a> inode(cell.nodes()); inode.hasNext(); ++inode )</div>
<div class="line">      m_node_pressure[inode] += pressure;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Calcule la pression moyenne.</span></div>
<div class="line">  <a class="code" href="../../d6/d0f/ItemEnumerator_8h.html#aea36524754c129124072de38e045d6ba">ENUMERATE_NODE</a>(i,allNodes()){</div>
<div class="line">    Node node = *i;</div>
<div class="line">    m_node_pressure[i] /= node.nbCell();</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Affecte à chaque maille la pression moyenne des noeuds qui la compose</span></div>
<div class="line">  <a class="code" href="../../d6/d0f/ItemEnumerator_8h.html#aaf5910d68ad8428248f844535ab071f3">ENUMERATE_CELL</a>(i,allCells()){</div>
<div class="line">    Cell cell = *i;</div>
<div class="line">    <a class="code" href="../../d5/d60/namespaceArccore.html#a19fea02f94d4da203710fd2070c0f2fb">Integer</a> nb_node = cell.nbNode();</div>
<div class="line">    <a class="code" href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Real</a> cell_pressure = 0.;</div>
<div class="line">    <span class="keywordflow">for</span>( <a class="code" href="../../de/db5/group__Mesh.html#ga8270de1e7b8febe980cab11b992c47b5">NodeEnumerator</a> inode(cell.nodes()); inode.hasNext(); ++inode )</div>
<div class="line">      cell_pressure += m_node_pressure[inode];</div>
<div class="line">    cell_pressure /= nb_node;</div>
<div class="line">    m_pressure[i] = cell_pressure;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Synchronise la pression (pour une exécution parallèle)</span></div>
<div class="line">  m_pressure.synchronize();</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Calcule la pression minimale, maximale et moyenne sur l&#39;ensemble des</span></div>
<div class="line"> <span class="comment">// domaines</span></div>
<div class="line"> <a class="code" href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Real</a> min_pressure = 1.0e10;</div>
<div class="line"> <a class="code" href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Real</a> max_pressure = 0.0;</div>
<div class="line"> <a class="code" href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Real</a> sum_pressure = 0.0;</div>
<div class="line"> </div>
<div class="line"> <a class="code" href="../../d6/d0f/ItemEnumerator_8h.html#aaf5910d68ad8428248f844535ab071f3">ENUMERATE_CELL</a>(i,ownCells()){</div>
<div class="line">   <a class="code" href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Real</a> pressure = m_pressure[i];</div>
<div class="line">   sum_pressure += pressure;</div>
<div class="line">   <span class="keywordflow">if</span> (pressure&lt;min_pressure)</div>
<div class="line">     min_pressure = pressure;</div>
<div class="line">   <span class="keywordflow">if</span> (pressure&gt;max_pressure)</div>
<div class="line">     max_pressure = pressure;</div>
<div class="line"> }</div>
<div class="line"> </div>
<div class="line"> <a class="code" href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Real</a> gmin = parallelMng()-&gt;reduce(Parallel::ReduceMin,min_pressure);</div>
<div class="line"> <a class="code" href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Real</a> gmax = parallelMng()-&gt;reduce(Parallel::ReduceMax,max_pressure);</div>
<div class="line"> <a class="code" href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Real</a> gsum = parallelMng()-&gt;reduce(Parallel::ReduceSum,sum_pressure);</div>
<div class="line"> </div>
<div class="line"> info() &lt;&lt; <span class="stringliteral">&quot;Local  Pressure: &quot;</span> &lt;&lt; <span class="stringliteral">&quot; Sum &quot;</span> &lt;&lt; sum_pressure</div>
<div class="line">        &lt;&lt; <span class="stringliteral">&quot; Min &quot;</span> &lt;&lt; min_pressure &lt;&lt; <span class="stringliteral">&quot; Max &quot;</span> &lt;&lt; max_pressure;</div>
<div class="line"> info() &lt;&lt; <span class="stringliteral">&quot;Global Pressure: &quot;</span> &lt;&lt; <span class="stringliteral">&quot; Sum &quot;</span> &lt;&lt; gsum</div>
<div class="line">        &lt;&lt; <span class="stringliteral">&quot; Min &quot;</span> &lt;&lt; gmin &lt;&lt; <span class="stringliteral">&quot; Max &quot;</span> &lt;&lt; gmax;</div>
<div class="line">}</div>
<div class="ttc" id="aItemEnumerator_8h_html_aea36524754c129124072de38e045d6ba"><div class="ttname"><a href="../../d6/d0f/ItemEnumerator_8h.html#aea36524754c129124072de38e045d6ba">ENUMERATE_NODE</a></div><div class="ttdeci">#define ENUMERATE_NODE(name, group)</div><div class="ttdoc">Enumérateur générique d'un groupe de noeuds.</div><div class="ttdef"><b>Definition:</b> ItemEnumerator.h:212</div></div>
<div class="ttc" id="agroup__Mesh_html_ga8270de1e7b8febe980cab11b992c47b5"><div class="ttname"><a href="../../de/db5/group__Mesh.html#ga8270de1e7b8febe980cab11b992c47b5">Arcane::NodeEnumerator</a></div><div class="ttdeci">ItemEnumeratorT&lt; Node &gt; NodeEnumerator</div><div class="ttdoc">Enumérateurs sur des noeuds.</div><div class="ttdef"><b>Definition:</b> ItemTypes.h:166</div></div>
<div class="ttc" id="agroup__Variable_html_ga135a2515548fbcacb89c3ce1a2410b79"><div class="ttname"><a href="../../d3/d00/group__Variable.html#ga135a2515548fbcacb89c3ce1a2410b79">Arcane::VariableCellReal</a></div><div class="ttdeci">MeshVariableScalarRefT&lt; Cell, Real &gt; VariableCellReal</div><div class="ttdoc">Grandeur au centre des mailles de type réel.</div><div class="ttdef"><b>Definition:</b> VariableTypedef.h:290</div></div>
<div class="ttc" id="agroup__Variable_html_ga50e313bc663c5f4fd459ffbe2a2432b8"><div class="ttname"><a href="../../d3/d00/group__Variable.html#ga50e313bc663c5f4fd459ffbe2a2432b8">Arcane::VariableNodeReal</a></div><div class="ttdeci">MeshVariableScalarRefT&lt; Node, Real &gt; VariableNodeReal</div><div class="ttdoc">Grandeur au noeud de type réel.</div><div class="ttdef"><b>Definition:</b> VariableTypedef.h:272</div></div>
<div class="ttc" id="anamespaceArcane_html"><div class="ttname"><a href="../../d0/d32/namespaceArcane.html">Arcane</a></div><div class="ttdoc">-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-</div><div class="ttdef"><b>Definition:</b> AbstractCaseDocumentVisitor.cc:20</div></div>
<div class="ttc" id="anamespaceArccore_html_a19fea02f94d4da203710fd2070c0f2fb"><div class="ttname"><a href="../../d5/d60/namespaceArccore.html#a19fea02f94d4da203710fd2070c0f2fb">Arccore::Integer</a></div><div class="ttdeci">Int32 Integer</div><div class="ttdoc">Type représentant un entier.</div><div class="ttdef"><b>Definition:</b> ArccoreGlobal.h:236</div></div>
<div class="ttc" id="anamespaceArccore_html_a5ab7f6a9c189227a5006d3f222aa61f6"><div class="ttname"><a href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Arccore::Real</a></div><div class="ttdeci">double Real</div><div class="ttdoc">Type représentant un réel.</div><div class="ttdef"><b>Definition:</b> ArccoreGlobal.h:218</div></div>
</div><!-- fragment --><h1><a class="anchor" id="arcanedoc_service"></a>
Les services</h1>
<p>Un service présente les mêmes caractéristiques qu'un module, sauf qu'il ne possède pas de point d'entrée. Tout comme le module, il peut donc posséder des variables et des options de configuration.</p>
<p>Le service est représenté par une classe et un fichier XML appelé <em>descripteur de service</em>.</p>
<p>Les services sont généralement utilisés :</p><ul>
<li>pour capitaliser du code entre plusieurs modules. Par exemple, on peut créer un service de schéma numérique utilisé par plusieurs modules numériques comme la thermique et l'hydrodynamique.</li>
<li>pour paramétrer un module avec plusieurs algorithmes. Par exemple, on peut faire un service chargé d'appliquer une équation d'état pour le module d'hydrodynamique. On définit alors 2 implémentations "gaz parfait" et "stiffened gaz" et on paramètre le module, via son jeu de données, avec l'une ou l'autre des implémentations.</li>
</ul>
<p>Du point de vue de la conception, cela implique :</p><ul>
<li>de déclarer une interface qui va être le contrat du service. Par exemple, voici l'interface d'un service pour la résolution d'une équation d'état sur un groupe de mailles passé en argument : <div class="fragment"><div class="line"><span class="keyword">class </span>IEquationOfState</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">void</span> applyEOS(<span class="keyword">const</span> <a class="code" href="../../d8/d8e/classArcane_1_1ItemGroupT.html">Arcane::CellGroup</a>&amp; group) =0;</div>
<div class="line">};</div>
<div class="ttc" id="aclassArcane_1_1ItemGroupT_html"><div class="ttname"><a href="../../d8/d8e/classArcane_1_1ItemGroupT.html">Arcane::ItemGroupT&lt; Cell &gt;</a></div></div>
</div><!-- fragment --></li>
<li>de créer une ou plusieurs implémentations de cette interface.</li>
</ul>
<p>Une instance de service est créé lors de la lecture du jeu de données du module qui utilise ce service. Les méthodes du service peuvent alors être appelées directement depuis le module.</p>
<dl class="section note"><dt>Note</dt><dd>Les options de configuration du module, notamment celle permettant de référencer un service, sont présentées dans le document <a class="el" href="../../de/d26/arcanedoc_caseoptions.html">Configuration des options jeu de données (fichier AXL)</a>.</dd></dl>
<h2><a class="anchor" id="arcanedoc_service_desc"></a>
Le descripteur de service</h2>
<p>Comme pour le module, le descripteur de service est un fichier XML ayant l'extension ".axl". Il présente les caractéristiques du service:</p><ul>
<li>la où les interfaces qu'il implémente,</li>
<li>ses options de configuration,</li>
<li>ses variables.</li>
</ul>
<p>Contrairement au module, un service n'a pas de points d'entrée.</p>
<p>L'exemple suivant définit un descripteur de service pour la résolution d'une équation d'état de type "gaz parfait" :</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>?&gt;</div>
<div class="line">&lt;<span class="keywordtype">service</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PerfectGasEOS&quot;</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">description</span>&gt;<span class="keyword">Jeu</span> <span class="keyword">de</span> <span class="keyword">données</span> <span class="keyword">du</span> <span class="keyword">service</span> <span class="keyword">PerfectGasEOS</span>&lt;/<span class="keywordtype">description</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">interface</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;IEquationOfState&quot;</span> /&gt;</div>
<div class="line"> </div>
<div class="line">&lt;<span class="keywordtype">options</span>&gt; ... <span class="keyword">Liste</span> <span class="keyword">des</span> <span class="keyword">options</span> ... /<span class="keyword">options</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">variables</span>&gt; ... <span class="keyword">Liste</span> <span class="keyword">des</span> <span class="keyword">variables</span> ... &lt;/<span class="keywordtype">variables</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">service</span>&gt;</div>
</div><!-- fragment --><p>L'exemple suivant définit un descripteur de service utilisé pour la résolution d'une équation d'état de type "stiffened gaz" :</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>?&gt;</div>
<div class="line">&lt;<span class="keywordtype">service</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;StiffenedGasEOS&quot;</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;caseoption&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">description</span>&gt;<span class="keyword">Jeu</span> <span class="keyword">de</span> <span class="keyword">données</span> <span class="keyword">du</span> <span class="keyword">service</span> <span class="keyword">StiffenedGasEOS</span>&lt;/<span class="keywordtype">description</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">interface</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;IEquationOfState&quot;</span> /&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">options</span>&gt; ... <span class="keyword">Liste</span> <span class="keyword">des</span> <span class="keyword">options</span> ... /<span class="keyword">options</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">variables</span>&gt; ... <span class="keyword">Liste</span> <span class="keyword">des</span> <span class="keyword">variables</span> ... &lt;/<span class="keywordtype">variables</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">service</span>&gt;</div>
</div><!-- fragment --><p>L'attribut <em>type</em> valant <em>caseoption</em> indique qu'il s'agit d'un service pouvant être référencé dans un jeu de données.</p>
<p>Il est aussi possible de spécifier un attribut <em>singleton</em> ayant comme valeur un booléen indiquant si le service peut être singleton.</p>
<h2><a class="anchor" id="arcanedoc_module_class"></a>
La classe représentant le module</h2>
<p>Comme pour le module, la compilation des fichiers <code>PerfectGas.axl</code> et <code>StiffenedGas.axl</code> avec l'utilitaire <code>axl2cc</code> génère respectiment les fichiers PerfectGas_axl.h et StiffenedGas_axl.h contenant les classes <code>ArcanePerfectGasObject</code> et <code>ArcaneStiffenedGasObject</code>, classes de base des services.</p>
<p>Voici les classes pour les services définis précédemment dans les descripteurs :</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>PerfectGasEOSService </div>
<div class="line">: <span class="keyword">public</span> ArcanePerfectGasEOSObject</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">   <span class="keyword">explicit</span> PerfectGasEOSService(<span class="keyword">const</span> <a class="code" href="../../d8/dc4/classArcane_1_1ServiceBuildInfo.html">Arcane::ServiceBuildInfo</a>&amp; sbi)</div>
<div class="line">   : ArcanePerfectGasEOSObject(sbi) {}</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">   <span class="keywordtype">void</span> applyEOS(<span class="keyword">const</span> <a class="code" href="../../d8/d8e/classArcane_1_1ItemGroupT.html">Arcane::CellGroup</a>&amp; group)<span class="keyword"> override</span></div>
<div class="line"><span class="keyword">   </span>{ <span class="comment">// ... corps de la méthode }</span></div>
<div class="line">};</div>
<div class="ttc" id="aclassArcane_1_1ServiceBuildInfo_html"><div class="ttname"><a href="../../d8/dc4/classArcane_1_1ServiceBuildInfo.html">Arcane::ServiceBuildInfo</a></div><div class="ttdoc">Structure contenant les informations pour créer un service.</div><div class="ttdef"><b>Definition:</b> ServiceBuildInfo.h:124</div></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">class </span>StiffenedGasEOSService </div>
<div class="line">: <span class="keyword">public</span> ArcaneStiffenedGasEOSObject</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">   <span class="keyword">explicit</span> StiffenedGasEOSService(<span class="keyword">const</span> <a class="code" href="../../d8/dc4/classArcane_1_1ServiceBuildInfo.html">Arcane::ServiceBuildInfo</a>&amp; sbi)</div>
<div class="line">   : ArcaneStiffenedGasEOSObject(sbi) {}</div>
<div class="line">  </div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">   <span class="keywordtype">void</span> applyEOS(<span class="keyword">const</span> <a class="code" href="../../d8/d8e/classArcane_1_1ItemGroupT.html">Arcane::CellGroup</a>&amp; group)<span class="keyword"> override</span></div>
<div class="line"><span class="keyword">   </span>{ <span class="comment">// ... corps de la méthode }</span></div>
<div class="line">};</div>
</div><!-- fragment --><p>L'exemple précédent montre que Arcane impose que le constructeur d'un service prenne un object de type <code>ServiceBuildInfo</code> en paramètre pour le transmettre à sa classe de base. On peut également constater que le service hérite de l'interface définissant le contrat du service.</p>
<h2><a class="anchor" id="arcanedoc_service_connectarcane"></a>
Connexion du service à Arcane</h2>
<p>Une instance du service est contruite par l'architecture lorsque un module référence le service dans son jeu de données.</p>
<p>L'utilisateur doit donc fournir une fonction pour créer une instance de la classe du service. Arcane fournit une macro permettant de définir une fonction générique de création. Cette macro doit être écrite dans le fichier source où est défini le service.</p>
<p>Voici cette macro pour les exemples précédents :</p>
<div class="fragment"><div class="line">ARCANE_REGISTER_SERVICE_PERFECTGASEOS(PerfectGas, PerfectGasEOSService);</div>
<div class="line">ARCANE_REGISTER_SERVICE_STIFFENEDGASEOS(StiffenedGas, StiffenedGasEOSService);</div>
</div><!-- fragment --><p><em>PerfectGas</em> et <em>StiffenedGas</em> correspondent aux noms d'enregistrement dans Arcane et donc aux noms par lesquels les services seront référencés dans le jeu de données des modules. <em>PerfectGasEOSService</em> et <em>StiffenedGasEOSService</em> correspondent aux noms des classes C++.et les noms qui suivent <b>ARCANE_REGISTER_SERVICE_</b> permettent de définir la fonction de création.</p>
<p>Il est toutefois possible d'enregistrer un service même si celui-ci ne possède pas de fichier axl. Cela se fait par la macro <a class="el" href="../../d8/dff/group__Service.html#ga08ef55634029238ec40cbb93692033e8" title="Macro pour enregistrer un service.">ARCANE_REGISTER_SERVICE()</a>. Par exemple, pour enregistrer la class <em>MyClass</em> comme un service de sous-domaine de nom 'Toto', qui implémente l'interface 'IToto', on écrira:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d8/dff/group__Service.html#ga08ef55634029238ec40cbb93692033e8">ARCANE_REGISTER_SERVICE</a>(MyClass,</div>
<div class="line">                        ServiceProperty(<span class="stringliteral">&quot;Toto&quot;</span>,<a class="code" href="../../d0/d32/namespaceArcane.html#a76d8edd5679322dbbea6dd06488a0db4a9997b517d3c4ecb309d952431399bd2f">ST_SubDomain</a>),</div>
<div class="line">                        <a class="code" href="../../d3/d58/ServiceFactory_8h.html#aba44ad90916fb14522e59bab36dbf5f7">ARCANE_SERVICE_INTERFACE</a>(IToto));</div>
<div class="ttc" id="aServiceFactory_8h_html_aba44ad90916fb14522e59bab36dbf5f7"><div class="ttname"><a href="../../d3/d58/ServiceFactory_8h.html#aba44ad90916fb14522e59bab36dbf5f7">ARCANE_SERVICE_INTERFACE</a></div><div class="ttdeci">#define ARCANE_SERVICE_INTERFACE(ainterface)</div><div class="ttdoc">Macro pour déclarer une interface lors de l'enregistrement d'un service.</div><div class="ttdef"><b>Definition:</b> ServiceFactory.h:475</div></div>
<div class="ttc" id="agroup__Service_html_ga08ef55634029238ec40cbb93692033e8"><div class="ttname"><a href="../../d8/dff/group__Service.html#ga08ef55634029238ec40cbb93692033e8">ARCANE_REGISTER_SERVICE</a></div><div class="ttdeci">#define ARCANE_REGISTER_SERVICE(aclass, a_service_property,...)</div><div class="ttdoc">Macro pour enregistrer un service.</div><div class="ttdef"><b>Definition:</b> ServiceFactory.h:516</div></div>
<div class="ttc" id="anamespaceArcane_html_a76d8edd5679322dbbea6dd06488a0db4a9997b517d3c4ecb309d952431399bd2f"><div class="ttname"><a href="../../d0/d32/namespaceArcane.html#a76d8edd5679322dbbea6dd06488a0db4a9997b517d3c4ecb309d952431399bd2f">Arcane::ST_SubDomain</a></div><div class="ttdeci">@ ST_SubDomain</div><div class="ttdoc">Le service s'utilise au niveau du sous-domaine.</div><div class="ttdef"><b>Definition:</b> ServiceProperty.h:68</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">%Arcane</a></li>
    <li class="footer">Généré le Vendredi 22 Octobre 2021 09:11:02 pour Arcane par <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
