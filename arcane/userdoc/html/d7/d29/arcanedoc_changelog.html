<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arcane: Nouvelles fonctionnalités</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arcane
   &#160;<span id="projectnumber">3.7.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Recherche','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d7/d29/arcanedoc_changelog.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Nouvelles fonctionnalités </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table des matières</h3>
<ul><li class="level1"><a href="#arcanedoc_version370">Arcane Version 3.7.x (... aout 2022)</a></li>
<li class="level1"><a href="#arcanedoc_version360">Arcane Version 3.6.13 (06 juillet 2022)</a></li>
<li class="level1"><a href="#arcanedoc_version350">Arcane Version 3.5.7 (07 avril 2022)</a></li>
<li class="level1"><a href="#arcanedoc_version340">Arcane Version 3.4.5 (10 février 2022)</a></li>
<li class="level1"><a href="#arcanedoc_version330">Arcane Version 3.3.0 (16 décembre 2021)</a></li>
<li class="level1"><a href="#arcanedoc_version320">Arcane Version 3.2.0 (15 novembre 2021)</a></li>
<li class="level1"><a href="#arcanedoc_version310">Arcane Version 3.1.2 (21 octobre 2021)</a></li>
<li class="level1"><a href="#arcanedoc_version305">Arcane Version 3.0.5 (30 septembre 2021)</a></li>
<li class="level1"><a href="#arcanedoc_version303">Arcane Version 3.0.3 (Not released)</a></li>
<li class="level1"><a href="#arcanedoc_version301">Arcane Version 3.0.1 (27 mai 2021)</a></li>
<li class="level1"><a href="#arcanedoc_version2220">Arcane Version 2.22.0 (03 mars 2021)</a></li>
<li class="level1"><a href="#arcanedoc_version2200">Arcane Version 2.20.0 (07 janvier 2021)</a></li>
<li class="level1"><a href="#arcanedoc_version2190">Arcane Version 2.19.0 (30 juin 2020)</a></li>
<li class="level1"><a href="#arcanedoc_version2180">Arcane Version 2.18.0 (09 décembre 2019)</a></li>
<li class="level1"><a href="#arcanedoc_version2170">Arcane Version 2.17.0 (09 octobre 2019)</a></li>
<li class="level1"><a href="#arcanedoc_version2160">Arcane Version 2.16.0 (18 juillet 2019)</a></li>
<li class="level1"><a href="#arcanedoc_version2150">Arcane Version 2.15.0 (13 juin 2019)</a></li>
<li class="level1"><a href="#arcanedoc_version2140">Arcane Version 2.14.0 (04 mars 2019)</a></li>
<li class="level1"><a href="#arcanedoc_version2130">Arcane Version 2.13.0 (21 janvier 2019)</a></li>
<li class="level1"><a href="#arcanedoc_version2120">Arcane Version 2.12.0 (11 décembre 2018)</a></li>
<li class="level1"><a href="#arcanedoc_version2110">Arcane Version 2.11.0 (18 octobre 2018)</a></li>
<li class="level1"><a href="#arcanedoc_version2101">Arcane Version 2.10.1 (04 octobre 2018)</a></li>
<li class="level1"><a href="#arcanedoc_version2100">Arcane Version 2.10.0 (septembre 2018)</a></li>
<li class="level1"><a href="#arcanedoc_version291">Arcane Version 2.9.1 (juin 2018)</a></li>
<li class="level1"><a href="#arcanedoc_version280">Arcane Version 2.8.0 (31 janvier 2018)</a></li>
<li class="level1"><a href="#arcanedoc_version270">Arcane Version 2.7.0 (20 octobre 2017)</a></li>
<li class="level1"><a href="#arcanedoc_version261">Arcane Version 2.6.1 (18 septembre 2017)</a></li>
<li class="level1"><a href="#arcanedoc_version260">Arcane Version 2.6.0 (22 aout 2017)</a></li>
<li class="level1"><a href="#arcanedoc_version252">Arcane Version 2.5.2 (25 juillet 2017)</a></li>
<li class="level1"><a href="#arcanedoc_version251">Arcane Version 2.5.1 (04 mai 2017)</a></li>
<li class="level1"><a href="#arcanedoc_version250">Arcane Version 2.5.0 (15 mars 2017)</a></li>
<li class="level1"><a href="#arcanedoc_version242">Arcane Version 2.4.2 (13 Janvier 2017)</a></li>
<li class="level1"><a href="#arcanedoc_version241">Arcane Version 2.4.1 (01 Décembre 2016)</a></li>
<li class="level1"><a href="#arcanedoc_version240">Arcane Version 2.4.0 (Novembre 2016)</a></li>
<li class="level1"><a href="#arcanedoc_version239">Arcane Version 2.3.9 (Septembre 2016)</a><ul><li class="level2"><a href="#arcanedoc_version239_simd">Amélioration de la vectorisation</a></li>
<li class="level2"><a href="#arcanedoc_version239_misc">Améliorations diverses</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_doc_changelog"></a></p>
<p>Cette page contient les nouveautés de chaque version de Arcane.</p>
<h1><a class="anchor" id="arcanedoc_version370"></a>
Arcane Version 3.7.x (... aout 2022)</h1>
<p>WIP</p>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Ajoute possibilité de spécifier le mot clé <code>Auto</code> pour la variable CMake <code>ARCANE_DEFAULT_PARTITIONER</code>. Cela permet de choisir automatiquement lors de la configuration le partitionneur utilisé en fonction de ceux disponibles (#279).</li>
<li>Ajoute implémentation des synchronisations qui utilise la fonction <code>MPI_Neighbor_alltoallv</code> (#281).</li>
<li>Réduction de l'empreinte mémoire utilisée pour la gestion des connectivités suite aux différentes modifications internes</li>
</ul>
<p>Changements:</p>
<ul>
<li>Ajoute classe <a class="el" href="../../d0/d32/namespaceArcane.html" title="-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-">Arcane</a>:ItemTypeId pour gérer le type de l'entité (#294)</li>
<li>Le type de l'entité est maintenant conservé sur un Arcane::Int16 au lieu d'un Arcane::Int32 (#294)</li>
</ul>
<p>Corrections:</p>
<ul>
<li>Corrige bug lors de la lecture des informations avec le service <code>BasicReaderwriter</code> lorsqu'une compression est active (#299)</li>
<li>Corrige bug introduit dans la version 3.6 qui changeait le nom du répertoire de sortie pour les comparaisons bit à bit avec le service <code>ArcaneCeaVerifier</code> (#300).</li>
<li>Corrige mauvais recalcul du nombre maximum d'entités connectées à une entité dans le cas des particules (#301)</li>
</ul>
<p>Interne:</p>
<ul>
<li>Simplifie l'implémentation des synchronisations fournissant un mécanisme indépendant du type de la donnée (#282).</li>
<li>Utilise des variables pour gérer certaines données sur les entités telles que <a class="el" href="../../df/d5f/classArcane_1_1Item.html#a5651b2880e289af4cf8b93ef9164272c" title="Numéro du sous-domaine propriétaire de l&#39;entité">Arcane::Item::owner()</a>, <a class="el" href="../../d7/dac/classArcane_1_1ItemBase.html#a95f27b8a13b84942b706e131915a9d93" title="Type de l&#39;entité">Arcane::Item::typeId()</a>. Cela permettra à terme de rendre ces informations accessibles sur accélérateurs (#284, #285, #292, #295)</li>
<li>Ajout d'une classe <a class="el" href="../../d7/dac/classArcane_1_1ItemBase.html" title="Classe de base pour les entités du maillage.">Arcane::ItemBase</a> servant de classe de base pour <a class="el" href="../../df/d5f/classArcane_1_1Item.html" title="Classe de base d&#39;un élément de maillage.">Arcane::Item</a> et <a class="el" href="../../dd/df1/classArcane_1_1ItemInternal.html">Arcane::ItemInternal</a> (#298).</li>
<li>Suppression d'une indirection lorsqu'on accède aux informations des connectivités à partir d'une entité (par exemple <a class="el" href="../../d4/d55/classArcane_1_1ItemWithNodes.html#a4e5c2583373ef18e3197574686d02775" title="i-ème noeud de l&#39;entité">Arcane::Cell::node()</a>) (#298).</li>
<li>Simplification de la gestion des informations communes aux entités dans une famille pour qu'il n'y ait maintenant plus qu'une seule instance commune de '<a class="el" href="../../df/d0b/classArcane_1_1ItemSharedInfo.html">Arcane::ItemSharedInfo</a>' (#290, #292, #297).</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version360"></a>
Arcane Version 3.6.13 (06 juillet 2022)</h1>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Ajout d'une interface <a class="el" href="../../d6/de2/classArcane_1_1IRandomNumberGenerator.html" title="Interface pour un générateur de nombre aléatoire.">Arcane::IRandomNumberGenerator</a> pour un service de génération de nombre aléatoire (#266)</li>
<li>Ajoute support des variables matériaux dans les fichiers <code>axl</code> pour le générateur C# (#273)</li>
<li>Supprime allocation de la connectivité des noeuds dans les anciennes connectivités. Cela permet de réduire l'empreinte mémoire (#231).</li>
<li>Ajoute pour les classes <a class="el" href="../../dd/d9f/classArccore_1_1Span.html" title="Vue d&#39;un tableau d&#39;éléments de type T.">Arccore::Span</a>, <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a>, <a class="el" href="../../db/d8c/classArccore_1_1ConstArrayView.html" title="Vue constante d&#39;un tableau de type T.">Arccore::ConstArrayView</a> ainsi que les vues sur les variable l'opérateur 'operator()' qui se comporte comme l'opérateur 'operator[]'. Cela permet d'uniformiser les écritures entre les différents conteneurs et les vues associées (#223, #222, #205).</li>
<li>Ajoute dans <a class="el" href="../../d3/d5d/classArcane_1_1ICartesianMeshGenerationInfo.html">Arcane::ICartesianMeshGenerationInfo</a> les informations sur l'origine et la dimension du maillage cartésien (#221).</li>
<li>Ajoute en fin d'exécution des statistiques collectives sur les temps passés dans les opérations d'échange de message. Ces statistiques comprennent le temps minimal, maximal et moyen pour l'ensemble des rangs passés dans ces appels (#220)</li>
<li>Ajoute deux implémentations supplémentaires pour la synchronisation des matériaux. La version 7 permet de faire une seule allocation lors de cette synchronisation et la version 8 permet de conserver cette allocation d'une synchronisation à l'autre (#219).</li>
<li>Ajoute implémentation des synchronisations en plusieurs phases permettant d'utiliser des tableaux de taille fixe et/ou de faire sur une sous-partie des voisins (#214).</li>
<li>Ajoute accès pour les accélérateurs à certaines méthodes de <a class="el" href="../../d8/d5d/classArcane_1_1MDSpan.html">Arcane::MDSpan</a> (#217).</li>
<li>Ajoute accès aux connectivités aux arêtes dans <a class="el" href="../../d5/db4/classArcane_1_1UnstructuredMeshConnectivityView.html" title="Vue sur les connectivités standards d&#39;un maillage non structuré.">Arcane::UnstructuredMeshConnectivityView</a> (#216)</li>
<li>Ajoute interface accessible via '<a class="el" href="../../d0/d9f/classArcane_1_1IMesh.html#afea4026a3c4f5b7bdd261f6c8805344b" title="Interface du gestionnaire des connectivités incrémentales indexées.">Arcane::IMesh::indexedConnectivityMng()</a>' permet de facilement ajouter de nouvelles connectivités (#201).</li>
<li>Ajout d'un nouvel algorithme de calcul des uniqueId() des arêtes (Edge) pour les maillages cartésiens</li>
<li>Ajoute support pour les classes de <a class="el" href="../../d5/d60/namespaceArccore.html" title="Espace de nom de Arccore.">Arccore</a> de l'opérateur <code>operator[]</code> avec arguments multiples (#241).</li>
<li>Possibilité de rendre thread-safe les appels à <a class="el" href="../../de/dae/namespaceArcane_1_1Accelerator.html#a03c277b9b5cda10acc53f493d26ef2e2" title="Créé une file temporaire associée à runner.">Arcane::Accelerator::makeQueue()</a> en appelant la méthode <a class="el" href="../../d1/d61/classArcane_1_1Accelerator_1_1Runner.html#a09a3936aa207a91e8c79b468b7a8d6b1" title="Indique si on autorise la création de RunQueue depuis plusieurs threads.">Arcane::Accelerator::Runner::setConcurrentQueueCreation()</a> (#242)</li>
</ul>
<p>Changements:</p>
<ul>
<li>Scinde en deux composantes les classes gérant les matériaux. Une partie est maintenant dans la composante <code>arcane_core</code>. Ce changement est normalement transparent pour les utilisateurs d'Arcane et il n'y a pas besoin de modifier les sources (#264,#270,#274)</li>
<li>Compacte les références après un appel à <a class="el" href="../../dd/d0a/classArcane_1_1IItemFamily.html#aaf93adc45a3cbe9902aa1516774449bb" title="Compacte les entités.">Arcane::IItemFamily::compactItems()</a>. Cela permet d'éviter de faire grossir inutilement le tableau des contenant les informations internes des entités. Comme ce changement peut induire une différence sur l'ordre de certaines opérations, il est possible de le désactiver en positionnant la variable d'environnement <code>ARCANE_USE_LEGACY_COMPACT_ITEMS</code> à la valeur <code>1</code> (#225).</li>
<li>Les types gérant le <code>localId()</code> associés aux entités (Arcane::NodeLocalId, Arcane::CellLocalId, ...) sont maintenant des <code>typedef</code> d'une classe template <a class="el" href="../../d6/d48/classArcane_1_1ItemLocalIdT.html" title="Index d&#39;une entité ItemType dans une variable.">Arcane::ItemLocalIdT</a>.</li>
<li>Supprime dans les opérateurs d'accès aux variables (operator[]) les différentes surcharges. Il faut maintenant utiliser un '<a class="el" href="../../d6/d48/classArcane_1_1ItemLocalIdT.html" title="Index d&#39;une entité ItemType dans une variable.">Arcane::ItemLocalIdT</a>' comme indexeur. Des opérateurs de conversion vers ce type ont été ajoutés pour que le code source reste compatible.</li>
<li>Désenregistre automatiquement les variables encores allouées lorsqu'on appelle <a class="el" href="../../d7/d7c/classArcane_1_1IVariableMng.html#af698dcee211de6441a69ee4a3500ec08" title="Supprime et détruit les variables gérées par ce gestionnaire.">Arcane::IVariableMng::removeAllVariables()</a>. Cela permet d'éviter des plantages lorsque des références aux variables existaient encore après cet appel. Cela peut notamment être le cas avec les extensions C# car les services et modules associés sont gérés par un 'Garbage Collector' (#200).</li>
<li>Rend obsolète l'utilisation de <a class="el" href="../../d3/d97/classArcane_1_1Timer.html#a5ecbb50fcc50bbeb9fc6aefa917b76cfa673badf142cf3dcf49e494b1849a1004" title="Timer utilisant le temps CPU (obsolète).">Arcane::Timer::TimerVirtual</a>. Les timers qui utilisent cette propriété se comportent comme s'ils avaient l'attribut <a class="el" href="../../d3/d97/classArcane_1_1Timer.html#a5ecbb50fcc50bbeb9fc6aefa917b76cfa37c3cdc43847b81534b98a20b0464232" title="Timer utilisant le temps réel.">Arcane::Timer::TimerReal</a>.</li>
</ul>
<p>Corrections:</p>
<ul>
<li>Corrige mauvaises valeurs de <a class="el" href="../../dd/d0a/classArcane_1_1IItemFamily.html#af6353c856052dad1d80a8f38620ff632" title="Informations sur la connectivité locale au sous-domaine pour à cette famille.">Arcane::IItemFamily::localConnectivityInfos()</a> et <a class="el" href="../../dd/d0a/classArcane_1_1IItemFamily.html#a645040c925b51b1c7522730b1ae6ed3b" title="Informations sur la connectivité globales à tous les sous-domaines.">Arcane::IItemFamily::globalConnectivityInfos()</a> pour les connectivités autres que celles aux noeuds. Ce bug avait été introduit lors du passage aux nouvelles connectivités (#230, #27).</li>
<li>Corrige divers bugs dans la version 3 de BasicReaderWriter (#238)</li>
</ul>
<p>Interne:</p>
<ul>
<li>Utilise des variables pour conserver les champs <a class="el" href="../../d7/dac/classArcane_1_1ItemBase.html#a4ecbf8f24852890cfe6d09202c2ef17f" title="Numéro du sous-domaine propriétaire de l&#39;entité">Arcane::ItemInternal::owner()</a> et <a class="el" href="../../d7/dac/classArcane_1_1ItemBase.html#a5030296e5244ff3c2cc6fc65dba7d128" title="Flags de l&#39;entité">Arcane::ItemInternal::flags()</a> au lieu de conserver l'information dans <a class="el" href="../../df/d0b/classArcane_1_1ItemSharedInfo.html">Arcane::ItemSharedInfo</a>. Cela permettra à terme de supprimer le champ correspondant dans <a class="el" href="../../df/d0b/classArcane_1_1ItemSharedInfo.html">Arcane::ItemSharedInfo</a> (#227).</li>
<li>Passage version 2.0.3.0 de Axlstar:<ul>
<li>Ajoute support dans les fichiers 'axl' des propriétés <a class="el" href="../../d5/d96/classArcane_1_1IVariable.html#a48f18c4778be07ab6b84feb05333efeda238fcf2bcda831cc90dcfa64c3ffbb9d" title="Indique que la variable ne doit pas être échangée.">Arcane::IVariable::PNoExchange</a>, <a class="el" href="../../d5/d96/classArcane_1_1IVariable.html#a48f18c4778be07ab6b84feb05333efeda4b0e4cce42148af5a5fbd5234bcf1b26" title="Indique que la variable n&#39;a pas forcément la même valeur entre les réplicas.">Arcane::IVariable::PNoReplicaSync</a> et <a class="el" href="../../d5/d96/classArcane_1_1IVariable.html#a48f18c4778be07ab6b84feb05333efeda95666b8d66545776f3b8692179544313" title="Indique que la variable est persistante.">Arcane::IVariable::PPersistant</a>.</li>
</ul>
</li>
<li>Passage version 2.0.11.0 de Arccore:<ul>
<li>Add function <code>mpDelete()</code> to destroy <code>IMessagePassingMng</code> instances (#258)</li>
<li>Optimizations in class <code>String</code>(#256,#247)<ul>
<li>Add move constructor String(String&amp;&amp;) and move copy operator operator=(String&amp;&amp;)</li>
<li>Make <code>String</code> destructor inline</li>
<li>Make method <code>String::utf16()</code> deprecated (replaced by <code><a class="el" href="../../d4/d8f/StringUtils_8h.html#ae436255d1b6c53e9ca1b68852afa5c97" title="Retourne la conversion de l&#39;instance dans l&#39;encodage UTF-16BE.">StringUtils::asUtf16BE()</a></code>)</li>
<li>Methods <code>String::bytes()</code> and <code>String::format</code> no longer throws exceptions</li>
<li>Add a namespace <code>StringUtils</code> to contains utilitarian functions.</li>
</ul>
</li>
<li>Add support for multisubscript <code>operator[]</code> from C++23 (#241)</li>
<li>Add <code>operator()</code> to access values of <code>ArrayView</code>, <code>ArrayView2</code>, <code>ArrayView3</code>, <code>ArrayView4</code>, <code>Span</code>, <code>Span2</code> and <code>const</code> versions of these views (#223).</li>
<li>Add <code>SmallSpan2</code> implementation for 2D arrays whose <code>size_type</code> is an <code>Int32</code> (#223).</li>
<li>Add <code>SpanImpl::findFirst()</code> method (#211)</li>
<li>Fix build on Ubuntu 22.04</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version350"></a>
Arcane Version 3.5.7 (07 avril 2022)</h1>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Ajoute classe <a class="el" href="../../d7/df6/classArcane_1_1SimdReal3x3.html" title="Représente un Real3x3 vectoriel.">Arcane::SimdReal3x3</a> et <a class="el" href="../../de/df7/classArcane_1_1SimdReal2x2.html" title="Représente un Real2x2 vectoriel.">Arcane::SimdReal2x2</a> qui sont l'équivalent vectorielle des <a class="el" href="../../d9/da0/classArcane_1_1Real3x3.html" title="Classe gérant une matrice de réel de dimension 3x3.">Arcane::Real3x3</a> et <a class="el" href="../../da/d4a/classArcane_1_1Real2x2.html" title="Classe gérant une matrice de réel de dimension 2x2.">Arcane::Real2x2</a></li>
<li>Support de la version 4.2 des fichiers de maillage au format VTK</li>
<li>Ajoute une nouvelle implémentation des synchronisations qui utilise l'appel <code>MPI_Sendrecv</code>.</li>
<li>Ajoute possibilité d'utiliser des messages collectifs (MPI_AllToAllv) au lieu de messages point à point lors de l´échange des entités suite à un équilibrage de charge. Ce mécanisme est temporairement accessible en spécifiant la variable d'environnement <code>ARCANE_MESH_EXCHANGE_USE_COLLECTIVE</code> (#138,#154).</li>
<li>Dans la comparaison bit à bit, ajoute possibilité de ne faire la comparaison qu'à la fin de l'exécution au lieu de le faire à chaque pas de temps. Cela se fait en spécifiant la variable d'environnement STDENV_VERIF_ONLY_AT_EXIT.</li>
<li>Ajoute générateur de maillages en nid d'abeille en 3D (#149).</li>
<li>Ajoute support pour spécifier la disposition des éléments (layout) dans la classe <a class="el" href="../../d9/d8e/classArcane_1_1NumArray.html">Arcane::NumArray</a>. Il existe actuellement deux dispositions implémentées: LeftLayout et RightLayout (#151)</li>
<li>Ajoute méthode <a class="el" href="../../d9/d8e/classArcane_1_1Accelerator_1_1RunQueue.html#a78dffab3997988ecd8ea3c385ea64892" title="Copie des informations entre deux zones mémoires.">Arcane::Accelerator::RunQueue::copyMemory()</a> pour faire des copies mémoire asynchrones (#152).</li>
<li>Améliore le support ROCM/HIP. Le support des GPU AMD est maintenant fonctionnellement équivalent à celui des GPU NVIDIA via Cuda (#158, #159).</li>
<li>Ajoute support pour la mémoire punaisée (Host Pinned Memory) pour CUDA et ROCM (#147).</li>
<li>Ajoute classe '<a class="el" href="../../d2/d0b/classArcane_1_1Accelerator_1_1RunQueueEvent.html" title="Evènement pour une file d&#39;exécution.">Arcane::Accelerator::RunQueueEvent</a>' pour supporter les évènements sur les '<a class="el" href="../../d9/d8e/classArcane_1_1Accelerator_1_1RunQueue.html" title="File d&#39;exécution pour accélérateur.">Arcane::Accelerator::RunQueue</a>' et permettre ainsi de synchroniser entre elle des files différentes (#161).</li>
</ul>
<p>Changements:</p>
<ul>
<li>Supprime les macros plus utilisées ARCANE_PROXY et ARCANE_TRACE (#145)</li>
</ul>
<p>Corrections:</p>
<ul>
<li>Corrige mauvaise détection de la version OneTBB 2021.5 suite à la suppression du fichier 'tbb_thread.h' (#146)</li>
<li>Corrige certaines informations cartésiennes manquantes lorsqu'il n'y a qu'une seule couche de maille en Y ou Z (#162).</li>
<li>Corrige implémentation manquante de 'Arccore::Span&lt;T&gt;::operator==' lorsque le type <code>T</code> n'est pas constant (#163).</li>
<li>Supprime quelques messages listings trop nombreux.</li>
</ul>
<p>Interne:</p>
<ul>
<li>Utilise au lieu de <a class="el" href="../../d3/d1d/classArccore_1_1UniqueArray2.html" title="Vecteur de données 2D avec sémantique par valeur (style STL).">Arccore::UniqueArray2</a> une implémentation spécifique pour le conteneur de <a class="el" href="../../d9/d8e/classArcane_1_1NumArray.html">Arcane::NumArray</a> (#150).</li>
<li>Utilise des <code>Int32</code> au lieu de <code>Int64</code> pour indexer les éléments dans <a class="el" href="../../d9/d8e/classArcane_1_1NumArray.html">Arcane::NumArray</a> (#153)</li>
<li>Ajoute <code>constexpr</code> et <code>noexcept</code> à certaines classes de <a class="el" href="../../d5/d60/namespaceArccore.html" title="Espace de nom de Arccore.">Arccore</a> (#156).</li>
<li>Passage version 2.0.9.0 de <a class="el" href="../../d5/d60/namespaceArccore.html" title="Espace de nom de Arccore.">Arccore</a></li>
</ul>
<h1><a class="anchor" id="arcanedoc_version340"></a>
Arcane Version 3.4.5 (10 février 2022)</h1>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Dans l'API accélérateur, support dans <a class="el" href="../../d9/d8e/classArcane_1_1NumArray.html">Arcane::NumArray</a> pour allouer directement la mémoire sur l'accélérateur. Auparavant seule la mémoire unifiée était disponible. L'énumération <a class="el" href="../../d0/d32/namespaceArcane.html#a062109fbc830e3fc0bbf317a2ba566ee" title="Liste des ressources mémoire disponibles.">Arcane::eMemoryRessource</a> et le type <a class="el" href="../../dc/df1/classArcane_1_1IMemoryRessourceMng.html" title="Gestion des ressources mémoire pour les CPU et accélérateurs.">Arcane::IMemoryRessourceMng</a> permettent de gérer cela (#111, #113).</li>
<li>Amélioration mineures sur la documentation (#117) :<ul>
<li>ajout des chemins relatifs pour les fichiers d'en-tête.</li>
<li>ajout des classes et type issus de Arccore</li>
</ul>
</li>
<li>Ajoute nouvelle méthode de calcul des uniqueId() des faces dans le cas cartésien. Cette nouvelle méthode permet une numérotation cartésienne des faces qui est cohérente avec celles des noeuds et des mailles. Pour l'utiliser, il faut spécifier l'option <code>&lt;face-numbering-version&gt;4&lt;/face-numbering-version&gt;</code> dans le jeu de données dans la balise du générateur de maillage (#104).</li>
<li>Ajoute option dans le post-processeur Arcane pour supprimer la sortie de dépouillement en fin de calcul.</li>
<li>Ajoute implémentation de <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#ab0d4c52945e483d4d1a29c55b6183190" title="Effectue un regroupement sur un processeurs. Il s&#39;agit d&#39;une opération collective....">Arcane::IParallelMng::gather()</a> et <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#a0c7462326468c87e2f096ccd965066f5" title="Effectue un regroupement sur tous les processeurs.">Arcane::IParallelMng::gatherVariable()</a> pour le mode mémoire partagée et le mode hybride</li>
<li>Ajoute dans <a class="el" href="../../d7/d08/classArcane_1_1Materials_1_1MeshMaterialInfo.html" title="Infos d&#39;un matériau d&#39;un maillage.">Arcane::Materials::MeshMaterialInfo</a> la liste des milieux dans lequels le matériau est présent</li>
<li>Support de la compilation avec le compilation NVIDIA HPC SDK.</li>
<li>Support (partiel) pour désallouer le maillage (<a class="el" href="../../d7/d89/classArcane_1_1IPrimaryMesh.html#ae021d61ee5a3243d7b0a80624ef38f4a" title="Désalloue le maillage.">Arcane::IPrimaryMesh::deallocate()</a>) ce qui permet de le réallouer à nouveau par la suite.</li>
<li>Ajoute générateur de maillage 2D en nid d'abeille.</li>
</ul>
<p>Changements:</p>
<ul>
<li>Ajoute namespace 'Arcane::' aux cibles <code>CMake</code> fournit par Arcane. Par exemple, la cible 'arcane_core' devient 'Arcane::arcane_core'. Les anciens noms restent valides (#120).</li>
<li>Rend obsolète la conversion de <a class="el" href="../../d6/dcd/classArcane_1_1ItemEnumerator.html" title="Enumérateur sur une liste d&#39;entités.">Arcane::ItemEnumerator</a> vers <a class="el" href="../../d7/d74/classArcane_1_1ItemEnumeratorT.html" title="Enumérateur sur une liste typée d&#39;entités.">Arcane::ItemEnumeratorT</a>. Cela permet d'éviter d'indexer par erreur une variable du maillage avec un énumérateur du mauvais type (par exemple indexer une variable aux mailles avec un énumérateur aux noeuds).</li>
</ul>
<p>Corrections:</p>
<ul>
<li>Corrige opérateur 'operator=' pour la classe '<a class="el" href="../../da/d4d/classArcane_1_1CellDirectionMng.html" title="Infos sur les mailles d&#39;une direction spécifique X,Y ou Z d&#39;un maillage structuré.">Arcane::CellDirectionMng</a>' (#109)</li>
<li>Corrige conversion inutile <code>Int64</code> vers <code>Int32</code> dans la construction des maillages cartésiens ce qui empêchait de dépasser 2^31 mailles (#98)</li>
<li>Corrige mauvais calcul des temps passés dans les synchronisations. Seul le temps de la dernière attente était utilisé au lieu du cumul (commit cf2cade961)</li>
<li>Corrige nom prise en compte de l'option 'MessagePassingService' en ligne de commande (commit 15670db4)</li>
</ul>
<p>Interne:</p>
<ul>
<li>Nettoyage de l'API Accélérateur</li>
</ul>
<p>Passage version 2.0.8.1 de Arccore:</p>
<ul>
<li>Improve doxygen documentation for types et classes in <code>message_passing</code> component.</li>
<li>Add functions in <code>message_passing</code> component to handle non blocking collectives (#116, #118)</li>
<li>Add some '#defines' to compile with <a href="https://github.com/illuhad/hipSYCL">hipSYCL</a>.</li>
<li>Update '_clang-format' file for version 13 of LLVM/Clang.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version330"></a>
Arcane Version 3.3.0 (16 décembre 2021)</h1>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Ajoute possibilité de spécifier le nombre maximum de messages en vol lors d'un équilibrage de charge. Pour l'instant cela se fait en spécifiant la variable d'environnement ARCANE_MESH_EXCHANGE_MAX_PENDING_MESSAGE.</li>
<li>Ajoute possibilité d'utiliser les <a class="el" href="../../da/d4a/classArcane_1_1Real2x2.html" title="Classe gérant une matrice de réel de dimension 2x2.">Arcane::Real2x2</a> et <a class="el" href="../../d9/da0/classArcane_1_1Real3x3.html" title="Classe gérant une matrice de réel de dimension 3x3.">Arcane::Real3x3</a> sur accélérateurs</li>
<li>Ajoute méthode <a class="el" href="../../dc/de8/MeshUtils_8h.html#a971d995f4b6dce8b2044e0647dc3081d" title="Affiche l&#39;utilisation mémoire des groupes du maillage.">Arcane::mesh_utils::printMeshGroupsMemoryUsage()</a> pour afficher la consommation mémoire associée aux groupes et <a class="el" href="../../dc/de8/MeshUtils_8h.html#a6faaf6603de9c225a1d4d9767c1b8df1" title="Limite au plus juste l&#39;usage mémoire des groupes.">Arcane::mesh_utils::shrinkMeshGroups()</a> pour redimensionner au plus juste la mémoire utilisée par les groupes</li>
<li>Support pour punaiser les threads (voir <a class="el" href="../../da/da4/arcanedoc_launcher.html">Lancement d'un calcul</a>)</li>
</ul>
<p>Changements:</p>
<ul>
<li>Ajoute espace de nom <a class="el" href="../../d9/d15/namespaceArcane_1_1ParallelMngUtils.html" title="Fonctions utilitaires associées à IParallelMng.">Arcane::ParallelMngUtils</a> pour contenir les fonctions utilitaires de <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html" title="Interface du gestionnaire de parallélisme pour un sous-domaine.">Arcane::IParallelMng</a> au lieu d'utiliser les méthodes virtuelles de cette interface. Les nouvelles méthodes remplacent <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#ad9a6d5dab95b24608e26bec7be9dcb70" title="Retourne une opération pour récupérer les valeurs d&#39;une variable sur les entités d&#39;un autre sous-doma...">Arcane::IParallelMng::createGetVariablesValuesOperation()</a>, <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#a3e1208e29e02af560fb071327d5eaa4d" title="Retourne une opération pour transférer des valeurs entre sous-domaine.">Arcane::IParallelMng::createTransferValuesOperation()</a>, <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#a56bd71b6a839874d1f55d336d601f84a" title="Retourne une interface pour transférer des messages entre processeurs.">Arcane::IParallelMng::createExchanger()</a>, <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#a6c72e09570f43456347187113eec7ce2" title="Retourne une interface pour synchroniser des variables sur le groupe de la famille family.">Arcane::IParallelMng::createSynchronizer()</a>, <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#a7326773495c225358754253148db4e77" title="Créé une instance contenant les infos sur la topologie des rangs de ce gestionnnaire.">Arcane::IParallelMng::createTopology()</a>.</li>
<li>Rend obsolète les accès à <code><a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a>&lt;Array&lt;T&gt;&gt;</code> dans <a class="el" href="../../d3/d60/classArcane_1_1CaseOptionMultiSimpleT.html" title="Option du jeu de données de type liste de types simples (réel, entier, booléen, .....">Arcane::CaseOptionMultiSimpleT</a>. Il faut utiliser la méthode <a class="el" href="../../d3/d60/classArcane_1_1CaseOptionMultiSimpleT.html#ac3471a7ecb96375e60e4d7e8615df18c" title="Vue sur les éléments de l&#39;option.">Arcane::CaseOptionMultiSimpleT::view()</a> à la place.</li>
</ul>
<p>Corrections:</p>
<ul>
<li>Ajoute une version 4 pour le calcul des couches fantômes qui permet d'appeler <a class="el" href="../../d9/d71/classArcane_1_1IMeshModifier.html#a0257bc0224d9753dfc8658e21be4c01f" title="Mise à jour de la couche fantôme.">Arcane::IMeshModifier::updateGhostLayers()</a> même s'il y a déjà une ou plusieurs couches de mailles fantomes.</li>
</ul>
<p>Interne:</p>
<ul>
<li>Nettoyage de la gestion des messages des synchronisations</li>
<li>Débute support accélérateurs pour la version ROCM/HIP (AMD)</li>
<li>Support pour la version 2.34 de la glibc qui ne contient plus les 'hooks' de gestion mémoire (ce mécanisme était obsolète depuis des années).</li>
<li>Ajoute possibilité de compiler avec le standard C++20.</li>
</ul>
<p>Passage version 2.0.6.0 de Arccore:</p><ul>
<li>Update Array views (#76)<ul>
<li>Add <code>constexpr</code> and <code>noexcept</code> to several methods of <code><a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a></code>, <code><a class="el" href="../../db/d8c/classArccore_1_1ConstArrayView.html" title="Vue constante d&#39;un tableau de type T.">Arccore::ConstArrayView</a></code> and <code><a class="el" href="../../dd/d9f/classArccore_1_1Span.html" title="Vue d&#39;un tableau d&#39;éléments de type T.">Arccore::Span</a></code></li>
<li>Add converters from <code>std::array</code></li>
</ul>
</li>
<li>Separate metadata from data in '<a class="el" href="../../db/d34/classArccore_1_1AbstractArray.html" title="Classe abstraite de base d&#39;un vecteur.">Arccore::AbstractArray</a>' (#72)</li>
<li>Deprecate <code><a class="el" href="../../d9/d09/classArccore_1_1Array.html#a862cec7fc1dfb3867c7fe98e3fdda82f" title="Clone le tableau.">Arccore::Array::clone()</a></code>, <code>Arccore::Array2::clone()</code> and make <code><a class="el" href="../../d1/da2/classArccore_1_1Array2.html" title="Classe représentant un tableau 2D classique.">Arccore::Array2</a></code> constructors protected (#71)</li>
<li>Add support for compilation with AMD ROCM HIP (e5d008b1b79b59)</li>
<li>Add method <code><a class="el" href="../../d0/df9/classArccore_1_1ITraceMng.html#a0d160f1bfd88fff09eebd0207c285c93" title="Effectue un fatal() sur un message déjà fabriqué.">Arccore::ITraceMng::fatalMessage()</a></code> to throw a <code><a class="el" href="../../d9/d4e/classArccore_1_1FatalErrorException.html" title="Exception lorsqu&#39;une erreur fatale est survenue.">Arccore::FatalErrorException</a></code> in a method marked <code>[[noreturn]]</code></li>
<li>Add support to compile with C++20 with <code>ARCCORE_CXX_STANDARD</code> optional CMake variable (665292fce)</li>
<li>[INTERNAL] Add support to change return type of <code>IMpiProfiling</code> methods. These methods should return <code>int</code> instead of <code>void</code></li>
<li>[INTERNAL] Add methods in <code>MpiAdapter</code> to send and receive messages without gathering statistics</li>
<li>[INTERNAL] Add methods in <code>MpiAdapter</code> to disable checking of requests. These checks are disabled by default if CMake variable <code>ARCCORE_BUILD_MODE</code> is <code>Release</code></li>
</ul>
<h1><a class="anchor" id="arcanedoc_version320"></a>
Arcane Version 3.2.0 (15 novembre 2021)</h1>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Ajoute une interface <a class="el" href="../../d8/d7d/classArcane_1_1IMeshPartitionerBase.html" title="Interface d&#39;un partitionneur de maillage.">Arcane::IMeshPartitionerBase</a> pour faire uniquement le partitionnement sans support pour le repartionnement. L'interface <a class="el" href="../../dc/dd8/classArcane_1_1IMeshPartitioner.html" title="Interface d&#39;un partitionneur de maillage.">Arcane::IMeshPartitioner</a> hérite maintenant de <a class="el" href="../../d8/d7d/classArcane_1_1IMeshPartitionerBase.html" title="Interface d&#39;un partitionneur de maillage.">Arcane::IMeshPartitionerBase</a>.</li>
<li>Ajoute dans <a class="el" href="../../d5/de9/classArcane_1_1MeshReaderMng.html" title="Gestionnaire de lecteurs de maillage.">Arcane::MeshReaderMng</a> la possibilité de créer des maillages avec un <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html" title="Interface du gestionnaire de parallélisme pour un sous-domaine.">Arcane::IParallelMng</a> quelconque via la méthode <a class="el" href="../../d5/de9/classArcane_1_1MeshReaderMng.html#a16f4a3e9ff3c366857e59a2ec68e026a" title="Lit le maillage dont le nom de fichier est file_name.">Arcane::MeshReaderMng::readMesh()</a>.</li>
<li>Ajoute une interface <a class="el" href="../../d8/d13/classArcane_1_1IGridMeshPartitioner.html" title="Interface d&#39;un partitionneur de maillage sur une grille.">Arcane::IGridMeshPartitioner</a> pour partitionner un maillage suivant une grille. Un service de nom <code>SimpleGridMeshPartitioner</code> implémente cette interface. La page <a class="el" href="../../d7/dc1/arcanedoc_snippet_cartesianmesh.html#arcanesnippet_imeshgridpartitioner1">Exemple d'utilisation de IGridMeshPartitioner</a> montre un exemple d'utilisation.</li>
</ul>
<p>Changements:</p>
<ul>
<li>Passage version CMake 3.18 sur les machines Unix et CMake 3.21 sous Windows.</li>
<li>Rend obsolète dans <a class="el" href="../../d7/dbb/classArcane_1_1ItemTypeMng.html" title="Gestionnaire des types d&#39;entités de maillage.">Arcane::ItemTypeMng</a> la méthode <code>singleton()</code>. Les instances de cette classe sont attachées au maillage et peuvent être récupérées via <a class="el" href="../../d0/d9f/classArcane_1_1IMesh.html#a562dd7bfb64e11c2c206c26998ef6309" title="Gestionnaire de types d&#39;entités associé">Arcane::IMesh::itemTypeMng()</a>.</li>
<li>Déplace les classes gérant le maillage cartésian dans le répertoire <code>arcane/cartesianmesh</code>. Les anciens chemins dans <code>arcane/cea</code> restent valides.</li>
<li>Utilise par défaut la version 3 (au lieu de 2) du service de création des mailles fantômes. Cette version est plus efficace lorsqu'on utilise un grand nombre de sous-domaines car elle utilise des communications collectives.</li>
<li>Supprime la préallocation mémoire pour les anciennes connectivités.</li>
<li>Rend privé à Arcane les constructeurs de <a class="el" href="../../df/d0b/classArcane_1_1ItemSharedInfo.html">Arcane::ItemSharedInfo</a></li>
<li>Lance une exception fatale si on demande le support des tâches mais qu'aucune implémentation n'est disponible. Auparavant, il y avait juste un message d'avertissement.</li>
</ul>
<p>Corrections:</p>
<ul>
<li>Corrige plantage (SEGV) lorsqu'on utilise les tâches et sous-tâches en séquentiel.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version310"></a>
Arcane Version 3.1.2 (21 octobre 2021)</h1>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Nouvelle implémentation des graphes de maillage utilisant les <code><a class="el" href="../../d0/d6c/classArcane_1_1DoF.html" title="classe degré de liberté.">Arcane::DoF</a></code>.</li>
<li>Ajoute possibilité de renuméroter (via la méthode <a class="el" href="../../d1/d62/classArcane_1_1ICartesianMesh.html#a47bf4b286b4529945776d70e6385c386" title="Renumérote les uniqueId() des entités.">Arcane::ICartesianMesh::renumberItemsUniqueId()</a>) les entités dans les maillages AMR par patch pour avoir la même numérotation quel que soit le découpage.</li>
<li>Mise à jour de la documentation pour les accélérateurs</li>
</ul>
<p>Changements:</p>
<ul>
<li>Le lecteur de maillage au format <code>GMSH</code> est maintenant dans la bibliothèque <code>arcane_std</code> au lieu de <code>arcane_ios</code>. Il n'y a donc plus besoin de faire l'édition de lien avec cette dernière pour pouvoir lire les maillages de ce format.</li>
<li>Suppression des anciens types d'entités <code>Link</code> et <code>DualNode</code> et des énumérations et classes associées</li>
<li>Suppression de certaines classes associées aux anciennes connectivités</li>
<li>Supprime le support pour le système d'exploitation RedHat 6.</li>
</ul>
<p>Corrections:</p>
<ul>
<li>Corrige plantage lors de la mise à jour des matériaux si la variable globale associée à un matériau est désallouée (<a class="el" href="../../d5/d96/classArcane_1_1IVariable.html#a85b4f33f92e041b1f0a38266df83b8f7" title="Etat d&#39;utilisation de la variable.">Arcane::IVariable::isUsed()</a>==false)</li>
<li>Corrige exception flottante (FPE) avec les versions 2.9.9+ de <code>libxml2</code>. Cette bibliothèque fait explicitement des divisions par 0 lors de l'initialisation.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version305"></a>
Arcane Version 3.0.5 (30 septembre 2021)</h1>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Déplacement de la classe <a class="el" href="../../d9/d8e/classArcane_1_1NumArray.html">Arcane::NumArray</a> dans la composante <code>utils</code>. Cela permet de la rendre accessible en dehors de son usage pour les accélérateurs</li>
<li>Modifications diverses dans <a class="el" href="../../d9/d8e/classArcane_1_1NumArray.html">Arcane::NumArray</a> et les classes associées (notamment <a class="el" href="../../d8/d5d/classArcane_1_1MDSpan.html">Arcane::MDSpan</a>) pour les rendre plus génériques et pour leur usage future dans les variables Arcane.</li>
<li>Simplifie et étend l'utilisation de <a class="el" href="../../d5/db4/classArcane_1_1UnstructuredMeshConnectivityView.html" title="Vue sur les connectivités standards d&#39;un maillage non structuré.">Arcane::UnstructuredMeshConnectivityView</a></li>
<li>Ajoute méthode 'IVariable::dataFactoryMng()' pour récupérer le <a class="el" href="../../db/d04/classArcane_1_1IDataFactoryMng.html">Arcane::IDataFactoryMng</a> àssocié aux données de la variable.</li>
<li>Ajoute méthodes <a class="el" href="../../d6/d24/classArcane_1_1Real2.html#a1a9d4889f732c41513c6f1e12c59c99f" title="Retourne la norme du couple .">Arcane::Real2::normL2()</a>, <a class="el" href="../../d1/da6/classArcane_1_1Real3.html#a6f85e0cc0ed6c46bd218f66e6e541955" title="Retourne la norme L2 du triplet .">Arcane::Real3::normL2()</a>, <a class="el" href="../../d6/d24/classArcane_1_1Real2.html#a267a2c2964510946ca659deaca2d6918" title="Retourne la norme au carré du couple .">Arcane::Real2::squareNormL2()</a> et Arcane::Real3::squareNormL3() pour remplacer les méthode '<a class="el" href="../../d9/dcd/group__GroupMathUtils.html#gaff723e00b8e31ff9dfca9fc551ae7062" title="Retourne la valeur absolue d&#39;un réel.">abs()</a>' et 'abs2()' de ces deux classes.</li>
<li>Ajoute méthodes <a class="el" href="../../d6/d24/classArcane_1_1Real2.html#a62e9c23e579d22abc54e758292b6e153" title="Valeur absolue composante par composante.">Arcane::Real2::absolute()</a>, <a class="el" href="../../d1/da6/classArcane_1_1Real3.html#ad58467a721fc94d5d62caaca5ba22257" title="Valeur absolue composante par composante.">Arcane::Real3::absolute()</a>, pour retourner un vecteur avec les valeurs absolues par composante.</li>
<li>Ajoute support pour la version OneTBB 2021.</li>
<li>Ajoute macros <a class="el" href="../../da/d9a/RunCommandEnumerate_8h.html#a96e4a267c3c5c0ea43afef025aa2a2b1" title="Macro pour itérer un groupe d&#39;entités.">RUNCOMMAND_ENUMERATE()</a> et <a class="el" href="../../d6/d52/RunCommandLoop_8h.html#ab7e14f7438197160df439871b0108540" title="Boucle sur accélérateur.">RUNCOMMAND_LOOP()</a> pour itérer sur les accélérateurs</li>
<li>Ajoute classe <a class="el" href="../../df/d02/classArcane_1_1Accelerator_1_1IAcceleratorMng.html" title="Interface du gestionnaire des accélérateurs.">Arcane::Accelerator::IAcceleratorMng</a> pour récupérer les informations pour utiliser les accélérateurs. Cette interface permet de récupérer l'environnement d'exécution par défaut et la file d'exécution par défaut.</li>
<li>Ajoute classe <a class="el" href="../../d0/d53/classArcane_1_1StandaloneAcceleratorMng.html" title="Implémentation autonome de &#39;IAcceleratorMng.h&#39;.">Arcane::StandaloneAcceleratorMng</a> pour utiliser les accélérateurs sans initialiser une application.</li>
<li>Ajoute support pour paralléliser en multi-thread les boucles imbriquées jusqu'à 4 niveaux (PR #10)</li>
</ul>
<p>Changements:</p>
<ul>
<li>Rend obsolète la classe interne <a class="el" href="../../dd/d5c/classArcane_1_1IDataFactory.html">Arcane::IDataFactory</a> et les méthodes correspondantes</li>
<li>Rend obsolète les méthodes <a class="el" href="../../db/d04/classArcane_1_1IDataFactoryMng.html#a6ba5087060658585790f91e381ad95ac" title="Créé des données sérialisées.">Arcane::IDataFactoryMng::createEmptySerializedDataRef()</a> et <a class="el" href="../../db/d04/classArcane_1_1IDataFactoryMng.html#a7eb46343336ccb560b8025b28a53d7a1" title="Créé des données sérialisées.">Arcane::IDataFactoryMng::createSerializedDataRef()</a></li>
<li>Supprime les méthodes obsolète <a class="el" href="../../d1/d15/classArcane_1_1IData.html#a1496a743509f6f6172338c84f6fc90c2" title="Clone la donnée. L&#39;instance créée doit être détruite par l&#39;opérateur &#39;delete&#39;.">Arcane::IData::clone()</a> et Arcane::IData::cloneTrue().</li>
</ul>
<p>Corrections:</p>
<ul>
<li>Corrige l'opérateur de recopie lorsqu'on utilise deux vues du même type. Comme l'opérateur de recopie n'était pas surchargé, seule la référence était modifiée et pas la valeur. Cela se produisait dans le cas suivant: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><span class="keyword">auto</span> v1 = <a class="code" href="../../d0/d32/namespaceArcane.html#ac94fa0b1a6f5e22d71c54246d0528408">viewInOut</a>(var1);</div>
<div class="line"><span class="keyword">auto</span> v2 = <a class="code" href="../../d0/d32/namespaceArcane.html#ac94fa0b1a6f5e22d71c54246d0528408">viewInOut</a>(var2);</div>
<div class="line"><a class="code" href="../../d6/d0f/ItemEnumerator_8h.html#aaf5910d68ad8428248f844535ab071f3">ENUMERATE_CELL</a>(icell,allCells()){</div>
<div class="line">  v2[icell] = v1[icell]; <span class="comment">// ERREUR: v2 faisait ensuite référence à v1.</span></div>
<div class="line">}</div>
<div class="ttc" id="aItemEnumerator_8h_html_aaf5910d68ad8428248f844535ab071f3"><div class="ttname"><a href="../../d6/d0f/ItemEnumerator_8h.html#aaf5910d68ad8428248f844535ab071f3">ENUMERATE_CELL</a></div><div class="ttdeci">#define ENUMERATE_CELL(name, group)</div><div class="ttdoc">Enumérateur générique d'un groupe de mailles.</div><div class="ttdef"><b>Definition:</b> ItemEnumerator.h:260</div></div>
<div class="ttc" id="anamespaceArcane_html"><div class="ttname"><a href="../../d0/d32/namespaceArcane.html">Arcane</a></div><div class="ttdoc">-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-</div><div class="ttdef"><b>Definition:</b> AbstractCaseDocumentVisitor.cc:20</div></div>
<div class="ttc" id="anamespaceArcane_html_ac94fa0b1a6f5e22d71c54246d0528408"><div class="ttname"><a href="../../d0/d32/namespaceArcane.html#ac94fa0b1a6f5e22d71c54246d0528408">Arcane::viewInOut</a></div><div class="ttdeci">auto viewInOut(MeshVariableScalarRefT&lt; ItemType, DataType &gt; &amp;var)</div><div class="ttdoc">Vue en lecture/écriture.</div><div class="ttdef"><b>Definition:</b> VariableView.h:442</div></div>
</div><!-- fragment --></li>
<li>Corrige erreur de compilation dans le constructeur Span&lt;const T&gt; à partir d'un 'ConstArrayView'.</li>
<li>[arccore] Corrige envoi de message manquant lors de l'appel à <a class="el" href="../../d2/dd6/classArccore_1_1MessagePassing_1_1PointToPointSerializerMng.html#afa74a9ed2bc790540249657b1e6e3b67" title="Attend que les messages aient terminé leur exécution.">Arccore::MessagePassing::PointToPointSerializerMng::waitMessages()</a>. Il manquait l'appel à <a class="el" href="../../d2/dd6/classArccore_1_1MessagePassing_1_1PointToPointSerializerMng.html#a147447aee320fab87c300ea6e33fc877" title="Envoie les messages de la liste qui ne l&#39;ont pas encore été.">Arccore::MessagePassing::PointToPointSerializerMng::processPendingMessages()</a>. A cause de ce bug, la classe Arcane::TransferValuesParallelOperation ne fonctionnait pas et par conséquent la méthode <a class="el" href="../../dd/d0a/classArcane_1_1IItemFamily.html#acd1ef98123427735c6d65e530dd9fb0a" title="Applique une opération de réduction depuis les entités fantômes.">Arcane::IItemFamily::reduceFromGhostItems()</a> non plus.</li>
<li>[config] Supporte le cas où plusieurs versions du SDK pour 'dotnet' sont installées. Dans ce cas la version la plus récente est utilisée.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version303"></a>
Arcane Version 3.0.3 (Not released)</h1>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Support de l'AMR par patch en parallèle</li>
<li>Ajout d'une classe <a class="el" href="../../de/d9a/classArcane_1_1SimpleSVGMeshExporter.html" title="Exportation d&#39;un maillage au format SVG.">Arcane::SimpleSVGMeshExporter</a> pour exporter au format SVG un ensemble de mailles</li>
<li>Support dans l'AMR par patch dans la classe <a class="el" href="../../dd/d6e/classArcane_1_1DirNode.html" title="Noeud avant et après un noeud suivant une direction.">Arcane::DirNode</a> des mailles voisines par direction.</li>
<li>Lors de la synchronisation des groupes, s'assure que tous les sous-domaines ont les mêmes groupes et que la synchronisation se fait dans le même ordre.</li>
</ul>
<p>Changements:</p>
<ul>
<li>Rend obsolète les méthodes <a class="el" href="../../da/dc0/classArcane_1_1IArrayDataT.html#a51f6ee45cfaa8e3a738ab90d2825cdad" title="Valeur de la donnée.">Arcane::IArrayDataT::value()</a> et <a class="el" href="../../dc/d51/classArcane_1_1IArray2DataT.html#a20324e951a372dffee7fa72f4d7a4917" title="Valeur de la donnée.">Arcane::IArray2DataT::value()</a>. On peut à la place utiliser les méthodes <a class="el" href="../../da/dc0/classArcane_1_1IArrayDataT.html#a0d86df54d6cac21d79b2c6a93af36710" title="Vue sur la donnée.">Arcane::IArrayDataT::view()</a> et <a class="el" href="../../dc/d51/classArcane_1_1IArray2DataT.html#a3d2aa2bf890d2c05d62429e4ab48e416" title="Vue sur la donnée.">Arcane::IArray2DataT::view()</a>. Le but de ces changements est de pouvoir masquer le conteneur utilisé pour l'implémentation</li>
<li>Ajoute méthodes <a class="el" href="../../d4/dad/group__Concurrency.html#ga3ccb4306b9c1745f2f5b2f72e727e9cd" title="Applique en concurrence la fonction lambda lambda_function sur l&#39;intervalle d&#39;itération [i0,...">Arcane::arcaneParallelFor()</a> et <a class="el" href="../../d4/dad/group__Concurrency.html#ga8cea6a6d467b818b0347af4bbbe1036c" title="Applique en concurrence la méthode function de l&#39;instance instance sur la vue items_view avec les opt...">Arcane::arcaneParallelForeach()</a> pour remplacer les différentes méthodes Arcane::Parallel::For() et <a class="el" href="../../d4/dad/group__Concurrency.html#gafe72b9ee3469b918af4c958bc16582be" title="Applique en concurrence la fonction lambda lambda_function instance sur la vue du composant items_vie...">Arcane::Parallel::Foreach()</a>.</li>
</ul>
<p>Corrections:</p>
<ul>
<li>Dans l'AMR par patch, s'assure que les entités voisines par direction sont toujours dans le même niveau de patch.</li>
<li>Corrige quelques dépendances manquantes lors de la compilation qui pouvaient entrainer des erreurs de compilation dans certains cas.</li>
<li>Corrige erreurs de compilation des exemples en dehors du répertoire des sources.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version301"></a>
Arcane Version 3.0.1 (27 mai 2021)</h1>
<p>Cette version est la première version 'open source' de Arcane.</p>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Nouvelle version du service de lecture/écriture Arcane::BasicReaderWriter pour générer moins de fichier et supporter la compression. Ce service peut être utilisé à la fois pour les protections/reprises et la comparaison bit à bit de variables. L'utilitaire C# de comparaison de variables a été mis à jour pour supporter cette nouvelle version.</li>
<li>Support des fichiers de maillage au format 'msh' version 4.1. Cette version permet de spécifier des groupes de faces ou de mailles dans le fichier de maillage.</li>
<li>En interne, utilise un seul exécutable pour l'ensemble des utilitaires C#.</li>
</ul>
<p>Changements:</p>
<ul>
<li>Ajoute possibilité lors de la compilation de Arcane de spécifier les packages requis et de ne pas chercher de packages par défaut.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2220"></a>
Arcane Version 2.22.0 (03 mars 2021)</h1>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Support des protections/reprises pour les maillages AMR</li>
<li>Modifications internes pour le support des accélérateurs, notamment le support des cartes graphiques (GPGPU).</li>
<li>Suppression des classes et familles d'entités pour les Arcane::DualNode et Arcane::Link. Ces classes peuvent être remplacées par l'utilisation de <a class="el" href="../../d0/d6c/classArcane_1_1DoF.html" title="classe degré de liberté.">Arcane::DoF</a>.</li>
<li>Support partiel des fichiers de maillage au format 'msh' version 4.1.</li>
</ul>
<p>Changements:</p>
<ul>
<li>[IMPORTANT] Cette version utilise par défaut les nouvelles structures de connectivités. Cela ne devrait normalement pas avoir d'impact sur les codes existants à condition qu'ils n'utilisent pas les classes internes de Arcane qui gèrent les entités (comme par exemple <a class="el" href="../../dd/df1/classArcane_1_1ItemInternal.html">Arcane::ItemInternal</a>).</li>
<li>Les statistiques d'exécution sur les temps passés dans les différents points d'entrée et modules qui sont affichées à la fin du calcul contiennent maintenant le cumul sur l'ensemble des exécutions (en cas d'utilisation de protection/reprise) et plus seulement les statistiques sur l'exécution courante.</li>
<li>Simplification des différents mécanismes pour initialiser et exécuter un code utilisant Arcane (voir <a class="el" href="../../da/da4/arcanedoc_launcher.html">Lancement d'un calcul</a>)</li>
</ul>
<p>Corrections:</p>
<ul>
<li>Corrige problème potentiel en parallèle lors de la création du répertoire pour les protections. Il était possible pour certains processus de tenter d'accéder à ce répertoire avant sa création.</li>
<li>Corrige utilisation du script <code>arcane_convert_mesh</code> servant pour la conversion de maillages.</li>
<li>Ré-active la génération de la documentation des services et modules fournis par Arcane</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2200"></a>
Arcane Version 2.20.0 (07 janvier 2021)</h1>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Ajout d'une nouvelle interface '<a class="el" href="../../de/d5b/classArcane_1_1IAsyncParticleExchanger.html" title="Interface d&#39;un échangeur de particules asynchrone.">Arcane::IAsyncParticleExchanger</a>' permettant l'échange de particules de manière asynchronone. Un nouveau service <code>AsyncParticleExchanger</code> implémente cette interface.</li>
<li>Ajoute la possibilité de supprimer pour une variable la mémoire additionnelle éventuellement utilisées via la méthode <a class="el" href="../../d5/d96/classArcane_1_1IVariable.html#afa73162543c1920c7ce81a1922ebad1a" title="Libère l&#39;éventuelle mémoire supplémentaire allouée pour les données.">Arcane::IVariable::shrinkMemory()</a></li>
<li>Début du support pour le raffinement de maillage cartésien en 2D. Il est maintenant possible d'appeler <a class="el" href="../../d1/d62/classArcane_1_1ICartesianMesh.html#a61963389cc84dd948e90475d6793541f" title="Raffine en 2D un bloc du maillage cartésien.">Arcane::ICartesianMesh::refinePatch2D()</a> pour raffiner une partie du maillage</li>
<li>Support pour les <a class="el" href="../../d8/deb/classArccore_1_1MessagePassing_1_1MessageId.html" title="MessageId.">Arccore::MessagePassing::MessageId</a> dans les messages de sérialisation (<a class="el" href="../../df/d29/classArccore_1_1MessagePassing_1_1ISerializeMessage.html">Arccore::MessagePassing::ISerializeMessage</a>)</li>
<li>Support de la version 6.0.0 de Papi et des versions récentes de PETSc pour <code>aleph</code></li>
</ul>
<p>Changements:</p>
<ul>
<li>Unification de la documentation entre les parties CEA et la partie commune</li>
<li>Support des tests unitaires en parallèle (voir <a class="el" href="../../d3/de9/arcanedoc_user_unit_tests.html#arcanedoc_user_unit_tests_parallel">Tests unitaires en parallèle</a>)</li>
<li>Modifications des classes <a class="el" href="../../d1/d15/classArcane_1_1IData.html" title="Interface d&#39;une donnée.">Arcane::IData</a>, <a class="el" href="../../d9/d08/classArcane_1_1ISerializedData.html">Arcane::ISerializedData</a> pour utiliser <a class="el" href="../../de/d9f/classArccore_1_1Ref.html" title="Référence à une instance.">Arccore::Ref</a> pour gérer les références</li>
<li>Début refonte de la création et gestion de la mémoire des variables pour pouvoir à terme permettre aux développeurs d'ajouter leurs propres variables.</li>
</ul>
<p>Corrections:</p>
<ul>
<li>Corrige plantage lors de l'utilisation de PTScotch lors d'un partitionnement en cas de redistribution mono-noeud.</li>
<li>Nomme correctement le fichier 'ArcaneConfigVersion.cmake' pour pouvoir utiliser un numéro de version pour Arcane dans la commande CMake <code>find_package()</code>.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2190"></a>
Arcane Version 2.19.0 (30 juin 2020)</h1>
<dl class="section note"><dt>Note</dt><dd>Suite aux modifications dans la sérialisation, il n'est en général pas possible de reprendre avec cette version de Arcane un calcul commencé avec une version antérieure.</dd></dl>
<p>Changements:</p>
<ul>
<li>Afin de préparer la modularisation d'Arcane, la récupération du sous-domaine (<a class="el" href="../../d9/d1e/classArcane_1_1ISubDomain.html" title="Interface du gestionnaire d&#39;un sous-domaine.">Arcane::ISubDomain</a>) est obsolète via beaucoup de classes (<a class="el" href="../../d0/d9f/classArcane_1_1IMesh.html">Arcane::IMesh</a>, <a class="el" href="../../d5/d96/classArcane_1_1IVariable.html">Arcane::IVariable</a>, <a class="el" href="../../dd/d74/classArcane_1_1ICaseOptions.html">Arcane::ICaseOptions</a>, ...). Les codes ayant besoin d'une instance de <a class="el" href="../../d9/d1e/classArcane_1_1ISubDomain.html" title="Interface du gestionnaire d&#39;un sous-domaine.">Arcane::ISubDomain</a> doivent maintenant le passer explicitement aux méthodes ou classes l'utilisant. Les services et les modules continuent d'avoir accès aux sous-domaines.</li>
<li>Utilisation de <a class="el" href="../../d7/d6f/classArcane_1_1MeshHandle.html" title="Handle sur un maillage.">Arcane::MeshHandle</a> au lieu de <a class="el" href="../../d0/d9f/classArcane_1_1IMesh.html">Arcane::IMesh</a>. Avec la possibilité d'utiliser les services pour créér des maillages, les maillages ne sont plus créés avant les services. La classe <a class="el" href="../../d7/d6f/classArcane_1_1MeshHandle.html" title="Handle sur un maillage.">Arcane::MeshHandle</a> permet de gérer une référence sur un maillage avant que ce dernier n'existe. Il faut notamment utiliser cette classe dans les constructeurs des modules et services. La méthode <a class="el" href="../../d7/d6f/classArcane_1_1MeshHandle.html#a7b31d224556f6c703eb114dabafaf5cd" title="Maillage associé.">Arcane::MeshHandle::mesh()</a> permet de récupérer le maillage associé s'il a déjà été créé.</li>
<li>Utilisation de la classe <a class="el" href="../../de/d9f/classArccore_1_1Ref.html" title="Référence à une instance.">Arccore::Ref</a> pour gérer les références sur les <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html" title="Interface du gestionnaire de parallélisme pour un sous-domaine.">Arcane::IParallelMng</a>. Par conséquent, la méthode <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#a415df1166135f6b0ac001f619c3d8aaa" title="Créé un nouveau gestionnaire de parallélisme pour un sous-ensemble des rangs.">Arcane::IParallelMng::createSubParallelMng()</a> est déclarée obsolète et il faut maintenant utiliser <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#a72e79ae36bbcb267391afa306aa56d17" title="Créé un nouveau gestionnaire de parallélisme pour un sous-ensemble des rangs.">Arcane::IParallelMng::createSubParallelMngRef()</a>.</li>
<li>Modification de Arccore::Span2::operator[]() pour retourner des <a class="el" href="../../dd/d9f/classArccore_1_1Span.html" title="Vue d&#39;un tableau d&#39;éléments de type T.">Arccore::Span</a> au lieu de <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a>. Cela permet d'être cohérent avec les autres méthodes de <a class="el" href="../../dd/d86/classArccore_1_1Span2.html" title="Vue pour un tableau 2D dont la taille est un &#39;Int64&#39;.">Arccore::Span2</a>.</li>
<li>Modification de <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html" title="Interface d&#39;un sérialiseur.">Arccore::ISerializer</a> pour supporter l'écriture directe de tableaux et vérifier la cohérence entre la lecture et l'écriture d'une valeur donnée. Cela nécessite que les appels <code>reserve()/put()/get()</code> soient cohérents. Par exemple, si on utilise la méthode <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html#afe665a86eae1ed4bac30fa89a254d0ca" title="Réserve pour sauver le nombre d&#39;éléments et les values éléments.">Arccore::ISerializer::reserveArray()</a>, il faut utiliser ensuite <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html#a970f6c7e4ea15d2ba37c33798e1916cc" title="Sauve le nombre d&#39;éléments et les values éléments.">Arccore::ISerializer::putArray()</a> et <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html#a6db5d0943909e5085b2bfe857b95876f" title="Redimensionne et remplit values.">Arccore::ISerializer::getArray()</a>. Suite à cette modification, les méthodes <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html#a0ba980fcc1dcf2f5b6d17d7f6dc1c414" title="Récupère le tableau values.">Arccore::ISerializer::get()</a> et <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html#aa9270d644b63f57f19cedd59848e10f0" title="Ajoute le tableau values.">Arccore::ISerializer::put()</a> qui prenaient un <a class="el" href="../../dd/d9f/classArccore_1_1Span.html" title="Vue d&#39;un tableau d&#39;éléments de type T.">Arccore::Span</a> ou <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a> en argument sont obsolètes</li>
<li>Utilisation d'une macro spécifique ARCANE_CHECK_MATH pour tester la validité des opérations mathématiques de <a class="el" href="../../d8/d68/namespaceArcane_1_1math.html" title="Espace de nom pour les fonctions mathématiques.">Arcane::math</a>. Auparavant cela était fait via la macro ARCANE_CHECK mais cela pouvait induire des effets de bord lorsqu'on comparait deux calculs avec et sans ce mode de vérification.</li>
</ul>
<p>Nouveautés/Améliorations:</p>
<ul>
<li>Nombreuses améliorations sur l'échange de messages:<ul>
<li>Support de toutes les méthodes de <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html" title="Interface du gestionnaire de parallélisme pour un sous-domaine.">Arcane::IParallelMng</a> en mode hybride et en mode mémoire partagée. En particulier, il manquait certaines méthodes de sérialisation.</li>
<li>Support des tags utilisateurs dans les méthodes point à point (send/receive)</li>
<li>Utilisation de types spécifiques pour gérer les tags (Arccore::MessageTag) et les rangs (Arccore::MessageRank). Ces types remplacent le type 'Int32' utilisé précédemment.</li>
<li>Unification de la gestion des méthodes point à point. Les paramètres nécessaires sont gérés par la classe Arccore::PointToPointMessageInfo.</li>
<li>support des méthodes MPI utilisant un <code>MPI_Message</code> (<code>MPI_Mprobe</code>, <code>MPI_Improbe</code>, <code>MPI_Imrecv</code>, <code>MPI_Mrecv</code>). Ces méthodes permettent de garantir qu'un <code>MPI_Recv</code> correspond bien au <code>MPI_Probe</code> utilisé précédemment. Ces mécanismes sont aussi accessibles en mode hybride.</li>
</ul>
</li>
<li>Support du partitionnement de maillage en mode mémoire partagée et hybride</li>
<li>Ajoute dans le partitionneur <code>Metis</code> un mode permettant d'utiliser un seul processus pour le partitionnement. Auparavant il était nécessaire d'utiliser au minumum deux processus (à cause d'un bug dans <code>ParMetis</code>)</li>
<li>Correction de l'algorithme permettant de garantir qu'il n'y a pas de partitions vides après utilisation de <code>ParMetis</code>.</li>
<li>Préparation de <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html" title="Interface d&#39;un sérialiseur.">Arccore::ISerializer</a> pour supporter à terme d'autres types de données (par exemple des 'Float32' ou 'Float16')</li>
<li>Enregistre un hash du nom de la variable lors des sérialisations. Cela permet de garantir qu'on est bien en train de désérialiser la bonne variable.</li>
<li>Amélioration diverses du lecteur/écrivain au format JSON</li>
<li>Génère dans les logs après un repartitionnement les informations sur les sous-domaines connectés à un sous-domaine.</li>
<li>Support de la compilation via l'outil 'spack'.</li>
<li>Dans le jeu de données, ajoute la possibilité de mettre un bloc <code>&lt;comment&gt;</code> en dessous de la racine. Cela est utile si un module n'est pas actif mais qu'on souhaite garder ses options. Il suffit alors de mettre ce bloc d'option entre les balises <code>&lt;comment&gt;</code> et <code>&lt;/comment&gt;</code>.</li>
<li>[.Net] Génère des packages <code>nuget</code> pour l'utilisation du wrapping. Il est donc possible de directement référencer ces pacakges plutôt que d'aller chercher directement les <code>.dll</code>. L'utilisation de packages <code>nuget</code> permet aussi de gérer automatiquement les dépendances.</li>
<li>[.Net] Passage à la version 3.1 de '.Net Core'.</li>
</ul>
<p>Les points suivants sont en cours de développement mais non finalisés:</p>
<ul>
<li>Gestion de la création des maillages sous forme de service. A terme seul ce mode sera disponible. Il permettra notamment de pouvoir créér des structures de maillages spécifiques (par exemple cartésien)</li>
<li>Refonte de l’initialisation pour permettre d’utiliser Arcane sans passer par une boucle en temps</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2180"></a>
Arcane Version 2.18.0 (09 décembre 2019)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Amélioration de l'implémentation de la classe <a class="el" href="../../d4/d2e/classArcane_1_1HPReal.html" title="Classe implémentant un réel Haute Précision.">Arcane::HPReal</a> qui corrige quelques cas limites et ajoute le support de la multiplication et de la division</li>
<li>Création d'une classe universelle <a class="el" href="../../de/d9f/classArccore_1_1Ref.html" title="Référence à une instance.">Arccore::Ref</a> pour gérer la durée de vie des objets tels que les services. Cette classe permet de détruire automatiquement un objet lorsqu'il n'y a plus de référence dessus. Les services alloués dynamiquement utilisent maintenant cette classe. Par exemple: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line">ISubDomain* sd = ...;</div>
<div class="line">ServiceBuilder&lt;IDataReader&gt; sb(sd);</div>
<div class="line">IDataReader* old_reader = sb.createInstance(...); <span class="comment">// Obsolète</span></div>
<div class="line"><a class="code" href="../../de/d9f/classArccore_1_1Ref.html">Arccore::Ref&lt;IDataReader&gt;</a> new_reader = sb.createReference(...); <span class="comment">// Nouveau mécanisme.</span></div>
<div class="ttc" id="aclassArccore_1_1Ref_html"><div class="ttname"><a href="../../de/d9f/classArccore_1_1Ref.html">Arccore::Ref</a></div><div class="ttdoc">Référence à une instance.</div><div class="ttdef"><b>Definition:</b> Ref.h:129</div></div>
</div><!-- fragment --> Via cette classe <a class="el" href="../../de/d9f/classArccore_1_1Ref.html" title="Référence à une instance.">Arccore::Ref</a>, il ne faut plus détruire explicitement un objet. La méthode <a class="el" href="../../d5/d60/namespaceArccore.html#a7c7dbb1a4a565ffa1d5a02fb0bf6cb1b" title="Créé une référence sur un pointeur.">Arccore::makeRef()</a> permet de créer une référence à partir d'un pointeur alloué par 'operator new'.</li>
<li>Refonte partielle du mécanisme de lecture des options du jeu de données. Le but à terme est de pouvoir utiliser autre chose que XML pour l'entrée des données. Les modifications concernent essentiellement les classes de bases gérant les options et ne devraient pas avoir d'incidence sur le code utilisateur.</li>
<li>Détecte les options du jeu de données sous la racine qui ne sont pas lues et retourne une erreur. La variable d'environnement <b>ARCANE_ALLOW_UNKNOWN_ROOT_ELEMENT</b> permet si elle positionnée d'afficher un avertissement plutôt qu'une erreur.</li>
<li>[.Net] Passage à la version 3.0 de '.Net Core'.</li>
<li>[.Net] Support en C# des classes gérants les matériaux et les milieux et des variables scalaires sur les constituants.</li>
<li>[.Net] Support pour lancer les extensions utilisateur C# via l'outil <code>dotnet</code> à la place de <code>mono</code> ce qui permet de débugger le code C# via par exemple <em>Visual Studio Code</em>.</li>
<li>Passage à la version 6.38.0 de Lima, qui permet de lire les fichiers au format <code>mli2</code>. Ce format utilise une version récente de <em>HDF5</em> et optimise notamment la taille des fichiers de maillage lorsqu'il y a un grand nombre de groupes vides.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2170"></a>
Arcane Version 2.17.0 (09 octobre 2019)</h1>
<p>Cette version comporte les développements suivants:</p><ul>
<li>[.Net] Refonte de l'environnement <code>.Net</code> pour permettre de compiler soit avec <code>mono</code>, soit avec l'implémentation Microsoft <code>dotnet</code>.</li>
<li>[.Net] Uniformisation de l'initialisation avec ou sans l'utilisation du runtime <code>.Net</code>.</li>
<li>Ajout dans le répertoire 'samples' d'un exemple 'EOS' montrant comment rendre accessible en C# des services ou des classes C++.</li>
<li>Application stricte des règles de conversion XML pour la lecture de l'attribut <code>active</code> dans l'élément <code>&lt;module&gt;</code> indiquant si un module est actif ou non. Maintenant, seules les valeurs <code>true</code>, <code>false</code>, <code>0</code> ou <code>1</code> sont autorisées. Auparanvant, toute valeur autre que <code>false</code> était considérée comme <code>true</code>.</li>
<li>Support dans le profiling MPI via la bibliothèque OTF2 des cas avec équilibrage de charge et retour-arrière.</li>
<li>Possibilité de détruire les maillages additionnels via un la classe <a class="el" href="../../d1/d4e/classArcane_1_1IMeshMng.html" title="Interface du gestionnaire des maillages.">Arcane::IMeshMng</a>: <div class="fragment"><div class="line"><a class="code" href="../../d9/d1e/classArcane_1_1ISubDomain.html">Arcane::ISubDomain</a>* sd = ...;</div>
<div class="line"><a class="code" href="../../d0/d9f/classArcane_1_1IMesh.html">Arcane::IMesh</a>* mesh_to_destroy = ...;</div>
<div class="line">sd-&gt;<a class="code" href="../../d9/d1e/classArcane_1_1ISubDomain.html#a1fa0fa38b83e53b4b8c2aef4504364f2">meshMng</a>()-&gt;<a class="code" href="../../d1/d4e/classArcane_1_1IMeshMng.html#a80308928b066047c4ccd7d2871f50cf5">destroyMesh</a>(mesh_to_destroy);</div>
<div class="ttc" id="aclassArcane_1_1IMeshMng_html_a80308928b066047c4ccd7d2871f50cf5"><div class="ttname"><a href="../../d1/d4e/classArcane_1_1IMeshMng.html#a80308928b066047c4ccd7d2871f50cf5">Arcane::IMeshMng::destroyMesh</a></div><div class="ttdeci">virtual void destroyMesh(MeshHandle handle)=0</div><div class="ttdoc">Détruit le maillage associé à handle.</div></div>
<div class="ttc" id="aclassArcane_1_1IMesh_html"><div class="ttname"><a href="../../d0/d9f/classArcane_1_1IMesh.html">Arcane::IMesh</a></div><div class="ttdef"><b>Definition:</b> IMesh.h:56</div></div>
<div class="ttc" id="aclassArcane_1_1ISubDomain_html"><div class="ttname"><a href="../../d9/d1e/classArcane_1_1ISubDomain.html">Arcane::ISubDomain</a></div><div class="ttdoc">Interface du gestionnaire d'un sous-domaine.</div><div class="ttdef"><b>Definition:</b> ISubDomain.h:74</div></div>
<div class="ttc" id="aclassArcane_1_1ISubDomain_html_a1fa0fa38b83e53b4b8c2aef4504364f2"><div class="ttname"><a href="../../d9/d1e/classArcane_1_1ISubDomain.html#a1fa0fa38b83e53b4b8c2aef4504364f2">Arcane::ISubDomain::meshMng</a></div><div class="ttdeci">virtual IMeshMng * meshMng() const =0</div><div class="ttdoc">Retourne le gestionnaire de maillage.</div></div>
</div><!-- fragment --> Le pointeur <code>mesh_to_destroy</code> ne doit plus être utilisé après appel à la méthode de destruction.</li>
<li>Support dans Arcane::mesh::BasicParticleExchanger des particules qui ne sont pas dans des mailles (celles pour lequelles <a class="el" href="../../dd/d6c/classArcane_1_1Particle.html#a6bd1a058a57e3f0ae599201e75def272" title="Maille à laquelle appartient la particule. Il faut appeler setCell() avant d&#39;appeler cette fonction....">Arcane::Particle::cell()</a> retournent une maille nulle)</li>
<li>Ajoute options dans le service 'BasicParticleExchanger' pour permettre de choisir le nombre de messages maximumum à effectuer avant de faire les réductions</li>
<li>Ajoute pour test une variable d'environnement <code>ARCANE_VARIABLE_SHRINK_MEMORY</code> qui si elle est positionnée à <code>1</code> redimensionne au plus juste la mémoire alloué par les variables après modification du nombre d'entités</li>
<li>Dans <code>Aleph</code>, détruit les communicateurs MPI dans le destructeur de <code>AlephKernel</code>. Cela avait désactivé pour des raisons de compatibilité avec PETSc et d'anciennes versions de MPI.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2160"></a>
Arcane Version 2.16.0 (18 juillet 2019)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Ajout du profiling interne pour les points d'entrée et les appels MPI. Le format des traces dépend de la valeur de la variable d'environnement qui active cette fonctionnalité : <b>ARCANE_MESSAGE_PASSING_PROFILING=OTF2</b> ou <b>JSON</b> (cf doc variable environnement et analyse de performances).</li>
<li>Refonte du wrapper C#. Le wrapper est maintenant composé de plusieurs modules (Arcane.Core, Arcane.Hdf5 et Arcane.Services) et les méthodes wrappées utilisent maintenant les règles de codage du C#: elles commencent par une majuscule.</li>
<li>ajout d'une classe <a class="el" href="../../d7/d6f/classArcane_1_1MeshHandle.html" title="Handle sur un maillage.">Arcane::MeshHandle</a> pour gérer les maillages avant leur création effective. A terme cela permettra de supprimer des maillages et de les créer via des services.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2150"></a>
Arcane Version 2.15.0 (13 juin 2019)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Support pour les messages MPI de plus de 2Go. Cela ne concerne que les message de type MPI_Send/MPI_Recv et uniquement si on passe par Arcane::ISerializer.</li>
<li>Complète l'implémentation de <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html" title="Interface du gestionnaire de parallélisme pour un sous-domaine.">Arcane::IParallelMng</a> en mode mémoire partagée. Toutes les méthodes à part <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#a415df1166135f6b0ac001f619c3d8aaa" title="Créé un nouveau gestionnaire de parallélisme pour un sous-ensemble des rangs.">Arcane::IParallelMng::createSubParallelMng()</a> sont implémentées. Les classes gérant ce mode de parallélisme sont renommées et commencent par <em>SharedMemory</em> au lieu de <em>Thread</em>.</li>
<li>Renommage des classes gérant les échanges de message en mode MPI+Mémoire partagée. Ces classes ont un nom qui commence par <em>Hybrid</em> au lieu de <em>MpiThread</em>.</li>
<li>Support de <code>.NetCore</code> en plus de <code>mono</code> pour la gestion des fichiers <em>AXL</em>. Les projets gérant les fichiers <em>AXL</em> peuvent donc utiliser soit le .NetFramework 4.5 (avec mono), soit .NetCoreApp 2.2 (avec .NetCore). Il est maintenant indispensable d'avoir l'outil <code>msbuild</code> pour compiler avec <code>mono</code>. Par défaut, c'est l'implémentation .NetCore qui est utilisée.</li>
<li>la classe <a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a> considère maintenant que les arguments de type <code>const char*</code> sont encodés en UTF-8 et plus en ISO-8859-1.</li>
<li>la classe <a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a> gère maintenant en interne les chaînes de caractères de plus de 2Go. Par conséquent, la méthode <a class="el" href="../../d2/ddb/classArccore_1_1String.html#aad0d8835379ef7c0fec90d291392f945" title="Retourne la longueur de la chaîne en 32 bits.">Arccore::String::len()</a> devient obsolète et doit être remplacée par la méthode <a class="el" href="../../d2/ddb/classArccore_1_1String.html#ac26fd27ed0d23e015182473efb223352" title="Retourne la longueur de la chaîne.">Arccore::String::length()</a> qui retourne un <em>Int64</em>.</li>
<li>Il est maintenant possible de construire des instances de <a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a> à partir de la classe std::string_view du C++17. Par conséquent, les méthodes de <a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a> qui prenaient un <code>const char*</code> et une longueur en argument devient obsolètes et sont remplacées par des méthodes prenant des std::string_view en argument.</li>
<li>un mode reproductible pour ParMetis a été développé qui permet de garantir le même partitionnement entre deux exécutions en regroupant le graphe sur un seul processeur. Ce mode ne doit pas être utilisé lorsque le nombre de mailles est supérieur à quelques dizaines de millions.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2140"></a>
Arcane Version 2.14.0 (04 mars 2019)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>intégration des développements IFPEN concernant les entités de type <em>degré de liberté</em> (classe <a class="el" href="../../d0/d6c/classArcane_1_1DoF.html" title="classe degré de liberté.">Arcane::DoF</a>).</li>
<li>possibilité de rediriger les sorties listing à la fois sur le flot standard (<code>stdout</code>) et dans un fichier avec la possibilité de ne pas avoir des niveaux de verbosité différents. Suite à ce changement, si la variable d'environnement <code>ARCANE_PARALLEL_OUTPUT</code> est positionnée alors le sous-domaine 0 écrit le listing dans un fichier comme les autres sous-domaine (les fichiers s'appellent <code>output...</code>). Pour spécifier qu'on souhaite écrire un fichier listing il faut positionner la variable d'environnement <code>ARCANE_MASTER_HAS_OUTPUT_FILE</code> ou appeler la méthode <a class="el" href="../../d4/d33/classArcane_1_1ITraceMngPolicy.html#a596053a6a259f58646a42a793fbc64aa" title="Indique si un ITraceMng maître sort les traces dans un fichier en plus de la sortie standard.">Arcane::ITraceMngPolicy::setIsMasterHasOutputFile()</a> avant l'initilisation (par exemple en surchargeant Arcane::MainFactory).</li>
<li>passage en UTF-8 de toutes les sources (Arcane,Arccore,...)</li>
<li>déplacement des sources de 'arccore' dans son propre dépôt GIT et déplacement des sources de <code>arcane/dof</code> dans <code>arcane/mesh</code></li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2130"></a>
Arcane Version 2.13.0 (21 janvier 2019)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li><b>[INCOMPATIBILITÉ]</b> Modification des méthodes <em>begin()</em> et <em>end()</em> pour les classes tableaux et vues sur les tableaux (<a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a>, <a class="el" href="../../db/d8c/classArccore_1_1ConstArrayView.html" title="Vue constante d&#39;un tableau de type T.">Arccore::ConstArrayView</a>, <a class="el" href="../../dd/d9f/classArccore_1_1Span.html" title="Vue d&#39;un tableau d&#39;éléments de type T.">Arccore::Span</a>, <a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a>) afin de retourner un itérateur et plus un pointeur. Si on souhaite récupérer un pointeur, il faut utiliser la méhode <em>data()</em> à la place.</li>
<li><b>[INCOMPATIBILITÉ]</b> Interdit la création d'instances de la classe <a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a>. Il faut utiliser soit <a class="el" href="../../da/daa/classArccore_1_1UniqueArray.html" title="Vecteur 1D de données avec sémantique par valeur (style STL).">Arccore::UniqueArray</a>, soit <a class="el" href="../../d4/dee/classArccore_1_1SharedArray.html" title="Vecteur 1D de données avec sémantique par référence.">Arccore::SharedArray</a>. La classe <a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a> doit être utilisée par référence en argument ou en retour de fonction.</li>
<li>Passage partiel des sources de Arcane UTF-8</li>
<li>Passage à la version 1.10+ de <code>HDF5</code> (au lieu de 1.8)</li>
<li>Support des maillages au format <code>MED</code> (format utilisé par CEA/DEN notamment par la plateforme Salomé)</li>
<li>Modification du générateur 'axldoc' pour génèrer des fichiers Doxygen au format Markdown avec l'extension '.md' au lieu de fichiers .dox</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2120"></a>
Arcane Version 2.12.0 (11 décembre 2018)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>amélioration de la visualisation des variables avec les dernières versions de totalview et ajout de la visualisation pour les variables scalaires</li>
<li>création d'une classe <a class="el" href="../../dd/d86/classArccore_1_1Span2.html" title="Vue pour un tableau 2D dont la taille est un &#39;Int64&#39;.">Arccore::Span2</a> pour gérer les vues sur les tableaux 2D avec les tailles sur 64bits.</li>
<li>refonte interne des protections/reprises pour permettre de changer le nombre de sous-domaines en reprise.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2110"></a>
Arcane Version 2.11.0 (18 octobre 2018)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Support des tableaux (<a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a>) et chaînes de caractères (<a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a>) dépassant 2Go. En interne, le nombre d'éléments est maintenant stocké sur 64bits au lieu de 32bits.</li>
<li>Ajout des classes 'LargeArrayView' et 'ConstLargeArrayView' qui sont identiques à 'ArrayView' et 'ConstArrayView' mais utilisent une taille sur 64 bits.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2101"></a>
Arcane Version 2.10.1 (04 octobre 2018)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Possibilité de spécifier plusieurs interfaces pour les services via la macro <a class="el" href="../../d8/dff/group__Service.html#ga08ef55634029238ec40cbb93692033e8" title="Macro pour enregistrer un service.">ARCANE_REGISTER_SERVICE()</a>. Auparavant cela n'était possible que via les fichiers 'axl'.</li>
<li>Les services singletons qui implémentent plusieurs interfaces ne sont créés qu'une seule fois et les interfaces font donc référence à la même instance. Auparavant, il y a avait autant d'instances que d'interfaces.</li>
<li>Il est possible de spécifier dans le fichier 'axl' qu'un service est singleton (voir <a class="el" href="../../d1/deb/arcanedoc_core.html#arcanedoc_service_desc">Le descripteur de service</a>).</li>
<li>Possibilité de spécifier des valeurs par défaut par catégorie via un nouvel élément <b>defaultvalue</b> dans les fichiers 'axl'. La catégorie utilisée lors de l'exécution peut être positionnée pour chaque code via la méthode <a class="el" href="../../d3/dd9/classArcane_1_1ICaseDocument.html#ab45cee6b68580e7b3b55c126b2038ab7" title="Positionne la catégorie utilisée pour les valeurs par défaut.">Arcane::ICaseDocument::setDefaultCategory()</a>. La page <a class="el" href="../../de/d26/arcanedoc_caseoptions.html#arcanedoc_caseoptions_struct_common">Attributs et propriétés communs à toutes les options</a> indique comment ajouter ces valeurs par défaut.</li>
<li>Possibilité de charger des services singleton dans le jeu de données à la manière des modules via un nouvel élément <b>services</b> dans l'élément &lt;arcane&gt; (voir <a class="el" href="../../d6/dfb/arcanedoc_casefile.html#arcanedoc_casefile_arcaneelement">Élément &lt;arcane&gt;</a>).</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version2100"></a>
Arcane Version 2.10.0 (septembre 2018)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Création d'une nouvelle composante 'Arccore' regroupant la partie de Arcane commune avec Alien. Cette composante contient une partie de 'arcane_utils' et 'arcane_mpi'. Par conséquent, les classes de base telles que <a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a>, <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a>, <a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a> sont maintenant dans le namespace '<a class="el" href="../../d5/d60/namespaceArccore.html" title="Espace de nom de Arccore.">Arccore</a>' au lieu de '<a class="el" href="../../d0/d32/namespaceArcane.html" title="-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-">Arcane</a>'. Via le mécanisme 'using' du C++ ces classes sont aussi disponibles dans le namespace <a class="el" href="../../d0/d32/namespaceArcane.html" title="-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-">Arcane</a> et il ne devrait donc pas y avoir d'incompatibilité avec le code source existant. La seule condition est de ne pas déclarer explicitement les types Arcane mais d'utiliser le fichier d'en-tête '<a class="el" href="../../d4/da8/UtilsTypes_8h.html" title="Déclarations des types utilisés dans Arcane.">arcane/utils/UtilsTypes.h</a>'.</li>
<li>Utilisation de la bibliothèque 'libxml2' pour gérer le XML au lieu de la bibliothèque 'XercesC'. Cette modification a été effectuée pour deux fonctionnalités qui ne sont pas disponibles dans 'XercesC': le support de XInclude avec XmlSchema et l'encodage UTF-8 des chaînes de caractères.</li>
<li>Rend obsolète la construction de '<a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a>'. Il faut explicitement utiliser soit '<a class="el" href="../../da/daa/classArccore_1_1UniqueArray.html" title="Vecteur 1D de données avec sémantique par valeur (style STL).">Arccore::UniqueArray</a>', soit '<a class="el" href="../../d4/dee/classArccore_1_1SharedArray.html" title="Vecteur 1D de données avec sémantique par référence.">Arccore::SharedArray</a>'.</li>
<li>Sépare l'implémentation de <a class="el" href="../../da/daa/classArccore_1_1UniqueArray.html" title="Vecteur 1D de données avec sémantique par valeur (style STL).">Arccore::UniqueArray</a> de celle de <a class="el" href="../../d4/dee/classArccore_1_1SharedArray.html" title="Vecteur 1D de données avec sémantique par référence.">Arccore::SharedArray</a> pour éviter de conserver des informations qui ne sont utiles que pour l'une ou l'autre de ces classes.</li>
<li>Possibilité de spécifier un nombre de threads compris en 1 et le nombre maximum de threads alloué lors d'une boucle parallèle Arcane::Parallel::ForEach. Cela se fait via la classe <a class="el" href="../../d9/d62/classArcane_1_1ParallelLoopOptions.html" title="Options d&#39;exécution d&#39;une boucle parallèle en multi-thread.">Arcane::ParallelLoopOptions</a>.</li>
<li>Le fichier 'arcane.pc' généré pour pkg-config est obsolète et ne contient plus toutes les bibliothèques utilisées par Arcane. Pour avoir une fonctionnalité équivalente, il faut utiliser 'cmake' avec l'option '&ndash;find-package'.</li>
<li>Refonte de la gestion des itérateurs sur les classes tableaux (<a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a>, <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a>, <a class="el" href="../../db/d8c/classArccore_1_1ConstArrayView.html" title="Vue constante d&#39;un tableau de type T.">Arccore::ConstArrayView</a>). Les itérateurs actuels qui retournaient un pointeur sont déclarés obsolète et remplacés par un objet du type <a class="el" href="../../d3/d2f/classArccore_1_1ArrayIterator.html" title="Itérateur sur les classes tableau de Arccore.">Arccore::ArrayIterator</a>. Le fait de retourner un pointeur pouvait poser problème en cas d'héritage. Par exemple: <div class="fragment"><div class="line"><span class="keyword">class </span>A { ... };</div>
<div class="line"><span class="keyword">class </span>B : <span class="keyword">public</span> A { ... };</div>
<div class="line"> </div>
<div class="line"><a class="code" href="../../d9/d09/classArccore_1_1Array.html">Arcane::Array&lt;B*&gt;</a> array_of_b;</div>
<div class="line"><span class="keywordflow">for</span>( A* a : array_of_b){</div>
<div class="line">  <span class="comment">// Plantage si sizeof(A)!=sizeof(B)</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassArccore_1_1Array_html"><div class="ttname"><a href="../../d9/d09/classArccore_1_1Array.html">Arccore::Array</a></div><div class="ttdoc">Classe de base des vecteurs 1D de données.</div><div class="ttdef"><b>Definition:</b> Array.h:830</div></div>
</div><!-- fragment --> Le nouvel itérateur est partagé entre les trois classes tableaux et est du type std::random_iterator. Suivant les cas d'utilisation, le code actuel peut-être changé comme suit:<ul>
<li>Utilisation de begin() pour récupérer un pointeur sur le début du tableau: utiliser data() à la place: <div class="fragment"><div class="line"><a class="code" href="../../d7/d02/classArccore_1_1ArrayView.html">Arcane::ArrayView&lt;Int32&gt;</a> a;</div>
<div class="line">Int32* v = a.<a class="code" href="../../d7/d02/classArccore_1_1ArrayView.html#aec6fa7ef43f1f42c168caeab894838ea">begin</a>(); <span class="comment">// Obsolète</span></div>
<div class="line">Int32* v = a.<a class="code" href="../../d7/d02/classArccore_1_1ArrayView.html#ac0f092dc2c2ad29c47832bccea2f5a0f">data</a>();  <span class="comment">// OK.</span></div>
<div class="ttc" id="aclassArccore_1_1ArrayView_html"><div class="ttname"><a href="../../d7/d02/classArccore_1_1ArrayView.html">Arccore::ArrayView</a></div><div class="ttdoc">Vue modifiable d'un tableau d'un type T.</div><div class="ttdef"><b>Definition:</b> ArrayView.h:96</div></div>
<div class="ttc" id="aclassArccore_1_1ArrayView_html_ac0f092dc2c2ad29c47832bccea2f5a0f"><div class="ttname"><a href="../../d7/d02/classArccore_1_1ArrayView.html#ac0f092dc2c2ad29c47832bccea2f5a0f">Arccore::ArrayView::data</a></div><div class="ttdeci">constexpr const_pointer data() const noexcept</div><div class="ttdoc">Pointeur sur le début de la vue.</div><div class="ttdef"><b>Definition:</b> ArrayView.h:423</div></div>
<div class="ttc" id="aclassArccore_1_1ArrayView_html_aec6fa7ef43f1f42c168caeab894838ea"><div class="ttname"><a href="../../d7/d02/classArccore_1_1ArrayView.html#aec6fa7ef43f1f42c168caeab894838ea">Arccore::ArrayView::begin</a></div><div class="ttdeci">constexpr iterator begin() noexcept</div><div class="ttdoc">Itérateur sur le premier élément du tableau.</div><div class="ttdef"><b>Definition:</b> ArrayView.h:245</div></div>
</div><!-- fragment --></li>
<li>Utilisation de begin()/end() dans les algorithmes de la STL. Dans ce cas il faut remplacer ces méthodes par std::begin() et std::end(): <div class="fragment"><div class="line"><a class="code" href="../../d7/d02/classArccore_1_1ArrayView.html">Arcane::ArrayView&lt;Int32&gt;</a> a;</div>
<div class="line">std::sort(a.<a class="code" href="../../d7/d02/classArccore_1_1ArrayView.html#aec6fa7ef43f1f42c168caeab894838ea">begin</a>(),a.<a class="code" href="../../d7/d02/classArccore_1_1ArrayView.html#aa402a24823ea253d178472626bf1f711">end</a>()); <span class="comment">// Obsolète</span></div>
<div class="line">std::sort(std::begin(a),std::end(a)); <span class="comment">// OK</span></div>
<div class="ttc" id="aclassArccore_1_1ArrayView_html_aa402a24823ea253d178472626bf1f711"><div class="ttname"><a href="../../d7/d02/classArccore_1_1ArrayView.html#aa402a24823ea253d178472626bf1f711">Arccore::ArrayView::end</a></div><div class="ttdeci">constexpr iterator end() noexcept</div><div class="ttdoc">Itérateur sur le premier élément après la fin du tableau.</div><div class="ttdef"><b>Definition:</b> ArrayView.h:247</div></div>
</div><!-- fragment --></li>
<li>Utilisation dans le cas d'une boucle for-range du C++11. Dans ce cas il faut utiliser la méthode range du tableau. Par exemple: <div class="fragment"><div class="line"><a class="code" href="../../d7/d02/classArccore_1_1ArrayView.html">Arcane::ArrayView&lt;Int32&gt;</a> a;</div>
<div class="line"><span class="keywordflow">for</span>( Int32 x : a) {} <span class="comment">// Obsolète</span></div>
<div class="line"><span class="keywordflow">for</span>( Int32 x : a.range()) {} <span class="comment">// OK</span></div>
</div><!-- fragment --></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version291"></a>
Arcane Version 2.9.1 (juin 2018)</h1>
<p>Cette version comporte les développements suivants:</p><ul>
<li>Possiblité de changer les valeurs par défaut des options du jeu de données. Pour plus d'informations, se reporter à la section <a class="el" href="../../de/d26/arcanedoc_caseoptions.html#arcanedoc_caseoptions_defaultvalues">Gestion des valeurs par défaut</a>.</li>
<li>Ajoute méthode valueIfPresentOrArgument() pour les options simples, énumérées ou étendues. Cela permet de remplacer le code suivant: <div class="fragment"><div class="line"><a class="code" href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Real</a> x = 3.2;</div>
<div class="line"><span class="keywordflow">if</span> (options()-&gt;myOption.isPresent())</div>
<div class="line">  x = options()-&gt;myOptions();</div>
<div class="ttc" id="anamespaceArccore_html_a5ab7f6a9c189227a5006d3f222aa61f6"><div class="ttname"><a href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Arccore::Real</a></div><div class="ttdeci">double Real</div><div class="ttdoc">Type représentant un réel.</div><div class="ttdef"><b>Definition:</b> ArccoreGlobal.h:214</div></div>
</div><!-- fragment --> par le code suivant: <div class="fragment"><div class="line"><a class="code" href="../../d5/d60/namespaceArccore.html#a5ab7f6a9c189227a5006d3f222aa61f6">Real</a> x = options()-&gt;myOption.valueIfPresentOrArgument(3.2);</div>
</div><!-- fragment --></li>
<li>Support 64 bits pour l'échangeur de particule non bloquant (service <b>NonBlockingParticleExchanger</b> implémentant <a class="el" href="../../d8/d83/classArcane_1_1IParticleExchanger.html" title="Interface d&#39;un échangeur de particules.">Arcane::IParticleExchanger</a>). Cela permet de dépasser 2^31 particules lors d'un échange.</li>
<li>Ajoute méthode <a class="el" href="../../d5/d9e/classArcane_1_1ITimeLoopMng.html#a76f9be64cc436e74266d916f4099ac04" title="Raison pour laquelle on arrête le code.">Arcane::ITimeLoopMng::stopReason()</a> permettant de connaitre la raison de l'arrêt du code. En particulier, il est maintenant possible de savoir si on exécute la dernière itération lorsqu'un nombre maximum d'itération est spécifié.</li>
<li>Dans le jeu de données, dans la liste des modules à activer, il est maintenant possible de spécifier le nom (traduit ou nom) de l'élément XML du Module au lieu du nom du module. Par exemple, pour le module de protection/reprise de Arcane, dont le nom est 'ArcaneCheckoint', on a actuellement: <div class="fragment"><div class="line">&lt;<span class="keywordtype">cas</span> <span class="keyword">codename</span>=<span class="stringliteral">&quot;ArcaneTest&quot;</span> <span class="keyword">xml:lang</span>=<span class="stringliteral">&quot;fr&quot;</span> <span class="keyword">codeversion</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">arcane</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">modules</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ArcaneCheckpoint&quot;</span> <span class="keyword">actif</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">modules</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">arcane</span>&gt;</div>
<div class="line">  ...</div>
<div class="line">  &lt;<span class="keywordtype">arcane-protections-reprises</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">periode</span>&gt;3&lt;/<span class="keywordtype">periode</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">arcane-protections-reprises</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">cas</span>&gt;</div>
</div><!-- fragment --> et maintenant il est possible de le remplacer par: <div class="fragment"><div class="line">&lt;<span class="keywordtype">cas</span> <span class="keyword">codename</span>=<span class="stringliteral">&quot;ArcaneTest&quot;</span> <span class="keyword">xml:lang</span>=<span class="stringliteral">&quot;fr&quot;</span> <span class="keyword">codeversion</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">arcane</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">modules</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;arcane-protections-reprises&quot;</span> <span class="keyword">actif</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">modules</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">arcane</span>&gt;</div>
<div class="line">  ...</div>
<div class="line">  &lt;<span class="keywordtype">arcane-protections-reprises</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">periode</span>&gt;3&lt;/<span class="keywordtype">periode</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">arcane-protections-reprises</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">cas</span>&gt;</div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="arcanedoc_version280"></a>
Arcane Version 2.8.0 (31 janvier 2018)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Ajout pour les tests unitaires de deux macros <a class="el" href="../../d8/d6c/Assertion_8h.html#a5c44f2c288131123081bc4c9f8bad0ff" title="Vérifie que actual est presque égal à zéro à l&#39;epsilon standard.">ASSERT_NEARLY_ZERO</a> et <a class="el" href="../../d8/d6c/Assertion_8h.html#a036828ac782dd351df161211cfc510ec" title="Vérifie que actual est presque égal à zéro à l&#39;epsilon spécifié epsilon.">ASSERT_NEARLY_ZERO_EPSILON</a> qui permettent de comparer avec zéro une valeur.</li>
<li>Détermination lors de la compilation des types 'Arcane::Int16', 'Arcane::Int32' et 'Arcane::Int64'. A cause de cela, le fichier '<a class="el" href="../../d0/d1e/ArcaneGlobal_8h.html" title="Fichier de configuration d&#39;Arcane.">ArcaneGlobal.h</a>' n'inclut plus le fichier 'limits.h'.</li>
<li><p class="startli">Par défaut, les unités de longueur spécifiées dans les fichiers au format Lima (.unf, .mli, ...) sont maintenant toujours prises en compte. Auparavant, il fallait mettre la valeur 1 à l'attribut 'use-unit' (en anglais) ou 'utilise-unite' (en francais) dans l'élément &lt;mesh&gt; (en anglais) ou &lt;maillage&gt; (en francais). Pour retrouver le comportement d'avant, il faut mettre la valeur '0' à cet attribut. Par exemple en francais: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">maillage</span> <span class="keyword">utilise-unite</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;</div>
<div class="line">...</div>
<div class="line">&lt;/<span class="keywordtype">maillage</span>&gt;</div>
</div><!-- fragment --><p class="startli">ou en anglais:</p>
</li>
</ul>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">mesh</span> <span class="keyword">use-unit</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;</div>
<div class="line">...</div>
<div class="line">&lt;/<span class="keywordtype">mesh</span>&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="arcanedoc_version270"></a>
Arcane Version 2.7.0 (20 octobre 2017)</h1>
<p>Cette version comporte les développements suivants sur les matériaux et les milieux:</p><ul>
<li>possibilité d'itérer uniquement sur les mailles pures ou impures d'un matériau ou d'un milieu.</li>
<li>nouveaux mécanismes pour boucler sur les matériaux et les milieux</li>
<li>début du support de la vectorisation sur les matériaux et les milieux. Pour l'instant ce supporte concerne seulement les variables scalaires et uniquement sur les milieux.</li>
</ul>
<p>Pour plus d'informations sur ces notions, se référer à la page <a class="el" href="../../da/d7e/arcanedoc_materialloop.html">Boucles sur les entités des matériaux et des milieux</a>.</p>
<h1><a class="anchor" id="arcanedoc_version261"></a>
Arcane Version 2.6.1 (18 septembre 2017)</h1>
<p>Cette version comporte les développements visibles suivants:</p><ul>
<li>dans les options du jeu de données, ne tolère plus les caractères invalides en fin de chaîne de caractères de l'option. Par exemple, la chaîne '12a3' était considérée comme valide pour une option de type entier et sa valeur était '12'. Maintenant une erreur est retournée dans ce cas.</li>
</ul>
<p>Cette version comporte des développements internes visant à terme à supprimer les anciens mécanismes d'accès aux connectivités.</p>
<h1><a class="anchor" id="arcanedoc_version260"></a>
Arcane Version 2.6.0 (22 aout 2017)</h1>
<p>Cette version met en service le nouveau mécanisme d'accès aux connectivités. L'ancien mécanisme reste accessible. Les deux mécanismes utilisants des gestions de la mémoire différents, les connectivités sont donc allouées à la fois avec le nouveau et l'ancien mécanisme ce qui se traduit par une augmentation de la mémoire d'environ 1ko par maille. Pour plus d'informations, se reporter à la page <a class="el" href="../../dd/d86/arcanedoc_connectivity_internal.html">Gestion des connectivités des entités</a>.</p>
<h1><a class="anchor" id="arcanedoc_version252"></a>
Arcane Version 2.5.2 (25 juillet 2017)</h1>
<p>Cette version contient les développements suivants:</p>
<ul>
<li>ajout d'un mécanisme de gestion des évènements (voir fichier "arcane/utils/Event.h" et la classe EventObservable pour un exemple d'utilisation)</li>
<li>ajout d'évènements lors de l'ajout/suppression de variables (<a class="el" href="../../d7/d7c/classArcane_1_1IVariableMng.html#a5a6d1bda2961fa318d7584a3130ef529" title="Evènement envoyé lorsqu&#39;une variable est créée.">Arcane::IVariableMng::onVariableAdded()</a> et <a class="el" href="../../d7/d7c/classArcane_1_1IVariableMng.html#ac49444522a6439327936b2480eca9316" title="Evènement envoyé lorsqu&#39;une variable est détruite.">Arcane::IVariableMng::onVariableRemoved()</a>) et lors des synchronisations (<a class="el" href="../../d4/d9f/classArcane_1_1IVariableSynchronizer.html#ab9c5bfe7248f9e60a0c00c1762843e72" title="Evènement envoyé en fin de synchronisation.">Arcane::IVariableSynchronizer::onSynchronized()</a>).</li>
<li>possibilité de spécifier un partitionneur statique pour les boucles utilisant le multi-threading. Cela permet d'avoir un comportement déterministe (i.e répétable) entre plusieurs exécutions à condition d'utiliser le même nombre de threads. <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d4/d05/Concurrency_8h.html">arcane/Concurrency.h</a>&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line">ParallelLoopOptions opt;</div>
<div class="line">opt.setPartitioner(<a class="code" href="../../d9/d62/classArcane_1_1ParallelLoopOptions.html#adb69cf9bcc031b07263152c09205fe8aa84a8921b25f505d0d2077aeb5db4bc16">ParallelLoopOptions::Partitioner::Static</a>);</div>
<div class="line"><a class="code" href="../../d6/d0d/classArcane_1_1TaskFactory.html#a72f3750e9b1a16c3fe6af3c1eae7d48a">TaskFactory::setDefaultParallelLoopOptions</a>(opt);</div>
<div class="ttc" id="aConcurrency_8h_html"><div class="ttname"><a href="../../d4/d05/Concurrency_8h.html">Concurrency.h</a></div><div class="ttdoc">Classes, Types et macros pour gérer la concurrence.</div></div>
<div class="ttc" id="aclassArcane_1_1ParallelLoopOptions_html_adb69cf9bcc031b07263152c09205fe8aa84a8921b25f505d0d2077aeb5db4bc16"><div class="ttname"><a href="../../d9/d62/classArcane_1_1ParallelLoopOptions.html#adb69cf9bcc031b07263152c09205fe8aa84a8921b25f505d0d2077aeb5db4bc16">Arcane::ParallelLoopOptions::Partitioner::Static</a></div><div class="ttdeci">@ Static</div><div class="ttdoc">Utilise un partitionnement statique.</div></div>
<div class="ttc" id="aclassArcane_1_1TaskFactory_html_a72f3750e9b1a16c3fe6af3c1eae7d48a"><div class="ttname"><a href="../../d6/d0d/classArcane_1_1TaskFactory.html#a72f3750e9b1a16c3fe6af3c1eae7d48a">Arcane::TaskFactory::setDefaultParallelLoopOptions</a></div><div class="ttdeci">static void setDefaultParallelLoopOptions(const ParallelLoopOptions &amp;v)</div><div class="ttdoc">Positionne les valeurs par défaut d'exécution d'une boucle parallèle.</div><div class="ttdef"><b>Definition:</b> ConcurrencyUtils.h:532</div></div>
</div><!-- fragment --></li>
<li>ajout d'un mécanisme de barrière nommée pour garantir que tous les processus arrivent à la même barrière: <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../db/d8b/Parallel_8h.html">arcane/Parallel.h</a>&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line">IParallelMng* pm = ...;</div>
<div class="line">MessagePassing::namedBarrier(pm,<span class="stringliteral">&quot;MyBarrier&quot;</span>);</div>
<div class="ttc" id="aParallel_8h_html"><div class="ttname"><a href="../../db/d8b/Parallel_8h.html">Parallel.h</a></div><div class="ttdoc">Fichier contenant les déclarations concernant le modèle de programmation par échange de message.</div></div>
</div><!-- fragment --></li>
<li>possibilité de mixer déclarations de variables matériaux et milieux (pour des variables scalaires uniquement). Dans ce cas toutes les variables sont allouées sur les matériaux et les milieux. Par défaut cela n'est pas actif car cela consomme de la mémoire inutilement. <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d4/d60/namespaceArcane_1_1Materials.html">Arcane::Materials</a>;</div>
<div class="line">IMeshMaterialMng* mm = ...;</div>
<div class="line">mm-&gt;setAllocateScalarEnvironmentVariableAsMaterial(<span class="keyword">true</span>);</div>
<div class="line"><a class="code" href="../../d4/d60/namespaceArcane_1_1Materials.html#ad42f72196acf6c2a74c142de7812132d">MaterialVariableCellReal</a> mat_var(MaterialVariableBuildInfo(mm,<span class="stringliteral">&quot;Var1&quot;</span>));</div>
<div class="line"><a class="code" href="../../d4/d60/namespaceArcane_1_1Materials.html#a9d3ab879ccb375e473eea4f6f4b2dd10">EnvironmentVariableCellReal</a> env_var(MaterialVariableBuildInfo(mm,<span class="stringliteral">&quot;Var1&quot;</span>));</div>
<div class="line"><span class="comment">// &#39;mat_var&#39; et &#39;env var&#39; sont les mêmes variables.</span></div>
<div class="ttc" id="anamespaceArcane_1_1Materials_html"><div class="ttname"><a href="../../d4/d60/namespaceArcane_1_1Materials.html">Arcane::Materials</a></div><div class="ttdoc">Active toujours les traces dans les parties Arcane concernant les matériaux.</div><div class="ttdef"><b>Definition:</b> CellToAllEnvCellConverter.h:24</div></div>
<div class="ttc" id="anamespaceArcane_1_1Materials_html_a9d3ab879ccb375e473eea4f6f4b2dd10"><div class="ttname"><a href="../../d4/d60/namespaceArcane_1_1Materials.html#a9d3ab879ccb375e473eea4f6f4b2dd10">Arcane::Materials::EnvironmentVariableCellReal</a></div><div class="ttdeci">CellEnvironmentVariableScalarRef&lt; Real &gt; EnvironmentVariableCellReal</div><div class="ttdoc">Variable milieu de type #Real</div><div class="ttdef"><b>Definition:</b> MeshEnvironmentVariableRef.h:263</div></div>
<div class="ttc" id="anamespaceArcane_1_1Materials_html_ad42f72196acf6c2a74c142de7812132d"><div class="ttname"><a href="../../d4/d60/namespaceArcane_1_1Materials.html#ad42f72196acf6c2a74c142de7812132d">Arcane::Materials::MaterialVariableCellReal</a></div><div class="ttdeci">CellMaterialVariableScalarRef&lt; Real &gt; MaterialVariableCellReal</div><div class="ttdoc">Variable matériau de type #Real</div><div class="ttdef"><b>Definition:</b> MeshMaterialVariableRef.h:495</div></div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="arcanedoc_version251"></a>
Arcane Version 2.5.1 (04 mai 2017)</h1>
<p>Cette version contient uniquement des développements internes et n'ajoute pas de fonctionnalités directement accessibles aux utilisateurs.</p>
<h1><a class="anchor" id="arcanedoc_version250"></a>
Arcane Version 2.5.0 (15 mars 2017)</h1>
<p>Cette version intègre les développements pour découpler la gestion des connectivités de celle des entités. Pour des raisons d'économie mémoire, le mécanisme actuel permet d'avoir toutes les connectivités disponibles pour chaque type entité. Potentiellement, cela signifie par exemple qu'une particule et une maille peuvent avoir les mêmes connectivités. Pour plus d'informations sur les nouveaux mécanismes, se reporter à la page suivante <a class="el" href="../../dd/d86/arcanedoc_connectivity_internal.html">Gestion des connectivités des entités</a>. Dans cette version 2.5.0, les nouvelles connectivités ne sont pas actives (ce qui correspond au mode de configuration '&ndash;with-legacy-connectivity' décrit dans la page du lien précédent) donc le comportement des codes utilisant Arcane ne devraient pas changer.</p>
<p>Les autres nouvelles fonctionnalités sont:</p><ul>
<li>ajout d'une méthode Item::isShared() pour indiquer si une entité est partagée par plusieurs sous-domaines. Par exemple: <div class="fragment"><div class="line">Cell cell = ...;</div>
<div class="line"><span class="keywordflow">if</span> (cell.isShared())</div>
<div class="line">  info() &lt;&lt; <span class="stringliteral">&quot;Cell is shared&quot;</span>;</div>
</div><!-- fragment --></li>
<li>la synchronisation de plusieurs variables en un seul message MPI est maintenant active par défaut. Par exemple: <div class="fragment"><div class="line"><a class="code" href="../../d3/d00/group__Variable.html#ga135a2515548fbcacb89c3ce1a2410b79">VariableCellReal</a> temperature = ...;</div>
<div class="line"><a class="code" href="../../d3/d00/group__Variable.html#ga89541ae01facee42d91990fbd2a351f0">VariableCellReal3</a> cell_center = ...;</div>
<div class="line">VariableCollection vars;</div>
<div class="line">vars.add(temperature);</div>
<div class="line">vars.add(cell_center);</div>
<div class="line">mesh()-&gt;cellFamily()-&gt;synchronize(vars);</div>
<div class="ttc" id="agroup__Variable_html_ga135a2515548fbcacb89c3ce1a2410b79"><div class="ttname"><a href="../../d3/d00/group__Variable.html#ga135a2515548fbcacb89c3ce1a2410b79">Arcane::VariableCellReal</a></div><div class="ttdeci">MeshVariableScalarRefT&lt; Cell, Real &gt; VariableCellReal</div><div class="ttdoc">Grandeur au centre des mailles de type réel.</div><div class="ttdef"><b>Definition:</b> VariableTypedef.h:290</div></div>
<div class="ttc" id="agroup__Variable_html_ga89541ae01facee42d91990fbd2a351f0"><div class="ttname"><a href="../../d3/d00/group__Variable.html#ga89541ae01facee42d91990fbd2a351f0">Arcane::VariableCellReal3</a></div><div class="ttdeci">MeshVariableScalarRefT&lt; Cell, Real3 &gt; VariableCellReal3</div><div class="ttdoc">Grandeur au centre des mailles de type coordonnées.</div><div class="ttdef"><b>Definition:</b> VariableTypedef.h:377</div></div>
</div><!-- fragment --> A noter que si la collection spécifiée en paramètre contient des variables partielles, la synchronisation se fait comme avant soit variable par variable.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version242"></a>
Arcane Version 2.4.2 (13 Janvier 2017)</h1>
<ul>
<li>Ajoute la possibilité de configurer les traces lors de l'exécution en spécifiant une chaîne de caractères au format de configuration des traces (tel que dans la documentation <a class="el" href="../../d2/dcf/arcanedoc_traces.html">Utilisation des traces</a>). Par exemple: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line">String x = <span class="stringliteral">&quot;&lt;?xml version=\&quot;1.0\&quot;?&gt;\n&quot;</span></div>
<div class="line"> <span class="stringliteral">&quot;&lt;arcane-config&gt;\n&quot;</span></div>
<div class="line"> <span class="stringliteral">&quot;&lt;traces&gt;\n&quot;</span></div>
<div class="line"> <span class="stringliteral">&quot;&lt;trace-class name=&#39;MyTest2&#39; info=&#39;true&#39; debug=&#39;med&#39; print-elapsed-time=&#39;true&#39; print-class-name=&#39;false&#39;/&gt;\n&quot;</span></div>
<div class="line"> <span class="stringliteral">&quot;&lt;/traces&gt;\n&quot;</span></div>
<div class="line"> <span class="stringliteral">&quot;&lt;/arcane-config&gt;\n&quot;</span>;</div>
<div class="line">ISubDomain* sd = ...;</div>
<div class="line">ITraceMng* tm = sd-&gt;<a class="code" href="../../d3/d96/classArcane_1_1IBase.html#a6f9ec4aec923221a364a4d22598c5022">traceMng</a>();</div>
<div class="line">sd-&gt;application()-&gt;getTraceMngPolicy()-&gt;setClassConfigFromXmlBuffer(tm,x.utf8());</div>
<div class="ttc" id="aclassArcane_1_1IBase_html_a6f9ec4aec923221a364a4d22598c5022"><div class="ttname"><a href="../../d3/d96/classArcane_1_1IBase.html#a6f9ec4aec923221a364a4d22598c5022">Arcane::IBase::traceMng</a></div><div class="ttdeci">virtual ITraceMng * traceMng() const =0</div><div class="ttdoc">Gestionnaire de traces.</div></div>
</div><!-- fragment --></li>
<li>Ajoute la possibilité d'afficher ou non pour chaque message de trace le nom de la classe de message dans les traces ainsi que le temps écoulé. Par exemple: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line">ITraceMng* tm = ...;</div>
<div class="line">TraceClassConfig tcc = tm-&gt;classConfig(<span class="stringliteral">&quot;MyTest&quot;</span>);</div>
<div class="line">tcc.setFlags(Trace::PF_ElapsedTime|Trace::PF_NoClassName);</div>
<div class="line">tm-&gt;setClassConfig(<span class="stringliteral">&quot;MyTest&quot;</span>,tcc);</div>
</div><!-- fragment --></li>
<li>Ajoute une méthode <a class="el" href="../../dd/d6a/classArcane_1_1IMeshUtilities.html#ae2f1670bd77288b2b389b0921c4afb61" title="Fusionne des noeuds.">Arcane::IMeshUtilities::mergeNodes()</a> permettant la fusion de noeuds deux à deux.</li>
<li>Le mécanisme interne de compactage des entités a été réécrit afin de pouvoir être plus facilement paramétrable par famille d'entité et plus facilement extensible si on ajoute un nouveau type de famille d'entité</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version241"></a>
Arcane Version 2.4.1 (01 Décembre 2016)</h1>
<ul>
<li>Support de la méthode <a class="el" href="../../d9/dee/classArcane_1_1Materials_1_1MeshMaterialVariableRef.html#ac20566b104d70cd7a272ae57f2ec5f50" title="Synchronise les valeurs entre les sous-domaines.">Arcane::MeshMaterialVariableRef::synchronize()</a> pour les variables uniquement sur les milieux.</li>
<li>Ajoute une méthode sur les variables matériaux pour remplir les valeurs partielles avec la valeur de la maille du composant supérieur. Cela permet de remplir les valeurs matériaux avec les valeurs milieux ou les valeurs milieux avec les valeurs globales. La méthode s'appelle <a class="el" href="../../d9/dee/classArcane_1_1Materials_1_1MeshMaterialVariableRef.html#a61dee491888f58a6f30272f0a0b69e98" title="Remplit les valeurs partielles avec la valeur de la maille du dessus. Si level vaut LEVEL_MATERIAL,...">Arcane::Materials::MeshMaterialVariableRef::fillPartialValuesWithSuperValues()</a>.</li>
<li>Ajoute les itérateurs STL constants pour la classe <a class="el" href="../../d6/df2/classArcane_1_1ItemVectorView.html" title="Vue sur un vecteur d&#39;entités.">Arcane::ItemVectorView</a>. Cela permet d'utiliser les algorithmes de la STL avec cette classe. Par exemple: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line">ItemVector v1;</div>
<div class="line">ItemGroup group1;</div>
<div class="line">ItemVectorView group_view = group1.view();</div>
<div class="line"><span class="keywordflow">for</span>( Item item : v1.view() ){</div>
<div class="line">  <span class="comment">// Regarde si &#39;item&#39; est dans le groupe &#39;group1&#39;.</span></div>
<div class="line">  <span class="keyword">auto</span> iter = std::find(group_view.begin(),group_view().end,item);</div>
<div class="line">  <span class="keywordflow">if</span> (iter!=group_view.end()){</div>
<div class="line">    <span class="comment">// Trouvé.</span></div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span>( Item item : group1.view() ){</div>
<div class="line">  info() &lt;&lt; <span class="stringliteral">&quot;Item=&quot;</span> &lt;&lt; ItemPrinter(item);</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Ajoute la possibilité de spécifier sa propre fonction de calcul des connectivités pour les <a class="el" href="../../df/dbe/classArcane_1_1ItemPairGroup.html" title="Tableau de listes d&#39;entités.">Arcane::ItemPairGroup</a>. La documentation de la classe ItemPairGroup contient un exemple d'un tel calcul</li>
<li>Ajoute dans les services de partitionnement plusieurs options:<ul>
<li>pour Parmetis la possibilité d'écrire le graphe sur un fichier et de spécifier la tolérance,</li>
<li>pour PTScotch la possibilité d'écrire le graphe sur un fichier et de vérifier la cohérence du graphe.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version240"></a>
Arcane Version 2.4.0 (Novembre 2016)</h1>
<ul>
<li>Support des variables uniquement sur les milieux. Ces variables s'utilisent comme les variables matériau mais n'ont de valeurs que sur les milieux et les mailles globales. Il ne faut donc pas les indexer avec des mailles matériaux (MatCell) sous peine de provoquer un accès mémoire illégal. La déclaration de ces variables se fait comme suit: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code" href="../../d4/d60/namespaceArcane_1_1Materials.html#a9d3ab879ccb375e473eea4f6f4b2dd10">EnvironmentVariableCellReal</a> pressure(VariableBuildInfo(mesh,<span class="stringliteral">&quot;Pressure&quot;</span>));</div>
<div class="line">IMeshEnvironment* env = ...;</div>
<div class="line"><a class="code" href="../../dd/df0/core_2materials_2MatItemEnumerator_8h.html#a568f790f7de72e2144399d55d8c63455">ENUMERATE_ENVCELL</a>(ienvcell,env){</div>
<div class="line">  pressure[ienvcell] = 2.0;</div>
<div class="line">}</div>
<div class="ttc" id="acore_2materials_2MatItemEnumerator_8h_html_a568f790f7de72e2144399d55d8c63455"><div class="ttname"><a href="../../dd/df0/core_2materials_2MatItemEnumerator_8h.html#a568f790f7de72e2144399d55d8c63455">ENUMERATE_ENVCELL</a></div><div class="ttdeci">#define ENUMERATE_ENVCELL(iname, env)</div><div class="ttdoc">Macro pour itérer sur toutes les mailles d'un milieu.</div><div class="ttdef"><b>Definition:</b> MatItemEnumerator.h:594</div></div>
</div><!-- fragment --></li>
<li>Support du repartitionnement et de l'équilibrage de charge en conservant les informations des matériaux. Les valeurs partielles des mailles matériaux et milieux sont aussi conservées.</li>
<li>Refonte interne de la gestion des échanges des entités lors d'un repartitionnement. Le but est de pouvoir ajouter plus facilement de nouvelles familles d'entités où de changer le traitement de l'un d'elle. Cette modification n'a aucun impact sur le code existant.</li>
</ul>
<h1><a class="anchor" id="arcanedoc_version239"></a>
Arcane Version 2.3.9 (Septembre 2016)</h1>
<h2><a class="anchor" id="arcanedoc_version239_simd"></a>
Amélioration de la vectorisation</h2>
<ul>
<li>Possibilité de choisir un allocateur spécifique (implémentant l'interface IMemoryAllocator) pour les classes Array et UniqueArray. Une implémentation gérant l'alignement (Arcane::AlignedMemoryAllocator) est disponible et permet de garantir que l'adresse de la mémoire allouée est un multiple d'une certaine valeur. Pour l'instant la seule valeur valide pour l'alignement est 64 et il faut utiliser l'allocateur <a class="el" href="../../d0/d7e/classArccore_1_1AlignedMemoryAllocator.html#aa36776272470f04a8ed1a6245aed27e4" title="Allocateur garantissant l&#39;alignement pour utiliser la vectorisation sur la plateforme cible.">Arcane::AlignedMemoryAllocator::Simd()</a> pour récupérer cet l'allocateur avec cet alignement. En plus d'aligner la mémoire, cet allocateur garantit que la taille dela mémoire allouée est un multiple de l'alignement. Par exemple, le code suivant garantit un alignement: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line">UniqueArray&lt;Real&gt; x(<a class="code" href="../../d0/d7e/classArccore_1_1AlignedMemoryAllocator.html#aa36776272470f04a8ed1a6245aed27e4">AlignedMemoryAllocator::Simd</a>());</div>
<div class="line">x.resize(25);</div>
<div class="line"><span class="comment">// &amp;x[0] est un multiple de 64.</span></div>
<div class="line"><span class="comment">// Un réel faisant 8 octets, la capacité de x est un</span></div>
<div class="line"><span class="comment">// multiple de (64 / 8), soit x.capacity()&gt;=32 (car 32 est le</span></div>
<div class="line"><span class="comment">// premier multiple de 8 supérieur à 25).</span></div>
<div class="ttc" id="aclassArccore_1_1AlignedMemoryAllocator_html_aa36776272470f04a8ed1a6245aed27e4"><div class="ttname"><a href="../../d0/d7e/classArccore_1_1AlignedMemoryAllocator.html#aa36776272470f04a8ed1a6245aed27e4">Arccore::AlignedMemoryAllocator::Simd</a></div><div class="ttdeci">static AlignedMemoryAllocator * Simd()</div><div class="ttdoc">Allocateur garantissant l'alignement pour utiliser la vectorisation sur la plateforme cible.</div><div class="ttdef"><b>Definition:</b> IMemoryAllocator.h:187</div></div>
</div><!-- fragment --> L'alignement de 64 octets permet d'utiliser tous les mécanismes de vectorisation disponibles à ce jour dans Arcane, soit SSE, AVX et AVX512.</li>
<li>Les variables tableaux 1D et 2D ainsi que les variables scalaires et tableau sur les entités du maillage sont maintenant toujours allouées avec l'allocateur <a class="el" href="../../d0/d7e/classArccore_1_1AlignedMemoryAllocator.html#aa36776272470f04a8ed1a6245aed27e4" title="Allocateur garantissant l&#39;alignement pour utiliser la vectorisation sur la plateforme cible.">Arcane::AlignedMemoryAllocator::Simd()</a>.</li>
<li>Les indices des entités d'un ItemGroup sont maintenant toujours alloués avec l'allocateur <a class="el" href="../../d0/d7e/classArccore_1_1AlignedMemoryAllocator.html#aa36776272470f04a8ed1a6245aed27e4" title="Allocateur garantissant l&#39;alignement pour utiliser la vectorisation sur la plateforme cible.">Arcane::AlignedMemoryAllocator::Simd()</a>. A noter que ce n'est pas le cas de <a class="el" href="../../d1/d71/classArcane_1_1ItemVector.html" title="Vecteur d&#39;entités.">Arcane::ItemVector</a>.</li>
<li>Les différentes macros utilisées pour gérer l'enumération avec la vectorisation (<a class="el" href="../../d5/d04/group__ArcaneSimd.html#ga0a9dc0b44f6c0935eefd6947014c937f" title="Enumérateur SIMD sur un groupe ou liste de mailles.">ENUMERATE_SIMD_CELL</a>, <a class="el" href="../../d5/d04/group__ArcaneSimd.html#ga0ce41096d8b9324f1b6ba22c44240acf" title="Enumérateur SIMD sur un groupe ou liste de noeuds.">ENUMERATE_SIMD_NODE</a>, ...) nécessitent maintenant des tableaux alignés. Si ce n'est pas le cas, cela provoque une exception lors de l'exécution. <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code" href="../../de/db5/group__Mesh.html#ga4d78be302ffdabc4e0f16578cc077314">CellGroup</a> cells = ...;</div>
<div class="line"><a class="code" href="../../de/db5/group__Mesh.html#ga098f1d69085543e45c84e21aea721d8c">CellVector</a> vec_cells = ...;</div>
<div class="line"><a class="code" href="../../d5/d04/group__ArcaneSimd.html#ga0a9dc0b44f6c0935eefd6947014c937f">ENUMERATE_SIMD_CELL</a>(ivcell,cells){ <span class="comment">// OK car un CellGroup est toujours aligné</span></div>
<div class="line">}</div>
<div class="line"><a class="code" href="../../d5/d04/group__ArcaneSimd.html#ga0a9dc0b44f6c0935eefd6947014c937f">ENUMERATE_SIMD_CELL</a>(ivcell,vec_cells){ <span class="comment">// ERREUR car un CellVector n&#39;est pas toujours aligné</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__ArcaneSimd_html_ga0a9dc0b44f6c0935eefd6947014c937f"><div class="ttname"><a href="../../d5/d04/group__ArcaneSimd.html#ga0a9dc0b44f6c0935eefd6947014c937f">ENUMERATE_SIMD_CELL</a></div><div class="ttdeci">#define ENUMERATE_SIMD_CELL(name, group)</div><div class="ttdoc">Enumérateur SIMD sur un groupe ou liste de mailles.</div><div class="ttdef"><b>Definition:</b> SimdItem.h:473</div></div>
<div class="ttc" id="agroup__Mesh_html_ga098f1d69085543e45c84e21aea721d8c"><div class="ttname"><a href="../../de/db5/group__Mesh.html#ga098f1d69085543e45c84e21aea721d8c">Arcane::CellVector</a></div><div class="ttdeci">ItemVectorT&lt; Cell &gt; CellVector</div><div class="ttdoc">Vecteur de mailles.</div><div class="ttdef"><b>Definition:</b> ItemTypes.h:416</div></div>
<div class="ttc" id="agroup__Mesh_html_ga4d78be302ffdabc4e0f16578cc077314"><div class="ttname"><a href="../../de/db5/group__Mesh.html#ga4d78be302ffdabc4e0f16578cc077314">Arcane::CellGroup</a></div><div class="ttdeci">ItemGroupT&lt; Cell &gt; CellGroup</div><div class="ttdoc">Groupe de mailles.</div><div class="ttdef"><b>Definition:</b> ItemTypes.h:143</div></div>
</div><!-- fragment --></li>
<li>L'utilisation des méthodes <a class="el" href="../../d4/dad/group__Concurrency.html#gafe72b9ee3469b918af4c958bc16582be" title="Applique en concurrence la fonction lambda lambda_function instance sur la vue du composant items_vie...">Parallel::Foreach()</a> sur les groupes d'entités garantit que les itérations se feront sur des multiples de 8 valeurs. Il est ainsi valide d'écrire le code suivant: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code" href="../../de/db5/group__Mesh.html#ga4d78be302ffdabc4e0f16578cc077314">CellGroup</a> cells = ...;</div>
<div class="line"><a class="code" href="../../d4/dad/group__Concurrency.html#gafe72b9ee3469b918af4c958bc16582be">Parallel::Foreach</a>(cells,[<span class="keyword">this</span>](<a class="code" href="../../de/db5/group__Mesh.html#ga914dea9362ea4dd4c2ca3023bcdbeb62">CellVectorView</a> cvv){</div>
<div class="line">  <a class="code" href="../../d5/d04/group__ArcaneSimd.html#ga0a9dc0b44f6c0935eefd6947014c937f">ENUMERATE_SIMD_CELL</a>(ivcell,cvv){</div>
<div class="line">    <a class="code" href="../../d5/d04/group__ArcaneSimd.html#ga1fa29db17212b77758a93b80957fe001">SimdCell</a> cell = *ivcell;</div>
<div class="line">    ...</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__ArcaneSimd_html_ga1fa29db17212b77758a93b80957fe001"><div class="ttname"><a href="../../d5/d04/group__ArcaneSimd.html#ga1fa29db17212b77758a93b80957fe001">Arcane::SimdCell</a></div><div class="ttdeci">SimdItemT&lt; Cell &gt; SimdCell</div><div class="ttdoc">Vecteur SIMD de Cell.</div><div class="ttdef"><b>Definition:</b> SimdItem.h:431</div></div>
<div class="ttc" id="agroup__Concurrency_html_gafe72b9ee3469b918af4c958bc16582be"><div class="ttname"><a href="../../d4/dad/group__Concurrency.html#gafe72b9ee3469b918af4c958bc16582be">Arcane::Parallel::Foreach</a></div><div class="ttdeci">void Foreach(const ComponentItemVectorView &amp;items_view, const LambdaType &amp;lambda_function)</div><div class="ttdoc">Applique en concurrence la fonction lambda lambda_function instance sur la vue du composant items_vie...</div><div class="ttdef"><b>Definition:</b> MatConcurrency.h:164</div></div>
<div class="ttc" id="agroup__Mesh_html_ga914dea9362ea4dd4c2ca3023bcdbeb62"><div class="ttname"><a href="../../de/db5/group__Mesh.html#ga914dea9362ea4dd4c2ca3023bcdbeb62">Arcane::CellVectorView</a></div><div class="ttdeci">ItemVectorViewT&lt; Cell &gt; CellVectorView</div><div class="ttdoc">Vue sur un vecteur de mailles.</div><div class="ttdef"><b>Definition:</b> ItemTypes.h:237</div></div>
</div><!-- fragment --></li>
<li>Ajoute le support pour la vectorisation de type AVX512 et supprime la vectorisation spécifique aux processeurs Intel Knight Corner (KNC). L'AVX512 est supportée à partir des Xeon Skylake et sur les processeurs de XeonPhi à partir de l'Intel Knight Landing (KNL).</li>
<li>Autorise plusieurs types de vectorisation à la fois via les classes de vectorisation de Arcane. Par exemple, sur les machines haswell qui supportent l'AVX et le SSE les classes SSESimdReal et AVXSimdReal sont toujours disponibles. Dans les versions précédentes de Arcane, seul le type de vectorisation le plus performant était disponible (AVX512 &gt; AVX &gt; SSE).</li>
</ul>
<h2><a class="anchor" id="arcanedoc_version239_misc"></a>
Améliorations diverses</h2>
<ul>
<li>Support de la sémantique std::move() du C++11 pour la classe UniqueArray. Cela permet entre autre de retourner des UniqueArray sans faire de recopie mémoire, d'implémenter std::swap() de manière optimisée.</li>
<li>Ajoute de versions optimisées pour échanger les valeurs de deux variables du maillage (scalaire ou tableau) via une méthode swapValues(). Cette méthode permet d'échanger juste les pointeurs contenant les zones mémoires des deux variables sans recopie. Par exemple <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code" href="../../d3/d00/group__Variable.html#ga135a2515548fbcacb89c3ce1a2410b79">VariableCellReal</a> temperature = ...;</div>
<div class="line"><a class="code" href="../../d3/d00/group__Variable.html#ga135a2515548fbcacb89c3ce1a2410b79">VariableCellReal</a> old_temperature = ...;</div>
<div class="line"><a class="code" href="../../d3/d00/group__Variable.html#gaee6feded16c556185773d761fc09796f">VariableCellArrayReal</a> energy = ...; <span class="comment">// Variable 1D sur les mailles</span></div>
<div class="line"><a class="code" href="../../d3/d00/group__Variable.html#gaee6feded16c556185773d761fc09796f">VariableCellArrayReal</a> old_energy = ...;</div>
<div class="line">old_temperature.swapValues(temperature);</div>
<div class="line">old_energy.swapValues(energy);</div>
<div class="ttc" id="agroup__Variable_html_gaee6feded16c556185773d761fc09796f"><div class="ttname"><a href="../../d3/d00/group__Variable.html#gaee6feded16c556185773d761fc09796f">Arcane::VariableCellArrayReal</a></div><div class="ttdeci">MeshVariableArrayRefT&lt; Cell, Real &gt; VariableCellArrayReal</div><div class="ttdoc">Grandeur au centre des mailles de type tableau de réel.</div><div class="ttdef"><b>Definition:</b> VariableTypedef.h:778</div></div>
</div><!-- fragment --></li>
<li>Passage à la version 1.11.4 de hwloc.</li>
<li>[C#] Dans Arcane.Curves, support des courbes avec plusieurs valeurs par itération (courbes 2D).</li>
<li>Utilise le temps réel (elapsed) au lieu du temps CPU pour les statistiques de fin de calcul. Le temps réel est plus précis que le temps CPU et est indépendant du nombre de threads utilisés. Il est possible de remettre l'utilisation du temps CPU en positionnant la variable d'environnement ARCANE_USE_VIRTUAL_TIMER. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">%Arcane</a></li>
    <li class="footer">Généré le Lundi 15 Août 2022 03:39:33 pour Arcane par <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
