<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.9.8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="../../logo_arcane.svg" type="image/svg+xml">
    <title>Arcane: Changelog Arcane v2.X.X</title>
    <link href="../../tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../../jquery.js"></script>
    <script type="text/javascript" src="../../dynsections.js"></script>
    <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
    <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
    <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-custom.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../user_colors.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
    <script type="text/javascript" src="../../script-helper.js"></script>
    <script type="text/javascript" src="../../script-resize.js"></script>
    <script type="text/javascript" src="../../script-num-lines-code.js"></script>
    <script type="text/javascript" src="../../script-config-theme.js"></script>
    <script type="text/javascript" src="../../script-edit-config-theme.js"></script>
    <script type="text/javascript" src="../../script-alternative-theme.js"></script>
    <script type="text/javascript">
      // On demande l'activation de la personnalisation de la page.
      var no_custom_theme = false;
      DoxygenAwesomeDarkModeToggle.title = "Thème clair/sombre";
      DoxygenAwesomeDarkModeToggle.init();
      DoxygenAwesomeFragmentCopyButton.title = "Copier le code dans le presse-papier";
      DoxygenAwesomeFragmentCopyButton.init();
      DoxygenAwesomeParagraphLink.init();
      DoxygenAwesomeInteractiveToc.init();
      DoxygenAwesomeTabs.init()
      waitElemForResizeSideNav();
      setOldSize();
      //waitItemExpandCurrent();
    </script>
  </head>
  <body>
    <!--BEGIN CORNER_GITHUB-->
    <!-- https://tholman.com/github-corners/ -->
    <a href="https://github.com/arcaneframework/framework" class="github-corner" aria-label="Voir les sources sur GitHub">
      <svg width="70" height="70" viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body"></path>
      </svg>
    </a>
    <!--END CORNER_GITHUB-->
      <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0">
            <tbody>
              <tr id="projectrow">
                <td id="projectlogo">
                  <a href="../../index.html" title="Aller à la page principale">
                    <img alt="Logo" src="../../arcane_framework_small.webp" />
                  </a>
                </td>
              </tr>
              <tr id="projectrow">
                <td id="projectalign">
                  <div id="projectname">Arcane
                    <span id="projectnumber">&#160;v3.15.3.0</span>
                  </div>
                  <div id="projectbrief">Documentation utilisateur</div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part -->
<!-- Généré par Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d9/dec/arcanedoc_news_changelog20.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Changelog Arcane v2.X.X</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table des matières</h3>
<ul><li class="level1"><a href="#arcanedoc_news_changelog_version2220">Arcane Version 2.22.0 (03 mars 2021)</a><ul><li class="level2"><a href="#autotoc_md23">Nouveautés/Améliorations:</a></li>
<li class="level2"><a href="#autotoc_md24">Changements:</a></li>
<li class="level2"><a href="#autotoc_md25">Corrections:</a></li>
</ul>
</li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2200">Arcane Version 2.20.0 (07 janvier 2021)</a><ul><li class="level2"><a href="#autotoc_md26">Nouveautés/Améliorations:</a></li>
<li class="level2"><a href="#autotoc_md27">Changements:</a></li>
<li class="level2"><a href="#autotoc_md28">Corrections:</a></li>
</ul>
</li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2190">Arcane Version 2.19.0 (30 juin 2020)</a><ul><li class="level2"><a href="#autotoc_md29">Changements:</a></li>
<li class="level2"><a href="#autotoc_md30">Nouveautés/Améliorations:</a></li>
</ul>
</li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2180">Arcane Version 2.18.0 (09 décembre 2019)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2170">Arcane Version 2.17.0 (09 octobre 2019)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2160">Arcane Version 2.16.0 (18 juillet 2019)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2150">Arcane Version 2.15.0 (13 juin 2019)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2140">Arcane Version 2.14.0 (04 mars 2019)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2130">Arcane Version 2.13.0 (21 janvier 2019)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2120">Arcane Version 2.12.0 (11 décembre 2018)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2110">Arcane Version 2.11.0 (18 octobre 2018)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2101">Arcane Version 2.10.1 (04 octobre 2018)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version2100">Arcane Version 2.10.0 (septembre 2018)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version291">Arcane Version 2.9.1 (juin 2018)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version280">Arcane Version 2.8.0 (31 janvier 2018)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version270">Arcane Version 2.7.0 (20 octobre 2017)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version261">Arcane Version 2.6.1 (18 septembre 2017)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version260">Arcane Version 2.6.0 (22 aout 2017)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version252">Arcane Version 2.5.2 (25 juillet 2017)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version251">Arcane Version 2.5.1 (04 mai 2017)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version250">Arcane Version 2.5.0 (15 mars 2017)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version242">Arcane Version 2.4.2 (13 Janvier 2017)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version241">Arcane Version 2.4.1 (01 Décembre 2016)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version240">Arcane Version 2.4.0 (Novembre 2016)</a></li>
<li class="level1"><a href="#arcanedoc_news_changelog_version239">Arcane Version 2.3.9 (Septembre 2016)</a></li>
</ul>
</div>
<div class="textblock"><p>Cette page contient les nouveautés de chaque version de Arcane v2.X.X.</p>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2220"></a>
Arcane Version 2.22.0 (03 mars 2021)</h1>
<h2><a class="anchor" id="autotoc_md23"></a>
Nouveautés/Améliorations:</h2>
<ul>
<li>Support des protections/reprises pour les maillages AMR</li>
<li>Modifications internes pour le support des accélérateurs, notamment le support des cartes graphiques (GPGPU).</li>
<li>Suppression des classes et familles d'entités pour les Arcane::DualNode et Arcane::Link. Ces classes peuvent être remplacées par l'utilisation de <a class="el" href="../../d0/d6c/classArcane_1_1DoF.html" title="classe degré de liberté.">Arcane::DoF</a>.</li>
<li>Support partiel des fichiers de maillage au format 'msh' version 4.1.</li>
</ul>
<h2><a class="anchor" id="autotoc_md24"></a>
Changements:</h2>
<ul>
<li>[IMPORTANT] Cette version utilise par défaut les nouvelles structures de connectivités. Cela ne devrait normalement pas avoir d'impact sur les codes existants à condition qu'ils n'utilisent pas les classes internes de Arcane qui gèrent les entités (comme par exemple <a class="el" href="../../dd/df1/classArcane_1_1ItemInternal.html">Arcane::ItemInternal</a>).</li>
<li>Les statistiques d'exécution sur les temps passés dans les différents points d'entrée et modules qui sont affichées à la fin du calcul contiennent maintenant le cumul sur l'ensemble des exécutions (en cas d'utilisation de protection/reprise) et plus seulement les statistiques sur l'exécution courante.</li>
<li>Simplification des différents mécanismes pour initialiser et exécuter un code utilisant Arcane (voir <a class="el" href="../../d8/dd6/arcanedoc_execution_launcher.html">Lancement d'un calcul</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md25"></a>
Corrections:</h2>
<ul>
<li>Corrige problème potentiel en parallèle lors de la création du répertoire pour les protections. Il était possible pour certains processus de tenter d'accéder à ce répertoire avant sa création.</li>
<li>Corrige utilisation du script <code>arcane_convert_mesh</code> servant pour la conversion de maillages.</li>
<li>Ré-active la génération de la documentation des services et modules fournis par Arcane</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2200"></a>
Arcane Version 2.20.0 (07 janvier 2021)</h1>
<h2><a class="anchor" id="autotoc_md26"></a>
Nouveautés/Améliorations:</h2>
<ul>
<li>Ajout d'une nouvelle interface '<a class="el" href="../../de/d5b/classArcane_1_1IAsyncParticleExchanger.html" title="Interface d&#39;un échangeur de particules asynchrone.">Arcane::IAsyncParticleExchanger</a>' permettant l'échange de particules de manière asynchronone. Un nouveau service <code>AsyncParticleExchanger</code> implémente cette interface.</li>
<li>Ajoute la possibilité de supprimer pour une variable la mémoire additionnelle éventuellement utilisées via la méthode <a class="el" href="../../d5/d96/classArcane_1_1IVariable.html#afa73162543c1920c7ce81a1922ebad1a" title="Libère l&#39;éventuelle mémoire supplémentaire allouée pour les données.">Arcane::IVariable::shrinkMemory()</a></li>
<li>Début du support pour le raffinement de maillage cartésien en 2D. Il est maintenant possible d'appeler <a class="el" href="../../d1/d62/classArcane_1_1ICartesianMesh.html#a61963389cc84dd948e90475d6793541f" title="Raffine en 2D un bloc du maillage cartésien.">Arcane::ICartesianMesh::refinePatch2D()</a> pour raffiner une partie du maillage</li>
<li>Support pour les <a class="el" href="../../d8/deb/classArccore_1_1MessagePassing_1_1MessageId.html" title="MessageId.">Arccore::MessagePassing::MessageId</a> dans les messages de sérialisation (<a class="el" href="../../df/d29/classArccore_1_1MessagePassing_1_1ISerializeMessage.html">Arccore::MessagePassing::ISerializeMessage</a>)</li>
<li>Support de la version 6.0.0 de Papi et des versions récentes de PETSc pour <code>aleph</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md27"></a>
Changements:</h2>
<ul>
<li>Unification de la documentation entre les parties CEA et la partie commune</li>
<li>Support des tests unitaires en parallèle (voir <a class="el" href="../../d6/dc6/arcanedoc_debug_perf_unit_tests.html#arcanedoc_debug_perf_unit_tests_parallel">Tests unitaires en parallèle</a>)</li>
<li>Modifications des classes <a class="el" href="../../d1/d15/classArcane_1_1IData.html" title="Interface d&#39;une donnée.">Arcane::IData</a>, <a class="el" href="../../d9/d08/classArcane_1_1ISerializedData.html">Arcane::ISerializedData</a> pour utiliser <a class="el" href="../../de/d9f/classArccore_1_1Ref.html" title="Référence à une instance.">Arccore::Ref</a> pour gérer les références</li>
<li>Début refonte de la création et gestion de la mémoire des variables pour pouvoir à terme permettre aux développeurs d'ajouter leurs propres variables.</li>
</ul>
<h2><a class="anchor" id="autotoc_md28"></a>
Corrections:</h2>
<ul>
<li>Corrige plantage lors de l'utilisation de PTScotch lors d'un partitionnement en cas de redistribution mono-noeud.</li>
<li>Nomme correctement le fichier 'ArcaneConfigVersion.cmake' pour pouvoir utiliser un numéro de version pour Arcane dans la commande CMake <code>find_package()</code>.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2190"></a>
Arcane Version 2.19.0 (30 juin 2020)</h1>
<dl class="section note"><dt>Note</dt><dd>Suite aux modifications dans la sérialisation, il n'est en général pas possible de reprendre avec cette version de Arcane un calcul commencé avec une version antérieure.</dd></dl>
<h2><a class="anchor" id="autotoc_md29"></a>
Changements:</h2>
<ul>
<li>Afin de préparer la modularisation d'Arcane, la récupération du sous-domaine (<a class="el" href="../../d9/d1e/classArcane_1_1ISubDomain.html" title="Interface du gestionnaire d&#39;un sous-domaine.">Arcane::ISubDomain</a>) est obsolète via beaucoup de classes (<a class="el" href="../../d0/d9f/classArcane_1_1IMesh.html">Arcane::IMesh</a>, <a class="el" href="../../d5/d96/classArcane_1_1IVariable.html">Arcane::IVariable</a>, <a class="el" href="../../dd/d74/classArcane_1_1ICaseOptions.html">Arcane::ICaseOptions</a>, ...). Les codes ayant besoin d'une instance de <a class="el" href="../../d9/d1e/classArcane_1_1ISubDomain.html" title="Interface du gestionnaire d&#39;un sous-domaine.">Arcane::ISubDomain</a> doivent maintenant le passer explicitement aux méthodes ou classes l'utilisant. Les services et les modules continuent d'avoir accès aux sous-domaines.</li>
<li>Utilisation de <a class="el" href="../../d7/d6f/classArcane_1_1MeshHandle.html" title="Handle sur un maillage.">Arcane::MeshHandle</a> au lieu de <a class="el" href="../../d0/d9f/classArcane_1_1IMesh.html">Arcane::IMesh</a>. Avec la possibilité d'utiliser les services pour créér des maillages, les maillages ne sont plus créés avant les services. La classe <a class="el" href="../../d7/d6f/classArcane_1_1MeshHandle.html" title="Handle sur un maillage.">Arcane::MeshHandle</a> permet de gérer une référence sur un maillage avant que ce dernier n'existe. Il faut notamment utiliser cette classe dans les constructeurs des modules et services. La méthode <a class="el" href="../../d7/d6f/classArcane_1_1MeshHandle.html#a7b31d224556f6c703eb114dabafaf5cd" title="Maillage associé.">Arcane::MeshHandle::mesh()</a> permet de récupérer le maillage associé s'il a déjà été créé.</li>
<li>Utilisation de la classe <a class="el" href="../../de/d9f/classArccore_1_1Ref.html" title="Référence à une instance.">Arccore::Ref</a> pour gérer les références sur les <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html" title="Interface du gestionnaire de parallélisme pour un sous-domaine.">Arcane::IParallelMng</a>. Par conséquent, la méthode <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#aba75e3fa81de397a36f699054d3b30e1" title="Créé un nouveau gestionnaire de parallélisme pour un sous-ensemble des rangs.">Arcane::IParallelMng::createSubParallelMng()</a> est déclarée obsolète et il faut maintenant utiliser <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#ac0d8492a9e508ba77b87b36374d62f5e" title="Créé un nouveau gestionnaire de parallélisme pour un sous-ensemble des rangs.">Arcane::IParallelMng::createSubParallelMngRef()</a>.</li>
<li>Modification de Arccore::Span2::operator[]() pour retourner des <a class="el" href="../../dd/d9f/classArccore_1_1Span.html" title="Vue d&#39;un tableau d&#39;éléments de type T.">Arccore::Span</a> au lieu de <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a>. Cela permet d'être cohérent avec les autres méthodes de <a class="el" href="../../dd/d86/classArccore_1_1Span2.html" title="Vue pour un tableau 2D dont la taille est un &#39;Int64&#39;.">Arccore::Span2</a>.</li>
<li>Modification de <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html" title="Interface d&#39;un sérialiseur.">Arccore::ISerializer</a> pour supporter l'écriture directe de tableaux et vérifier la cohérence entre la lecture et l'écriture d'une valeur donnée. Cela nécessite que les appels <code>reserve()/put()/get()</code> soient cohérents. Par exemple, si on utilise la méthode <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html#afe665a86eae1ed4bac30fa89a254d0ca" title="Réserve pour sauver le nombre d&#39;éléments et les values éléments.">Arccore::ISerializer::reserveArray()</a>, il faut utiliser ensuite <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html#a970f6c7e4ea15d2ba37c33798e1916cc" title="Sauve le nombre d&#39;éléments et les values éléments.">Arccore::ISerializer::putArray()</a> et <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html#a6db5d0943909e5085b2bfe857b95876f" title="Redimensionne et remplit values.">Arccore::ISerializer::getArray()</a>. Suite à cette modification, les méthodes <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html#a0ba980fcc1dcf2f5b6d17d7f6dc1c414" title="Récupère le tableau values.">Arccore::ISerializer::get()</a> et <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html#aa9270d644b63f57f19cedd59848e10f0" title="Ajoute le tableau values.">Arccore::ISerializer::put()</a> qui prenaient un <a class="el" href="../../dd/d9f/classArccore_1_1Span.html" title="Vue d&#39;un tableau d&#39;éléments de type T.">Arccore::Span</a> ou <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a> en argument sont obsolètes</li>
<li>Utilisation d'une macro spécifique ARCANE_CHECK_MATH pour tester la validité des opérations mathématiques de <a class="el" href="../../d8/d68/namespaceArcane_1_1math.html" title="Espace de nom pour les fonctions mathématiques.">Arcane::math</a>. Auparavant cela était fait via la macro ARCANE_CHECK mais cela pouvait induire des effets de bord lorsqu'on comparait deux calculs avec et sans ce mode de vérification.</li>
</ul>
<h2><a class="anchor" id="autotoc_md30"></a>
Nouveautés/Améliorations:</h2>
<ul>
<li>Nombreuses améliorations sur l'échange de messages:<ul>
<li>Support de toutes les méthodes de <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html" title="Interface du gestionnaire de parallélisme pour un sous-domaine.">Arcane::IParallelMng</a> en mode hybride et en mode mémoire partagée. En particulier, il manquait certaines méthodes de sérialisation.</li>
<li>Support des tags utilisateurs dans les méthodes point à point (send/receive)</li>
<li>Utilisation de types spécifiques pour gérer les tags (Arccore::MessageTag) et les rangs (Arccore::MessageRank). Ces types remplacent le type 'Int32' utilisé précédemment.</li>
<li>Unification de la gestion des méthodes point à point. Les paramètres nécessaires sont gérés par la classe Arccore::PointToPointMessageInfo.</li>
<li>support des méthodes MPI utilisant un <code>MPI_Message</code> (<code>MPI_Mprobe</code>, <code>MPI_Improbe</code>, <code>MPI_Imrecv</code>, <code>MPI_Mrecv</code>). Ces méthodes permettent de garantir qu'un <code>MPI_Recv</code> correspond bien au <code>MPI_Probe</code> utilisé précédemment. Ces mécanismes sont aussi accessibles en mode hybride.</li>
</ul>
</li>
<li>Support du partitionnement de maillage en mode mémoire partagée et hybride</li>
<li>Ajoute dans le partitionneur <code>Metis</code> un mode permettant d'utiliser un seul processus pour le partitionnement. Auparavant il était nécessaire d'utiliser au minumum deux processus (à cause d'un bug dans <code>ParMetis</code>)</li>
<li>Correction de l'algorithme permettant de garantir qu'il n'y a pas de partitions vides après utilisation de <code>ParMetis</code>.</li>
<li>Préparation de <a class="el" href="../../dd/dcd/classArccore_1_1ISerializer.html" title="Interface d&#39;un sérialiseur.">Arccore::ISerializer</a> pour supporter à terme d'autres types de données (par exemple des 'Float32' ou 'Float16')</li>
<li>Enregistre un hash du nom de la variable lors des sérialisations. Cela permet de garantir qu'on est bien en train de désérialiser la bonne variable.</li>
<li>Amélioration diverses du lecteur/écrivain au format JSON</li>
<li>Génère dans les logs après un repartitionnement les informations sur les sous-domaines connectés à un sous-domaine.</li>
<li>Support de la compilation via l'outil 'spack'.</li>
<li>Dans le jeu de données, ajoute la possibilité de mettre un bloc <code>&lt;comment&gt;</code> en dessous de la racine. Cela est utile si un module n'est pas actif mais qu'on souhaite garder ses options. Il suffit alors de mettre ce bloc d'option entre les balises <code>&lt;comment&gt;</code> et <code>&lt;/comment&gt;</code>.</li>
<li>[.Net] Génère des packages <code>nuget</code> pour l'utilisation du wrapping. Il est donc possible de directement référencer ces pacakges plutôt que d'aller chercher directement les <code>.dll</code>. L'utilisation de packages <code>nuget</code> permet aussi de gérer automatiquement les dépendances.</li>
<li>[.Net] Passage à la version 3.1 de '.Net Core'.</li>
</ul>
<p>Les points suivants sont en cours de développement mais non finalisés:</p>
<ul>
<li>Gestion de la création des maillages sous forme de service. A terme seul ce mode sera disponible. Il permettra notamment de pouvoir créér des structures de maillages spécifiques (par exemple cartésien)</li>
<li>Refonte de l’initialisation pour permettre d’utiliser Arcane sans passer par une boucle en temps</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2180"></a>
Arcane Version 2.18.0 (09 décembre 2019)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Amélioration de l'implémentation de la classe <a class="el" href="../../d4/d2e/classArcane_1_1HPReal.html" title="Classe implémentant un réel Haute Précision.">Arcane::HPReal</a> qui corrige quelques cas limites et ajoute le support de la multiplication et de la division</li>
<li>Création d'une classe universelle <a class="el" href="../../de/d9f/classArccore_1_1Ref.html" title="Référence à une instance.">Arccore::Ref</a> pour gérer la durée de vie des objets tels que les services. Cette classe permet de détruire automatiquement un objet lorsqu'il n'y a plus de référence dessus. Les services alloués dynamiquement utilisent maintenant cette classe. Par exemple: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code hl_class" href="../../d9/d1e/classArcane_1_1ISubDomain.html">ISubDomain</a>* <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">sd</a> = ...;</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">ServiceBuilder&lt;IDataReader&gt;</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">sb</a>(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">sd</a>);</div>
<div class="line"><a class="code hl_class" href="../../d1/d46/classArcane_1_1IDataReader.html">IDataReader</a>* <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">old_reader</a> = <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">sb</a>.createInstance(...); <span class="comment">// Obsolète</span></div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">Arccore::Ref&lt;IDataReader&gt;</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">new_reader</a> = <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">sb</a>.createReference(...); <span class="comment">// Nouveau mécanisme.</span></div>
<div class="ttc" id="aclassArcane_1_1IDataReader_html"><div class="ttname"><a href="../../d1/d46/classArcane_1_1IDataReader.html">Arcane::IDataReader</a></div><div class="ttdoc">Interface de lecture des données d'une variable.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d9b/IDataReader_8h_source.html#l00040">IDataReader.h:41</a></div></div>
<div class="ttc" id="aclassArcane_1_1ISubDomain_html"><div class="ttname"><a href="../../d9/d1e/classArcane_1_1ISubDomain.html">Arcane::ISubDomain</a></div><div class="ttdoc">Interface du gestionnaire d'un sous-domaine.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d4b/ISubDomain_8h_source.html#l00072">ISubDomain.h:74</a></div></div>
<div class="ttc" id="aclassArccore_1_1Ref_html"><div class="ttname"><a href="../../de/d9f/classArccore_1_1Ref.html">Arccore::Ref</a></div><div class="ttdoc">Référence à une instance.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d92/arccore_2src_2base_2arccore_2base_2Ref_8h_source.html#l00141">arccore/src/base/arccore/base/Ref.h:143</a></div></div>
<div class="ttc" id="anamespaceArcane_html"><div class="ttname"><a href="../../d0/d32/namespaceArcane.html">Arcane</a></div><div class="ttdoc">-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-</div><div class="ttdef"><b>Definition</b> <a href="../../de/df4/AbstractCaseDocumentVisitor_8cc_source.html#l00020">AbstractCaseDocumentVisitor.cc:20</a></div></div>
</div><!-- fragment --> Via cette classe <a class="el" href="../../de/d9f/classArccore_1_1Ref.html" title="Référence à une instance.">Arccore::Ref</a>, il ne faut plus détruire explicitement un objet. La méthode Arccore::makeRef() permet de créer une référence à partir d'un pointeur alloué par 'operator new'.</li>
<li>Refonte partielle du mécanisme de lecture des options du jeu de données. Le but à terme est de pouvoir utiliser autre chose que XML pour l'entrée des données. Les modifications concernent essentiellement les classes de bases gérant les options et ne devraient pas avoir d'incidence sur le code utilisateur.</li>
<li>Détecte les options du jeu de données sous la racine qui ne sont pas lues et retourne une erreur. La variable d'environnement <b>ARCANE_ALLOW_UNKNOWN_ROOT_ELEMENT</b> permet si elle positionnée d'afficher un avertissement plutôt qu'une erreur.</li>
<li>[.Net] Passage à la version 3.0 de '.Net Core'.</li>
<li>[.Net] Support en C# des classes gérants les matériaux et les milieux et des variables scalaires sur les constituants.</li>
<li>[.Net] Support pour lancer les extensions utilisateur C# via l'outil <code>dotnet</code> à la place de <code>mono</code> ce qui permet de débugger le code C# via par exemple <em>Visual Studio Code</em>.</li>
<li>Passage à la version 6.38.0 de Lima, qui permet de lire les fichiers au format <code>mli2</code>. Ce format utilise une version récente de <em>HDF5</em> et optimise notamment la taille des fichiers de maillage lorsqu'il y a un grand nombre de groupes vides.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2170"></a>
Arcane Version 2.17.0 (09 octobre 2019)</h1>
<p>Cette version comporte les développements suivants:</p><ul>
<li>[.Net] Refonte de l'environnement <code>.Net</code> pour permettre de compiler soit avec <code>mono</code>, soit avec l'implémentation Microsoft <code>dotnet</code>.</li>
<li>[.Net] Uniformisation de l'initialisation avec ou sans l'utilisation du runtime <code>.Net</code>.</li>
<li>Ajout dans le répertoire 'samples' d'un exemple 'EOS' montrant comment rendre accessible en C# des services ou des classes C++.</li>
<li>Application stricte des règles de conversion XML pour la lecture de l'attribut <code>active</code> dans l'élément <code>&lt;module&gt;</code> indiquant si un module est actif ou non. Maintenant, seules les valeurs <code>true</code>, <code>false</code>, <code>0</code> ou <code>1</code> sont autorisées. Auparanvant, toute valeur autre que <code>false</code> était considérée comme <code>true</code>.</li>
<li>Support dans le profiling MPI via la bibliothèque OTF2 des cas avec équilibrage de charge et retour-arrière.</li>
<li>Possibilité de détruire les maillages additionnels via un la classe <a class="el" href="../../d1/d4e/classArcane_1_1IMeshMng.html" title="Interface du gestionnaire des maillages.">Arcane::IMeshMng</a>: <div class="fragment"><div class="line"><a class="code hl_class" href="../../d9/d1e/classArcane_1_1ISubDomain.html">Arcane::ISubDomain</a>* <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">sd</a> = ...;</div>
<div class="line"><a class="code hl_class" href="../../d0/d9f/classArcane_1_1IMesh.html">Arcane::IMesh</a>* <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">mesh_to_destroy</a> = ...;</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">sd</a>-&gt;meshMng()-&gt;destroyMesh(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">mesh_to_destroy</a>);</div>
<div class="ttc" id="aclassArcane_1_1IMesh_html"><div class="ttname"><a href="../../d0/d9f/classArcane_1_1IMesh.html">Arcane::IMesh</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d6e/IMesh_8h_source.html#l00057">IMesh.h:59</a></div></div>
</div><!-- fragment --> Le pointeur <code>mesh_to_destroy</code> ne doit plus être utilisé après appel à la méthode de destruction.</li>
<li>Support dans Arcane::mesh::BasicParticleExchanger des particules qui ne sont pas dans des mailles (celles pour lequelles <a class="el" href="../../dd/d6c/classArcane_1_1Particle.html#a6bd1a058a57e3f0ae599201e75def272" title="Maille à laquelle appartient la particule. Il faut appeler setCell() avant d&#39;appeler cette fonction....">Arcane::Particle::cell()</a> retournent une maille nulle)</li>
<li>Ajoute options dans le service 'BasicParticleExchanger' pour permettre de choisir le nombre de messages maximumum à effectuer avant de faire les réductions</li>
<li>Ajoute pour test une variable d'environnement <code>ARCANE_VARIABLE_SHRINK_MEMORY</code> qui si elle est positionnée à <code>1</code> redimensionne au plus juste la mémoire alloué par les variables après modification du nombre d'entités</li>
<li>Dans <code>Aleph</code>, détruit les communicateurs MPI dans le destructeur de <code>AlephKernel</code>. Cela avait désactivé pour des raisons de compatibilité avec PETSc et d'anciennes versions de MPI.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2160"></a>
Arcane Version 2.16.0 (18 juillet 2019)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Ajout du profiling interne pour les points d'entrée et les appels MPI. Le format des traces dépend de la valeur de la variable d'environnement qui active cette fonctionnalité : <b>ARCANE_MESSAGE_PASSING_PROFILING=OTF2</b> ou <b>JSON</b> (cf doc variable environnement et analyse de performances).</li>
<li>Refonte du wrapper C#. Le wrapper est maintenant composé de plusieurs modules (Arcane.Core, Arcane.Hdf5 et Arcane.Services) et les méthodes wrappées utilisent maintenant les règles de codage du C#: elles commencent par une majuscule.</li>
<li>ajout d'une classe <a class="el" href="../../d7/d6f/classArcane_1_1MeshHandle.html" title="Handle sur un maillage.">Arcane::MeshHandle</a> pour gérer les maillages avant leur création effective. A terme cela permettra de supprimer des maillages et de les créer via des services.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2150"></a>
Arcane Version 2.15.0 (13 juin 2019)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Support pour les messages MPI de plus de 2Go. Cela ne concerne que les message de type MPI_Send/MPI_Recv et uniquement si on passe par Arcane::ISerializer.</li>
<li>Complète l'implémentation de <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html" title="Interface du gestionnaire de parallélisme pour un sous-domaine.">Arcane::IParallelMng</a> en mode mémoire partagée. Toutes les méthodes à part <a class="el" href="../../dc/d5a/classArcane_1_1IParallelMng.html#aba75e3fa81de397a36f699054d3b30e1" title="Créé un nouveau gestionnaire de parallélisme pour un sous-ensemble des rangs.">Arcane::IParallelMng::createSubParallelMng()</a> sont implémentées. Les classes gérant ce mode de parallélisme sont renommées et commencent par <em>SharedMemory</em> au lieu de <em>Thread</em>.</li>
<li>Renommage des classes gérant les échanges de message en mode MPI+Mémoire partagée. Ces classes ont un nom qui commence par <em>Hybrid</em> au lieu de <em>MpiThread</em>.</li>
<li>Support de <code>.NetCore</code> en plus de <code>mono</code> pour la gestion des fichiers <em>AXL</em>. Les projets gérant les fichiers <em>AXL</em> peuvent donc utiliser soit le .NetFramework 4.5 (avec mono), soit .NetCoreApp 2.2 (avec .NetCore). Il est maintenant indispensable d'avoir l'outil <code>msbuild</code> pour compiler avec <code>mono</code>. Par défaut, c'est l'implémentation .NetCore qui est utilisée.</li>
<li>la classe <a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a> considère maintenant que les arguments de type <code>const char*</code> sont encodés en UTF-8 et plus en ISO-8859-1.</li>
<li>la classe <a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a> gère maintenant en interne les chaînes de caractères de plus de 2Go. Par conséquent, la méthode <a class="el" href="../../d2/ddb/classArccore_1_1String.html#aad0d8835379ef7c0fec90d291392f945" title="Retourne la longueur de la chaîne en 32 bits.">Arccore::String::len()</a> devient obsolète et doit être remplacée par la méthode <a class="el" href="../../d2/ddb/classArccore_1_1String.html#ac26fd27ed0d23e015182473efb223352" title="Retourne la longueur de la chaîne.">Arccore::String::length()</a> qui retourne un <em>Int64</em>.</li>
<li>Il est maintenant possible de construire des instances de <a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a> à partir de la classe std::string_view du C++17. Par conséquent, les méthodes de <a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a> qui prenaient un <code>const char*</code> et une longueur en argument devient obsolètes et sont remplacées par des méthodes prenant des std::string_view en argument.</li>
<li>un mode reproductible pour ParMetis a été développé qui permet de garantir le même partitionnement entre deux exécutions en regroupant le graphe sur un seul processeur. Ce mode ne doit pas être utilisé lorsque le nombre de mailles est supérieur à quelques dizaines de millions.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2140"></a>
Arcane Version 2.14.0 (04 mars 2019)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>intégration des développements IFPEN concernant les entités de type <em>degré de liberté</em> (classe <a class="el" href="../../d0/d6c/classArcane_1_1DoF.html" title="classe degré de liberté.">Arcane::DoF</a>).</li>
<li>possibilité de rediriger les sorties listing à la fois sur le flot standard (<code>stdout</code>) et dans un fichier avec la possibilité de ne pas avoir des niveaux de verbosité différents. Suite à ce changement, si la variable d'environnement <code>ARCANE_PARALLEL_OUTPUT</code> est positionnée alors le sous-domaine 0 écrit le listing dans un fichier comme les autres sous-domaine (les fichiers s'appellent <code>output...</code>). Pour spécifier qu'on souhaite écrire un fichier listing il faut positionner la variable d'environnement <code>ARCANE_MASTER_HAS_OUTPUT_FILE</code> ou appeler la méthode <a class="el" href="../../d4/d33/classArcane_1_1ITraceMngPolicy.html#a596053a6a259f58646a42a793fbc64aa" title="Indique si un ITraceMng maître sort les traces dans un fichier en plus de la sortie standard.">Arcane::ITraceMngPolicy::setIsMasterHasOutputFile()</a> avant l'initilisation (par exemple en surchargeant Arcane::MainFactory).</li>
<li>passage en UTF-8 de toutes les sources (Arcane,Arccore,...)</li>
<li>déplacement des sources de 'arccore' dans son propre dépôt GIT et déplacement des sources de <code>arcane/dof</code> dans <code>arcane/mesh</code></li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2130"></a>
Arcane Version 2.13.0 (21 janvier 2019)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li><b>[INCOMPATIBILITÉ]</b> Modification des méthodes <em>begin()</em> et <em>end()</em> pour les classes tableaux et vues sur les tableaux (<a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a>, <a class="el" href="../../db/d8c/classArccore_1_1ConstArrayView.html" title="Vue constante d&#39;un tableau de type T.">Arccore::ConstArrayView</a>, <a class="el" href="../../dd/d9f/classArccore_1_1Span.html" title="Vue d&#39;un tableau d&#39;éléments de type T.">Arccore::Span</a>, <a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a>) afin de retourner un itérateur et plus un pointeur. Si on souhaite récupérer un pointeur, il faut utiliser la méhode <em>data()</em> à la place.</li>
<li><b>[INCOMPATIBILITÉ]</b> Interdit la création d'instances de la classe <a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a>. Il faut utiliser soit <a class="el" href="../../da/daa/classArccore_1_1UniqueArray.html" title="Vecteur 1D de données avec sémantique par valeur (style STL).">Arccore::UniqueArray</a>, soit <a class="el" href="../../d4/dee/classArccore_1_1SharedArray.html" title="Vecteur 1D de données avec sémantique par référence.">Arccore::SharedArray</a>. La classe <a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a> doit être utilisée par référence en argument ou en retour de fonction.</li>
<li>Passage partiel des sources de Arcane UTF-8</li>
<li>Passage à la version 1.10+ de <code>HDF5</code> (au lieu de 1.8)</li>
<li>Support des maillages au format <code>MED</code> (format utilisé par CEA/DEN notamment par la plateforme Salomé)</li>
<li>Modification du générateur 'axldoc' pour génèrer des fichiers Doxygen au format Markdown avec l'extension '.md' au lieu de fichiers .dox</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2120"></a>
Arcane Version 2.12.0 (11 décembre 2018)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>amélioration de la visualisation des variables avec les dernières versions de totalview et ajout de la visualisation pour les variables scalaires</li>
<li>création d'une classe <a class="el" href="../../dd/d86/classArccore_1_1Span2.html" title="Vue pour un tableau 2D dont la taille est un &#39;Int64&#39;.">Arccore::Span2</a> pour gérer les vues sur les tableaux 2D avec les tailles sur 64bits.</li>
<li>refonte interne des protections/reprises pour permettre de changer le nombre de sous-domaines en reprise.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2110"></a>
Arcane Version 2.11.0 (18 octobre 2018)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Support des tableaux (<a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a>) et chaînes de caractères (<a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a>) dépassant 2Go. En interne, le nombre d'éléments est maintenant stocké sur 64bits au lieu de 32bits.</li>
<li>Ajout des classes 'LargeArrayView' et 'ConstLargeArrayView' qui sont identiques à 'ArrayView' et 'ConstArrayView' mais utilisent une taille sur 64 bits.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2101"></a>
Arcane Version 2.10.1 (04 octobre 2018)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Possibilité de spécifier plusieurs interfaces pour les services via la macro <a class="el" href="../../d8/dff/group__Service.html#ga08ef55634029238ec40cbb93692033e8" title="Macro pour enregistrer un service.">ARCANE_REGISTER_SERVICE()</a>. Auparavant cela n'était possible que via les fichiers 'axl'.</li>
<li>Les services singletons qui implémentent plusieurs interfaces ne sont créés qu'une seule fois et les interfaces font donc référence à la même instance. Auparavant, il y a avait autant d'instances que d'interfaces.</li>
<li>Il est possible de spécifier dans le fichier 'axl' qu'un service est singleton (voir <a class="el" href="../../d1/d23/arcanedoc_core_types_service.html#arcanedoc_core_types_service_desc">Descripteur de service</a>).</li>
<li>Possibilité de spécifier des valeurs par défaut par catégorie via un nouvel élément <b>defaultvalue</b> dans les fichiers 'axl'. La catégorie utilisée lors de l'exécution peut être positionnée pour chaque code via la méthode <a class="el" href="../../d3/dd9/classArcane_1_1ICaseDocument.html#ab45cee6b68580e7b3b55c126b2038ab7" title="Positionne la catégorie utilisée pour les valeurs par défaut.">Arcane::ICaseDocument::setDefaultCategory()</a>. La page <a class="el" href="../../da/df3/arcanedoc_core_types_axl_caseoptions_struct.html">Structure du fichier</a> indique comment ajouter ces valeurs par défaut.</li>
<li>Possibilité de charger des services singleton dans le jeu de données à la manière des modules via un nouvel élément <b>services</b> dans l'élément &lt;arcane&gt; (voir <a class="el" href="../../d5/dcd/arcanedoc_core_types_casefile.html#arcanedoc_core_types_casefile_arcaneelement">Élément &lt;arcane&gt;</a>).</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version2100"></a>
Arcane Version 2.10.0 (septembre 2018)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Création d'une nouvelle composante 'Arccore' regroupant la partie de Arcane commune avec Alien. Cette composante contient une partie de 'arcane_utils' et 'arcane_mpi'. Par conséquent, les classes de base telles que <a class="el" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode.">Arccore::String</a>, <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a>, <a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a> sont maintenant dans le namespace '<a class="el" href="../../d5/d60/namespaceArccore.html" title="Espace de nom de Arccore.">Arccore</a>' au lieu de '<a class="el" href="../../d0/d32/namespaceArcane.html" title="-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-">Arcane</a>'. Via le mécanisme 'using' du C++ ces classes sont aussi disponibles dans le namespace <a class="el" href="../../d0/d32/namespaceArcane.html" title="-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-">Arcane</a> et il ne devrait donc pas y avoir d'incompatibilité avec le code source existant. La seule condition est de ne pas déclarer explicitement les types Arcane mais d'utiliser le fichier d'en-tête '<a class="el" href="../../d4/da8/UtilsTypes_8h.html" title="Déclarations des types utilisés dans Arcane.">arcane/utils/UtilsTypes.h</a>'.</li>
<li>Utilisation de la bibliothèque 'libxml2' pour gérer le XML au lieu de la bibliothèque 'XercesC'. Cette modification a été effectuée pour deux fonctionnalités qui ne sont pas disponibles dans 'XercesC': le support de XInclude avec XmlSchema et l'encodage UTF-8 des chaînes de caractères.</li>
<li>Rend obsolète la construction de '<a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a>'. Il faut explicitement utiliser soit '<a class="el" href="../../da/daa/classArccore_1_1UniqueArray.html" title="Vecteur 1D de données avec sémantique par valeur (style STL).">Arccore::UniqueArray</a>', soit '<a class="el" href="../../d4/dee/classArccore_1_1SharedArray.html" title="Vecteur 1D de données avec sémantique par référence.">Arccore::SharedArray</a>'.</li>
<li>Sépare l'implémentation de <a class="el" href="../../da/daa/classArccore_1_1UniqueArray.html" title="Vecteur 1D de données avec sémantique par valeur (style STL).">Arccore::UniqueArray</a> de celle de <a class="el" href="../../d4/dee/classArccore_1_1SharedArray.html" title="Vecteur 1D de données avec sémantique par référence.">Arccore::SharedArray</a> pour éviter de conserver des informations qui ne sont utiles que pour l'une ou l'autre de ces classes.</li>
<li>Possibilité de spécifier un nombre de threads compris en 1 et le nombre maximum de threads alloué lors d'une boucle parallèle Arcane::Parallel::ForEach. Cela se fait via la classe <a class="el" href="../../d9/d62/classArcane_1_1ParallelLoopOptions.html" title="Options d&#39;exécution d&#39;une boucle parallèle en multi-thread.">Arcane::ParallelLoopOptions</a>.</li>
<li>Le fichier 'arcane.pc' généré pour pkg-config est obsolète et ne contient plus toutes les bibliothèques utilisées par Arcane. Pour avoir une fonctionnalité équivalente, il faut utiliser 'cmake' avec l'option '&ndash;find-package'.</li>
<li>Refonte de la gestion des itérateurs sur les classes tableaux (<a class="el" href="../../d9/d09/classArccore_1_1Array.html" title="Classe de base des vecteurs 1D de données.">Arccore::Array</a>, <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html" title="Vue modifiable d&#39;un tableau d&#39;un type T.">Arccore::ArrayView</a>, <a class="el" href="../../db/d8c/classArccore_1_1ConstArrayView.html" title="Vue constante d&#39;un tableau de type T.">Arccore::ConstArrayView</a>). Les itérateurs actuels qui retournaient un pointeur sont déclarés obsolète et remplacés par un objet du type <a class="el" href="../../d3/d2f/classArccore_1_1ArrayIterator.html" title="Itérateur sur les classes tableau de Arccore.">Arccore::ArrayIterator</a>. Le fait de retourner un pointeur pouvait poser problème en cas d'héritage. Par exemple: <div class="fragment"><div class="line"><span class="keyword">class </span>A { ... };</div>
<div class="line"><span class="keyword">class </span>B : <span class="keyword">public</span> A { ... };</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">Arcane::Array&lt;B*&gt;</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">array_of_b</a>;</div>
<div class="line"><span class="keywordflow">for</span>( A* <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a> : <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">array_of_b</a>){</div>
<div class="line">  <span class="comment">// Plantage si sizeof(A)!=sizeof(B)</span></div>
<div class="line">}</div>
</div><!-- fragment --> Le nouvel itérateur est partagé entre les trois classes tableaux et est du type std::random_iterator. Suivant les cas d'utilisation, le code actuel peut-être changé comme suit:<ul>
<li>Utilisation de begin() pour récupérer un pointeur sur le début du tableau: utiliser data() à la place: <div class="fragment"><div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">Arcane::ArrayView&lt;Int32&gt;</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a>;</div>
<div class="line">Int32* v = <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a>.begin(); <span class="comment">// Obsolète</span></div>
<div class="line">Int32* v = <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a>.data();  <span class="comment">// OK.</span></div>
</div><!-- fragment --></li>
<li>Utilisation de begin()/end() dans les algorithmes de la STL. Dans ce cas il faut remplacer ces méthodes par std::begin() et std::end(): <div class="fragment"><div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">Arcane::ArrayView&lt;Int32&gt;</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a>;</div>
<div class="line">std::sort(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a>.begin(),<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a>.end()); <span class="comment">// Obsolète</span></div>
<div class="line">std::sort(std::begin(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a>),std::end(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a>)); <span class="comment">// OK</span></div>
</div><!-- fragment --></li>
<li>Utilisation dans le cas d'une boucle for-range du C++11. Dans ce cas il faut utiliser la méthode range du tableau. Par exemple: <div class="fragment"><div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">Arcane::ArrayView&lt;Int32&gt;</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a>;</div>
<div class="line"><span class="keywordflow">for</span>( Int32 x : <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a>) {} <span class="comment">// Obsolète</span></div>
<div class="line"><span class="keywordflow">for</span>( Int32 x : <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">a</a>.range()) {} <span class="comment">// OK</span></div>
</div><!-- fragment --></li>
</ul>
</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version291"></a>
Arcane Version 2.9.1 (juin 2018)</h1>
<p>Cette version comporte les développements suivants:</p><ul>
<li>Possiblité de changer les valeurs par défaut des options du jeu de données. Pour plus d'informations, se reporter à la section <a class="el" href="../../df/de3/arcanedoc_core_types_axl_caseoptions_default_values.html">Gestion des valeurs par défaut</a>.</li>
<li>Ajoute méthode valueIfPresentOrArgument() pour les options simples, énumérées ou étendues. Cela permet de remplacer le code suivant: <div class="fragment"><div class="line">Real x = 3.2;</div>
<div class="line"><span class="keywordflow">if</span> (options()-&gt;<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">myOption</a>.isPresent())</div>
<div class="line">  x = options()-&gt;myOptions();</div>
</div><!-- fragment --> par le code suivant: <div class="fragment"><div class="line">Real x = options()-&gt;myOption.valueIfPresentOrArgument(3.2);</div>
</div><!-- fragment --></li>
<li>Support 64 bits pour l'échangeur de particule non bloquant (service <b>NonBlockingParticleExchanger</b> implémentant <a class="el" href="../../d8/d83/classArcane_1_1IParticleExchanger.html" title="Interface d&#39;un échangeur de particules.">Arcane::IParticleExchanger</a>). Cela permet de dépasser 2^31 particules lors d'un échange.</li>
<li>Ajoute méthode <a class="el" href="../../d5/d9e/classArcane_1_1ITimeLoopMng.html#a76f9be64cc436e74266d916f4099ac04" title="Raison pour laquelle on arrête le code.">Arcane::ITimeLoopMng::stopReason()</a> permettant de connaitre la raison de l'arrêt du code. En particulier, il est maintenant possible de savoir si on exécute la dernière itération lorsqu'un nombre maximum d'itération est spécifié.</li>
<li>Dans le jeu de données, dans la liste des modules à activer, il est maintenant possible de spécifier le nom (traduit ou nom) de l'élément XML du Module au lieu du nom du module. Par exemple, pour le module de protection/reprise de Arcane, dont le nom est 'ArcaneCheckoint', on a actuellement: <div class="fragment"><div class="line">&lt;<span class="keywordtype">cas</span> <span class="keyword">codename</span>=<span class="stringliteral">&quot;ArcaneTest&quot;</span> <span class="keyword">xml:lang</span>=<span class="stringliteral">&quot;fr&quot;</span> <span class="keyword">codeversion</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">arcane</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">modules</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ArcaneCheckpoint&quot;</span> <span class="keyword">actif</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">modules</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">arcane</span>&gt;</div>
<div class="line">  ...</div>
<div class="line">  &lt;<span class="keywordtype">arcane-protections-reprises</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">periode</span>&gt;3&lt;/<span class="keywordtype">periode</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">arcane-protections-reprises</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">cas</span>&gt;</div>
</div><!-- fragment --> et maintenant il est possible de le remplacer par: <div class="fragment"><div class="line">&lt;<span class="keywordtype">cas</span> <span class="keyword">codename</span>=<span class="stringliteral">&quot;ArcaneTest&quot;</span> <span class="keyword">xml:lang</span>=<span class="stringliteral">&quot;fr&quot;</span> <span class="keyword">codeversion</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">arcane</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">modules</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;arcane-protections-reprises&quot;</span> <span class="keyword">actif</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">modules</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">arcane</span>&gt;</div>
<div class="line">  ...</div>
<div class="line">  &lt;<span class="keywordtype">arcane-protections-reprises</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">periode</span>&gt;3&lt;/<span class="keywordtype">periode</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">arcane-protections-reprises</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">cas</span>&gt;</div>
</div><!-- fragment --></li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version280"></a>
Arcane Version 2.8.0 (31 janvier 2018)</h1>
<p>Cette version comporte les développements suivants:</p>
<ul>
<li>Ajout pour les tests unitaires de deux macros <a class="el" href="../../d8/d6c/Assertion_8h.html#a5c44f2c288131123081bc4c9f8bad0ff" title="Vérifie que actual est presque égal à zéro à l&#39;epsilon standard.">ASSERT_NEARLY_ZERO</a> et <a class="el" href="../../d8/d6c/Assertion_8h.html#a036828ac782dd351df161211cfc510ec" title="Vérifie que actual est presque égal à zéro à l&#39;epsilon spécifié epsilon.">ASSERT_NEARLY_ZERO_EPSILON</a> qui permettent de comparer avec zéro une valeur.</li>
<li>Détermination lors de la compilation des types 'Arcane::Int16', 'Arcane::Int32' et 'Arcane::Int64'. A cause de cela, le fichier '<a class="el" href="../../d0/d1e/ArcaneGlobal_8h.html" title="Fichier de configuration d&#39;Arcane.">ArcaneGlobal.h</a>' n'inclut plus le fichier 'limits.h'.</li>
<li><p class="startli">Par défaut, les unités de longueur spécifiées dans les fichiers au format Lima (.unf, .mli, ...) sont maintenant toujours prises en compte. Auparavant, il fallait mettre la valeur 1 à l'attribut 'use-unit' (en anglais) ou 'utilise-unite' (en francais) dans l'élément &lt;mesh&gt; (en anglais) ou &lt;maillage&gt; (en francais). Pour retrouver le comportement d'avant, il faut mettre la valeur '0' à cet attribut. Par exemple en francais: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">maillage</span> <span class="keyword">utilise-unite</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;</div>
<div class="line">...</div>
<div class="line">&lt;/<span class="keywordtype">maillage</span>&gt;</div>
</div><!-- fragment --><p class="startli">ou en anglais:</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">mesh</span> <span class="keyword">use-unit</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;</div>
<div class="line">...</div>
<div class="line">&lt;/<span class="keywordtype">mesh</span>&gt;</div>
</div><!-- fragment --></li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version270"></a>
Arcane Version 2.7.0 (20 octobre 2017)</h1>
<p>Cette version comporte les développements suivants sur les matériaux et les milieux:</p><ul>
<li>possibilité d'itérer uniquement sur les mailles pures ou impures d'un matériau ou d'un milieu.</li>
<li>nouveaux mécanismes pour boucler sur les matériaux et les milieux</li>
<li>début du support de la vectorisation sur les matériaux et les milieux. Pour l'instant ce supporte concerne seulement les variables scalaires et uniquement sur les milieux.</li>
</ul>
<p>Pour plus d'informations sur ces notions, se référer à la page <a class="el" href="../../d9/d76/arcanedoc_materials_loop.html">Boucles sur les entités des matériaux et des milieux</a>.</p>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version261"></a>
Arcane Version 2.6.1 (18 septembre 2017)</h1>
<p>Cette version comporte les développements visibles suivants:</p><ul>
<li>dans les options du jeu de données, ne tolère plus les caractères invalides en fin de chaîne de caractères de l'option. Par exemple, la chaîne '12a3' était considérée comme valide pour une option de type entier et sa valeur était '12'. Maintenant une erreur est retournée dans ce cas.</li>
</ul>
<p>Cette version comporte des développements internes visant à terme à supprimer les anciens mécanismes d'accès aux connectivités.</p>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version260"></a>
Arcane Version 2.6.0 (22 aout 2017)</h1>
<p>Cette version met en service le nouveau mécanisme d'accès aux connectivités. L'ancien mécanisme reste accessible. Les deux mécanismes utilisants des gestions de la mémoire différents, les connectivités sont donc allouées à la fois avec le nouveau et l'ancien mécanisme ce qui se traduit par une augmentation de la mémoire d'environ 1ko par maille. Pour plus d'informations, se reporter à la page <a class="el" href="../../d7/d31/arcanedoc_entities_connectivity_internal.html">Gestion des connectivités des entités</a>.</p>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version252"></a>
Arcane Version 2.5.2 (25 juillet 2017)</h1>
<p>Cette version contient les développements suivants:</p>
<ul>
<li>ajout d'un mécanisme de gestion des évènements (voir fichier "arcane/utils/Event.h" et la classe EventObservable pour un exemple d'utilisation)</li>
<li>ajout d'évènements lors de l'ajout/suppression de variables (<a class="el" href="../../d7/d7c/classArcane_1_1IVariableMng.html#a8152aa800c86e2c1713ec793c33cc9e1" title="Evènement envoyé lorsqu&#39;une variable est créée.">Arcane::IVariableMng::onVariableAdded()</a> et <a class="el" href="../../d7/d7c/classArcane_1_1IVariableMng.html#a18f2e6a3faf6b41ed6e5b0d95cd78e30" title="Evènement envoyé lorsqu&#39;une variable est détruite.">Arcane::IVariableMng::onVariableRemoved()</a>) et lors des synchronisations (<a class="el" href="../../d4/d9f/classArcane_1_1IVariableSynchronizer.html#a9fb47508a8a58e01fa5bbe90dc25f492" title="Evènement envoyé en début et fin de synchronisation.">Arcane::IVariableSynchronizer::onSynchronized()</a>).</li>
<li>possibilité de spécifier un partitionneur statique pour les boucles utilisant le multi-threading. Cela permet d'avoir un comportement déterministe (i.e répétable) entre plusieurs exécutions à condition d'utiliser le même nombre de threads. <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;arcane/Concurrency.h&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code hl_class" href="../../d9/d62/classArcane_1_1ParallelLoopOptions.html">ParallelLoopOptions</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">opt</a>;</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">opt</a>.setPartitioner(ParallelLoopOptions::Partitioner::Static);</div>
<div class="line">TaskFactory::setDefaultParallelLoopOptions(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">opt</a>);</div>
<div class="ttc" id="aclassArcane_1_1ParallelLoopOptions_html"><div class="ttname"><a href="../../d9/d62/classArcane_1_1ParallelLoopOptions.html">Arcane::ParallelLoopOptions</a></div><div class="ttdoc">Options d'exécution d'une boucle parallèle en multi-thread.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d49/ParallelLoopOptions_8h_source.html#l00034">ParallelLoopOptions.h:35</a></div></div>
</div><!-- fragment --></li>
<li>ajout d'un mécanisme de barrière nommée pour garantir que tous les processus arrivent à la même barrière: <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;arcane/Parallel.h&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code hl_class" href="../../dc/d5a/classArcane_1_1IParallelMng.html">IParallelMng</a>* <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">pm</a> = ...;</div>
<div class="line">MessagePassing::namedBarrier(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">pm</a>,<span class="stringliteral">&quot;MyBarrier&quot;</span>);</div>
<div class="ttc" id="aclassArcane_1_1IParallelMng_html"><div class="ttname"><a href="../../dc/d5a/classArcane_1_1IParallelMng.html">Arcane::IParallelMng</a></div><div class="ttdoc">Interface du gestionnaire de parallélisme pour un sous-domaine.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d03/IParallelMng_8h_source.html#l00051">IParallelMng.h:52</a></div></div>
</div><!-- fragment --></li>
<li>possibilité de mixer déclarations de variables matériaux et milieux (pour des variables scalaires uniquement). Dans ce cas toutes les variables sont allouées sur les matériaux et les milieux. Par défaut cela n'est pas actif car cela consomme de la mémoire inutilement. <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d4/d60/namespaceArcane_1_1Materials.html">Arcane::Materials</a>;</div>
<div class="line"><a class="code hl_class" href="../../d5/df0/classArcane_1_1Materials_1_1IMeshMaterialMng.html">IMeshMaterialMng</a>* <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">mm</a> = ...;</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">mm</a>-&gt;setAllocateScalarEnvironmentVariableAsMaterial(<span class="keyword">true</span>);</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">MaterialVariableCellReal</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">mat_var</a>(<a class="code hl_class" href="../../d0/d44/classArcane_1_1Materials_1_1MaterialVariableBuildInfo.html">MaterialVariableBuildInfo</a>(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">mm</a>,<span class="stringliteral">&quot;Var1&quot;</span>));</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">EnvironmentVariableCellReal</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">env_var</a>(<a class="code hl_class" href="../../d0/d44/classArcane_1_1Materials_1_1MaterialVariableBuildInfo.html">MaterialVariableBuildInfo</a>(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">mm</a>,<span class="stringliteral">&quot;Var1&quot;</span>));</div>
<div class="line"><span class="comment">// &#39;mat_var&#39; et &#39;env var&#39; sont les mêmes variables.</span></div>
<div class="ttc" id="aclassArcane_1_1Materials_1_1IMeshMaterialMng_html"><div class="ttname"><a href="../../d5/df0/classArcane_1_1Materials_1_1IMeshMaterialMng.html">Arcane::Materials::IMeshMaterialMng</a></div><div class="ttdoc">Interface du gestionnaire des matériaux et des milieux d'un maillage.</div><div class="ttdef"><b>Definition</b> <a href="../../df/d9c/core_2materials_2IMeshMaterialMng_8h_source.html#l00057">core/materials/IMeshMaterialMng.h:58</a></div></div>
<div class="ttc" id="aclassArcane_1_1Materials_1_1MaterialVariableBuildInfo_html"><div class="ttname"><a href="../../d0/d44/classArcane_1_1Materials_1_1MaterialVariableBuildInfo.html">Arcane::Materials::MaterialVariableBuildInfo</a></div><div class="ttdef"><b>Definition</b> <a href="../../d5/dbb/core_2materials_2MaterialVariableBuildInfo_8h_source.html#l00029">core/materials/MaterialVariableBuildInfo.h:31</a></div></div>
<div class="ttc" id="anamespaceArcane_1_1Materials_html"><div class="ttname"><a href="../../d4/d60/namespaceArcane_1_1Materials.html">Arcane::Materials</a></div><div class="ttdoc">Active toujours les traces dans les parties Arcane concernant les matériaux.</div><div class="ttdef"><b>Definition</b> <a href="../../de/de8/ItemCompatibility_8h_source.html#l00026">ItemCompatibility.h:27</a></div></div>
</div><!-- fragment --></li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version251"></a>
Arcane Version 2.5.1 (04 mai 2017)</h1>
<p>Cette version contient uniquement des développements internes et n'ajoute pas de fonctionnalités directement accessibles aux utilisateurs.</p>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version250"></a>
Arcane Version 2.5.0 (15 mars 2017)</h1>
<p>Cette version intègre les développements pour découpler la gestion des connectivités de celle des entités. Pour des raisons d'économie mémoire, le mécanisme actuel permet d'avoir toutes les connectivités disponibles pour chaque type entité. Potentiellement, cela signifie par exemple qu'une particule et une maille peuvent avoir les mêmes connectivités. Pour plus d'informations sur les nouveaux mécanismes, se reporter à la page suivante <a class="el" href="../../d7/d31/arcanedoc_entities_connectivity_internal.html">Gestion des connectivités des entités</a>. Dans cette version 2.5.0, les nouvelles connectivités ne sont pas actives (ce qui correspond au mode de configuration '&ndash;with-legacy-connectivity' décrit dans la page du lien précédent) donc le comportement des codes utilisant Arcane ne devraient pas changer.</p>
<p>Les autres nouvelles fonctionnalités sont:</p><ul>
<li>ajout d'une méthode Item::isShared() pour indiquer si une entité est partagée par plusieurs sous-domaines. Par exemple: <div class="fragment"><div class="line"><a class="code hl_class" href="../../d9/db2/classArcane_1_1Cell.html">Cell</a> cell = ...;</div>
<div class="line"><span class="keywordflow">if</span> (cell.isShared())</div>
<div class="line">  info() &lt;&lt; <span class="stringliteral">&quot;Cell is shared&quot;</span>;</div>
<div class="ttc" id="aclassArcane_1_1Cell_html"><div class="ttname"><a href="../../d9/db2/classArcane_1_1Cell.html">Arcane::Cell</a></div><div class="ttdoc">Maille d'un maillage.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/dd4/Item_8h_source.html#l01189">Item.h:1191</a></div></div>
</div><!-- fragment --></li>
<li>la synchronisation de plusieurs variables en un seul message MPI est maintenant active par défaut. Par exemple: <div class="fragment"><div class="line"><a class="code hl_class" href="../../d7/d20/classArcane_1_1MeshVariableScalarRefT.html">VariableCellReal</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">temperature</a> = ...;</div>
<div class="line"><a class="code hl_class" href="../../d7/d20/classArcane_1_1MeshVariableScalarRefT.html">VariableCellReal3</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">cell_center</a> = ...;</div>
<div class="line"><a class="code hl_class" href="../../d7/d1b/classArcane_1_1VariableCollection.html">VariableCollection</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">vars</a>;</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">vars</a>.add(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">temperature</a>);</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">vars</a>.add(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">cell_center</a>);</div>
<div class="line">mesh()-&gt;cellFamily()-&gt;synchronize(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">vars</a>);</div>
<div class="ttc" id="aclassArcane_1_1MeshVariableScalarRefT_html"><div class="ttname"><a href="../../d7/d20/classArcane_1_1MeshVariableScalarRefT.html">Arcane::MeshVariableScalarRefT</a></div><div class="ttdoc">Variable scalaire sur un type d'entité du maillage.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d1c/MeshVariableScalarRef_8h_source.html#l00205">MeshVariableScalarRef.h:207</a></div></div>
<div class="ttc" id="aclassArcane_1_1VariableCollection_html"><div class="ttname"><a href="../../d7/d1b/classArcane_1_1VariableCollection.html">Arcane::VariableCollection</a></div><div class="ttdoc">Collection de variables.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/de5/VariableCollection_8h_source.html#l00080">VariableCollection.h:81</a></div></div>
</div><!-- fragment --> A noter que si la collection spécifiée en paramètre contient des variables partielles, la synchronisation se fait comme avant soit variable par variable.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version242"></a>
Arcane Version 2.4.2 (13 Janvier 2017)</h1>
<ul>
<li>Ajoute la possibilité de configurer les traces lors de l'exécution en spécifiant une chaîne de caractères au format de configuration des traces (tel que dans la documentation <a class="el" href="../../da/d65/arcanedoc_execution_traces.html">Utilisation des traces</a>). Par exemple: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code hl_class" href="../../d2/ddb/classArccore_1_1String.html">String</a> x = <span class="stringliteral">&quot;&lt;?xml version=\&quot;1.0\&quot;?&gt;\n&quot;</span></div>
<div class="line"> <span class="stringliteral">&quot;&lt;arcane-config&gt;\n&quot;</span></div>
<div class="line"> <span class="stringliteral">&quot;&lt;traces&gt;\n&quot;</span></div>
<div class="line"> <span class="stringliteral">&quot;&lt;trace-class name=&#39;MyTest2&#39; info=&#39;true&#39; debug=&#39;med&#39; print-elapsed-time=&#39;true&#39; print-class-name=&#39;false&#39;/&gt;\n&quot;</span></div>
<div class="line"> <span class="stringliteral">&quot;&lt;/traces&gt;\n&quot;</span></div>
<div class="line"> <span class="stringliteral">&quot;&lt;/arcane-config&gt;\n&quot;</span>;</div>
<div class="line"><a class="code hl_class" href="../../d9/d1e/classArcane_1_1ISubDomain.html">ISubDomain</a>* <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">sd</a> = ...;</div>
<div class="line"><a class="code hl_class" href="../../d0/df9/classArccore_1_1ITraceMng.html">ITraceMng</a>* <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">tm</a> = <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">sd</a>-&gt;traceMng();</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">sd</a>-&gt;application()-&gt;getTraceMngPolicy()-&gt;setClassConfigFromXmlBuffer(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">tm</a>,x.utf8());</div>
<div class="ttc" id="aclassArccore_1_1ITraceMng_html"><div class="ttname"><a href="../../d0/df9/classArccore_1_1ITraceMng.html">Arccore::ITraceMng</a></div><div class="ttdoc">Interface du gestionnaire de traces.</div><div class="ttdef"><b>Definition</b> <a href="../../db/d19/arccore_2src_2trace_2arccore_2trace_2ITraceMng_8h_source.html#l00155">arccore/src/trace/arccore/trace/ITraceMng.h:156</a></div></div>
<div class="ttc" id="aclassArccore_1_1String_html"><div class="ttname"><a href="../../d2/ddb/classArccore_1_1String.html">Arccore::String</a></div><div class="ttdoc">Chaîne de caractères unicode.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/ddc/arccore_2src_2base_2arccore_2base_2String_8h_source.html#l00069">arccore/src/base/arccore/base/String.h:70</a></div></div>
</div><!-- fragment --></li>
<li>Ajoute la possibilité d'afficher ou non pour chaque message de trace le nom de la classe de message dans les traces ainsi que le temps écoulé. Par exemple: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code hl_class" href="../../d0/df9/classArccore_1_1ITraceMng.html">ITraceMng</a>* <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">tm</a> = ...;</div>
<div class="line">TraceClassConfig <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">tcc</a> = <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">tm</a>-&gt;classConfig(<span class="stringliteral">&quot;MyTest&quot;</span>);</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">tcc</a>.setFlags(Trace::PF_ElapsedTime|Trace::PF_NoClassName);</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">tm</a>-&gt;setClassConfig(<span class="stringliteral">&quot;MyTest&quot;</span>,<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">tcc</a>);</div>
</div><!-- fragment --></li>
<li>Ajoute une méthode <a class="el" href="../../dd/d6a/classArcane_1_1IMeshUtilities.html#ae2f1670bd77288b2b389b0921c4afb61" title="Fusionne des noeuds.">Arcane::IMeshUtilities::mergeNodes()</a> permettant la fusion de noeuds deux à deux.</li>
<li>Le mécanisme interne de compactage des entités a été réécrit afin de pouvoir être plus facilement paramétrable par famille d'entité et plus facilement extensible si on ajoute un nouveau type de famille d'entité</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version241"></a>
Arcane Version 2.4.1 (01 Décembre 2016)</h1>
<ul>
<li>Support de la méthode Arcane::MeshMaterialVariableRef::synchronize() pour les variables uniquement sur les milieux.</li>
<li>Ajoute une méthode sur les variables matériaux pour remplir les valeurs partielles avec la valeur de la maille du composant supérieur. Cela permet de remplir les valeurs matériaux avec les valeurs milieux ou les valeurs milieux avec les valeurs globales. La méthode s'appelle <a class="el" href="../../d9/dee/classArcane_1_1Materials_1_1MeshMaterialVariableRef.html#a61dee491888f58a6f30272f0a0b69e98" title="Remplit les valeurs partielles avec la valeur de la maille du dessus. Si level vaut LEVEL_MATERIAL,...">Arcane::Materials::MeshMaterialVariableRef::fillPartialValuesWithSuperValues()</a>.</li>
<li>Ajoute les itérateurs STL constants pour la classe <a class="el" href="../../d6/df2/classArcane_1_1ItemVectorView.html" title="Vue sur un vecteur d&#39;entités.">Arcane::ItemVectorView</a>. Cela permet d'utiliser les algorithmes de la STL avec cette classe. Par exemple: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code hl_class" href="../../d1/d71/classArcane_1_1ItemVector.html">ItemVector</a> v1;</div>
<div class="line"><a class="code hl_class" href="../../d9/d27/classArcane_1_1ItemGroup.html">ItemGroup</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">group1</a>;</div>
<div class="line"><a class="code hl_class" href="../../d6/df2/classArcane_1_1ItemVectorView.html">ItemVectorView</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">group_view</a> = <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">group1</a>.view();</div>
<div class="line"><span class="keywordflow">for</span>( <a class="code hl_class" href="../../df/d5f/classArcane_1_1Item.html">Item</a> item : v1.view() ){</div>
<div class="line">  <span class="comment">// Regarde si &#39;item&#39; est dans le groupe &#39;group1&#39;.</span></div>
<div class="line">  <span class="keyword">auto</span> iter = std::find(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">group_view</a>.begin(),<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">group_view</a>().end,item);</div>
<div class="line">  <span class="keywordflow">if</span> (iter!=<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">group_view</a>.end()){</div>
<div class="line">    <span class="comment">// Trouvé.</span></div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span>( <a class="code hl_class" href="../../df/d5f/classArcane_1_1Item.html">Item</a> item : <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">group1</a>.view() ){</div>
<div class="line">  info() &lt;&lt; <span class="stringliteral">&quot;Item=&quot;</span> &lt;&lt; <a class="code hl_class" href="../../d7/dcb/classArcane_1_1ItemPrinter.html">ItemPrinter</a>(item);</div>
<div class="line">}</div>
<div class="ttc" id="aclassArcane_1_1ItemGroup_html"><div class="ttname"><a href="../../d9/d27/classArcane_1_1ItemGroup.html">Arcane::ItemGroup</a></div><div class="ttdoc">Groupe d'entités de maillage.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d3f/ItemGroup_8h_source.html#l00048">ItemGroup.h:49</a></div></div>
<div class="ttc" id="aclassArcane_1_1ItemPrinter_html"><div class="ttname"><a href="../../d7/dcb/classArcane_1_1ItemPrinter.html">Arcane::ItemPrinter</a></div><div class="ttdoc">Classe utilitaire pour imprimer les infos sur une entité.</div><div class="ttdef"><b>Definition</b> <a href="../../de/dbf/ItemPrinter_8h_source.html#l00034">ItemPrinter.h:35</a></div></div>
<div class="ttc" id="aclassArcane_1_1ItemVectorView_html"><div class="ttname"><a href="../../d6/df2/classArcane_1_1ItemVectorView.html">Arcane::ItemVectorView</a></div><div class="ttdoc">Vue sur un vecteur d'entités.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d5d/ItemVectorView_8h_source.html#l00226">ItemVectorView.h:227</a></div></div>
<div class="ttc" id="aclassArcane_1_1ItemVector_html"><div class="ttname"><a href="../../d1/d71/classArcane_1_1ItemVector.html">Arcane::ItemVector</a></div><div class="ttdoc">Vecteur d'entités.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d46/ItemVector_8h_source.html#l00058">ItemVector.h:59</a></div></div>
<div class="ttc" id="aclassArcane_1_1Item_html"><div class="ttname"><a href="../../df/d5f/classArcane_1_1Item.html">Arcane::Item</a></div><div class="ttdoc">Classe de base d'un élément de maillage.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/dd4/Item_8h_source.html#l00082">Item.h:83</a></div></div>
</div><!-- fragment --></li>
<li>Ajoute la possibilité de spécifier sa propre fonction de calcul des connectivités pour les <a class="el" href="../../df/dbe/classArcane_1_1ItemPairGroup.html" title="Tableau de listes d&#39;entités.">Arcane::ItemPairGroup</a>. La documentation de la classe ItemPairGroup contient un exemple d'un tel calcul</li>
<li>Ajoute dans les services de partitionnement plusieurs options:<ul>
<li>pour Parmetis la possibilité d'écrire le graphe sur un fichier et de spécifier la tolérance,</li>
<li>pour PTScotch la possibilité d'écrire le graphe sur un fichier et de vérifier la cohérence du graphe.</li>
</ul>
</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version240"></a>
Arcane Version 2.4.0 (Novembre 2016)</h1>
<ul>
<li>Support des variables uniquement sur les milieux. Ces variables s'utilisent comme les variables matériau mais n'ont de valeurs que sur les milieux et les mailles globales. Il ne faut donc pas les indexer avec des mailles matériaux (MatCell) sous peine de provoquer un accès mémoire illégal. La déclaration de ces variables se fait comme suit: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">EnvironmentVariableCellReal</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">pressure</a>(<a class="code hl_class" href="../../df/d8a/classArcane_1_1VariableBuildInfo.html">VariableBuildInfo</a>(mesh,<span class="stringliteral">&quot;Pressure&quot;</span>));</div>
<div class="line"><a class="code hl_class" href="../../da/d0f/classArcane_1_1Materials_1_1IMeshEnvironment.html">IMeshEnvironment</a>* <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">env</a> = ...;</div>
<div class="line"><a class="code hl_define" href="../../dd/df0/core_2materials_2MatItemEnumerator_8h.html#a568f790f7de72e2144399d55d8c63455">ENUMERATE_ENVCELL</a>(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">ienvcell</a>,<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">env</a>){</div>
<div class="line">  <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">pressure</a>[<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">ienvcell</a>] = 2.0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassArcane_1_1Materials_1_1IMeshEnvironment_html"><div class="ttname"><a href="../../da/d0f/classArcane_1_1Materials_1_1IMeshEnvironment.html">Arcane::Materials::IMeshEnvironment</a></div><div class="ttdoc">Interface d'un milieu d'un maillage.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d49/core_2materials_2IMeshEnvironment_8h_source.html#l00051">core/materials/IMeshEnvironment.h:53</a></div></div>
<div class="ttc" id="aclassArcane_1_1VariableBuildInfo_html"><div class="ttname"><a href="../../df/d8a/classArcane_1_1VariableBuildInfo.html">Arcane::VariableBuildInfo</a></div><div class="ttdoc">Paramètres nécessaires à la construction d'une variable.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d1d/VariableBuildInfo_8h_source.html#l00042">VariableBuildInfo.h:43</a></div></div>
<div class="ttc" id="acore_2materials_2MatItemEnumerator_8h_html_a568f790f7de72e2144399d55d8c63455"><div class="ttname"><a href="../../dd/df0/core_2materials_2MatItemEnumerator_8h.html#a568f790f7de72e2144399d55d8c63455">ENUMERATE_ENVCELL</a></div><div class="ttdeci">#define ENUMERATE_ENVCELL(iname, env)</div><div class="ttdoc">Macro pour itérer sur toutes les mailles d'un milieu.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df0/core_2materials_2MatItemEnumerator_8h_source.html#l00588">core/materials/MatItemEnumerator.h:588</a></div></div>
</div><!-- fragment --></li>
<li>Support du repartitionnement et de l'équilibrage de charge en conservant les informations des matériaux. Les valeurs partielles des mailles matériaux et milieux sont aussi conservées.</li>
<li>Refonte interne de la gestion des échanges des entités lors d'un repartitionnement. Le but est de pouvoir ajouter plus facilement de nouvelles familles d'entités où de changer le traitement de l'un d'elle. Cette modification n'a aucun impact sur le code existant.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="arcanedoc_news_changelog_version239"></a>
Arcane Version 2.3.9 (Septembre 2016)</h1>
<ul>
<li>Amélioration de la vectorisation {#arcanedoc_news_changelog_version239_simd}</li>
<li>Possibilité de choisir un allocateur spécifique (implémentant l'interface IMemoryAllocator) pour les classes Array et UniqueArray. Une implémentation gérant l'alignement (Arcane::AlignedMemoryAllocator) est disponible et permet de garantir que l'adresse de la mémoire allouée est un multiple d'une certaine valeur. Pour l'instant la seule valeur valide pour l'alignement est 64 et il faut utiliser l'allocateur <a class="el" href="../../d0/d7e/classArccore_1_1AlignedMemoryAllocator.html#aaf9392735a15ac7116a897ebddcb1293" title="Allocateur garantissant l&#39;alignement pour utiliser la vectorisation sur la plateforme cible.">Arcane::AlignedMemoryAllocator::Simd()</a> pour récupérer cet l'allocateur avec cet alignement. En plus d'aligner la mémoire, cet allocateur garantit que la taille dela mémoire allouée est un multiple de l'alignement. Par exemple, le code suivant garantit un alignement: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">UniqueArray&lt;Real&gt;</a> x(AlignedMemoryAllocator::Simd());</div>
<div class="line">x.resize(25);</div>
<div class="line"><span class="comment">// &amp;x[0] est un multiple de 64.</span></div>
<div class="line"><span class="comment">// Un réel faisant 8 octets, la capacité de x est un</span></div>
<div class="line"><span class="comment">// multiple de (64 / 8), soit x.capacity()&gt;=32 (car 32 est le</span></div>
<div class="line"><span class="comment">// premier multiple de 8 supérieur à 25).</span></div>
</div><!-- fragment --> L'alignement de 64 octets permet d'utiliser tous les mécanismes de vectorisation disponibles à ce jour dans Arcane, soit SSE, AVX et AVX512.</li>
<li>Les variables tableaux 1D et 2D ainsi que les variables scalaires et tableau sur les entités du maillage sont maintenant toujours allouées avec l'allocateur <a class="el" href="../../d0/d7e/classArccore_1_1AlignedMemoryAllocator.html#aaf9392735a15ac7116a897ebddcb1293" title="Allocateur garantissant l&#39;alignement pour utiliser la vectorisation sur la plateforme cible.">Arcane::AlignedMemoryAllocator::Simd()</a>.</li>
<li>Les indices des entités d'un ItemGroup sont maintenant toujours alloués avec l'allocateur <a class="el" href="../../d0/d7e/classArccore_1_1AlignedMemoryAllocator.html#aaf9392735a15ac7116a897ebddcb1293" title="Allocateur garantissant l&#39;alignement pour utiliser la vectorisation sur la plateforme cible.">Arcane::AlignedMemoryAllocator::Simd()</a>. A noter que ce n'est pas le cas de <a class="el" href="../../d1/d71/classArcane_1_1ItemVector.html" title="Vecteur d&#39;entités.">Arcane::ItemVector</a>.</li>
<li>Les différentes macros utilisées pour gérer l'enumération avec la vectorisation (<a class="el" href="../../d5/d04/group__ArcaneSimd.html#ga0a9dc0b44f6c0935eefd6947014c937f" title="Enumérateur SIMD sur un groupe ou liste de mailles.">ENUMERATE_SIMD_CELL</a>, <a class="el" href="../../d5/d04/group__ArcaneSimd.html#ga0ce41096d8b9324f1b6ba22c44240acf" title="Enumérateur SIMD sur un groupe ou liste de noeuds.">ENUMERATE_SIMD_NODE</a>, ...) nécessitent maintenant des tableaux alignés. Si ce n'est pas le cas, cela provoque une exception lors de l'exécution. <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code hl_class" href="../../d8/d8e/classArcane_1_1ItemGroupT.html">CellGroup</a> cells = ...;</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">CellVector</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">vec_cells</a> = ...;</div>
<div class="line"><a class="code hl_define" href="../../d5/d04/group__ArcaneSimd.html#ga0a9dc0b44f6c0935eefd6947014c937f">ENUMERATE_SIMD_CELL</a>(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">ivcell</a>,cells){ <span class="comment">// OK car un CellGroup est toujours aligné</span></div>
<div class="line">}</div>
<div class="line"><a class="code hl_define" href="../../d5/d04/group__ArcaneSimd.html#ga0a9dc0b44f6c0935eefd6947014c937f">ENUMERATE_SIMD_CELL</a>(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">ivcell</a>,<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">vec_cells</a>){ <span class="comment">// ERREUR car un CellVector n&#39;est pas toujours aligné</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassArcane_1_1ItemGroupT_html"><div class="ttname"><a href="../../d8/d8e/classArcane_1_1ItemGroupT.html">Arcane::ItemGroupT&lt; Cell &gt;</a></div></div>
<div class="ttc" id="agroup__ArcaneSimd_html_ga0a9dc0b44f6c0935eefd6947014c937f"><div class="ttname"><a href="../../d5/d04/group__ArcaneSimd.html#ga0a9dc0b44f6c0935eefd6947014c937f">ENUMERATE_SIMD_CELL</a></div><div class="ttdeci">#define ENUMERATE_SIMD_CELL(name, group)</div><div class="ttdoc">Enumérateur SIMD sur un groupe ou liste de mailles.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d2d/SimdItem_8h_source.html#l00579">SimdItem.h:579</a></div></div>
</div><!-- fragment --></li>
<li>L'utilisation des méthodes Parallel::Foreach() sur les groupes d'entités garantit que les itérations se feront sur des multiples de 8 valeurs. Il est ainsi valide d'écrire le code suivant: <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code hl_class" href="../../d8/d8e/classArcane_1_1ItemGroupT.html">CellGroup</a> cells = ...;</div>
<div class="line">Parallel::Foreach(cells,[<span class="keyword">this</span>](<a class="code hl_class" href="../../d7/d90/classArcane_1_1ItemVectorViewT.html">CellVectorView</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">cvv</a>){</div>
<div class="line">  <a class="code hl_define" href="../../d5/d04/group__ArcaneSimd.html#ga0a9dc0b44f6c0935eefd6947014c937f">ENUMERATE_SIMD_CELL</a>(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">ivcell</a>,<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">cvv</a>){</div>
<div class="line">    <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">SimdCell</a> cell = *<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">ivcell</a>;</div>
<div class="line">    ...</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclassArcane_1_1ItemVectorViewT_html"><div class="ttname"><a href="../../d7/d90/classArcane_1_1ItemVectorViewT.html">Arcane::ItemVectorViewT</a></div><div class="ttdoc">Vue sur un tableau typé d'entités.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d5d/ItemVectorView_8h_source.html#l00404">ItemVectorView.h:406</a></div></div>
</div><!-- fragment --></li>
<li>Ajoute le support pour la vectorisation de type AVX512 et supprime la vectorisation spécifique aux processeurs Intel Knight Corner (KNC). L'AVX512 est supportée à partir des Xeon Skylake et sur les processeurs de XeonPhi à partir de l'Intel Knight Landing (KNL).</li>
<li>Autorise plusieurs types de vectorisation à la fois via les classes de vectorisation de Arcane. Par exemple, sur les machines haswell qui supportent l'AVX et le SSE les classes SSESimdReal et AVXSimdReal sont toujours disponibles. Dans les versions précédentes de Arcane, seul le type de vectorisation le plus performant était disponible (AVX512 &gt; AVX &gt; SSE).</li>
</ul>
<p>Améliorations diverses {#arcanedoc_news_changelog_version239_misc}</p>
<ul>
<li>Support de la sémantique std::move() du C++11 pour la classe UniqueArray. Cela permet entre autre de retourner des UniqueArray sans faire de recopie mémoire, d'implémenter std::swap() de manière optimisée.</li>
<li>Ajoute de versions optimisées pour échanger les valeurs de deux variables du maillage (scalaire ou tableau) via une méthode swapValues(). Cette méthode permet d'échanger juste les pointeurs contenant les zones mémoires des deux variables sans recopie. Par exemple <div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><a class="code hl_class" href="../../d7/d20/classArcane_1_1MeshVariableScalarRefT.html">VariableCellReal</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">temperature</a> = ...;</div>
<div class="line"><a class="code hl_class" href="../../d7/d20/classArcane_1_1MeshVariableScalarRefT.html">VariableCellReal</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">old_temperature</a> = ...;</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">VariableCellArrayReal</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">energy</a> = ...; <span class="comment">// Variable 1D sur les mailles</span></div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">VariableCellArrayReal</a> <a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">old_energy</a> = ...;</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">old_temperature</a>.swapValues(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">temperature</a>);</div>
<div class="line"><a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">old_energy</a>.swapValues(<a class="code hl_class" href="../../de/d9f/classArccore_1_1Ref.html">energy</a>);</div>
</div><!-- fragment --></li>
<li>Passage à la version 1.11.4 de hwloc.</li>
<li>[C#] Dans Arcane.Curves, support des courbes avec plusieurs valeurs par itération (courbes 2D).</li>
<li>Utilise le temps réel (elapsed) au lieu du temps CPU pour les statistiques de fin de calcul. Le temps réel est plus précis que le temps CPU et est indépendant du nombre de threads utilisés. Il est possible de remettre l'utilisation du temps CPU en positionnant la variable d'environnement ARCANE_USE_VIRTUAL_TIMER. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
  <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <ul>
      <li class="navelem"><a class="el" href="../../index.html">%Arcane</a></li><li class="navelem"><a class="el" href="../../d0/d82/arcanedoc_news.html">Nouveautés et changements</a></li>
      <li class="footer">Généré le Lundi 10 Février 2025 02:47:19 pour Arcane par <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
    </ul>
  </div>
  <script type="text/javascript" src="../../script-apply-config-theme.js"></script>
  <script type="text/javascript">
    // On met l'appel à cette fonction dans le footer dans le cas où
    // une page ne veut pas de personnalisation (changement de la 
    // variable globale "no_custom_theme").
    applyConfigWithCookies();
  </script>
</body>
</html>
