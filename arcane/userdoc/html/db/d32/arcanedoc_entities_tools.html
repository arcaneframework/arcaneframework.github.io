<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.13.2" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="../../logo_arcane.svg" type="image/svg+xml">
    <title>Arcane: Outils externes de gestion de maillage</title>
    <link href="../../tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../../jquery.js"></script>
    <script type="text/javascript" src="../../dynsections.js"></script>
    <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
    <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
    <script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
    <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-custom.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../user_colors.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
    <script type="text/javascript" src="../../script-helper.js"></script>
    <script type="text/javascript" src="../../script-resize.js"></script>
    <script type="text/javascript" src="../../script-num-lines-code.js"></script>
    <script type="text/javascript" src="../../script-config-theme.js"></script>
    <script type="text/javascript" src="../../script-edit-config-theme.js"></script>
    <script type="text/javascript" src="../../script-alternative-theme.js"></script>
    <script type="text/javascript">
      // On demande l'activation de la personnalisation de la page.
      var no_custom_theme = false;
      DoxygenAwesomeDarkModeToggle.title = "Thème clair/sombre";
      DoxygenAwesomeDarkModeToggle.init();
      DoxygenAwesomeFragmentCopyButton.title = "Copier le code dans le presse-papier";
      DoxygenAwesomeFragmentCopyButton.init();
      DoxygenAwesomeParagraphLink.init();
      DoxygenAwesomeInteractiveToc.init();
      DoxygenAwesomeTabs.init()
      waitElemForResizeSideNav();
      setOldSize();
      //waitItemExpandCurrent();
    </script>
  </head>
  <body>
    <!--BEGIN CORNER_GITHUB-->
    <!-- https://tholman.com/github-corners/ -->
    <a href="https://github.com/arcaneframework/framework" class="github-corner" aria-label="Voir les sources sur GitHub">
      <svg width="70" height="70" viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body"></path>
      </svg>
    </a>
    <!--END CORNER_GITHUB-->
      <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0">
            <tbody>
              <tr id="projectrow">
                <td id="projectlogo">
                  <a href="../../index.html" title="Aller à la page principale">
                    <img alt="Logo" src="../../arcane_framework_small.webp" />
                  </a>
                </td>
              </tr>
              <tr id="projectrow">
                <td id="projectalign">
                  <div id="projectname">Arcane
                    <span id="projectnumber">&#160;v4.1.0.0</span>
                  </div>
                  <div id="projectbrief">Documentation utilisateur</div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part -->
<!-- Généré par Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('db/d32/arcanedoc_entities_tools.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Outils externes de gestion de maillage</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table des matières</h3>
<ul>
  <li class="level1">
    <a href="#arcanedoc_entities_tools_arcane_partition_mesh">Outil de partitionnement</a>
    <ul>
      <li class="level2">
        <a href="#autotoc_md57">Gestion du format MSH</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md58">Utilisation des fichiers pré-découpés</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md59">Exemples d&#39;utilisation</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#arcanedoc_entities_tools_arcane_convert_mesh">Outils de conversion de maillage</a>
  </li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_doc_2doc__user_2chap__entities_26__tools"></a></p>
<p>Arcane propose deux outils pour convertir ou partitionner un maillage.</p>
<h1><a class="anchor" id="arcanedoc_entities_tools_arcane_partition_mesh"></a>
Outil de partitionnement</h1>
<p>L'outil <code>arcane_partition_mesh</code> permet de partitionner un maillage existant et de générer un fichier de maillage par partie. Il s'agit d'un outil parallèle qui utilise par défaut <code>ParMetis</code> pour réaliser le partitionnement. Cet outil est installé dans le répertoire <code>bin</code> de l'installation de Arcane.</p>
<p>L'usage est le suivant:</p>
<div class="fragment"><div class="line">${ARCANE_INSTALL_ROOT}/bin/arcane_partition_mesh</div>
<div class="line">  -n nb_proc</div>
<div class="line">  -p nb_part</div>
<div class="line">  --writer writer_service_name</div>
<div class="line">  [--manifold-]</div>
<div class="line">  [-Wp,arg1,arg2,...]</div>
<div class="line">  mesh_file_name</div>
</div><!-- fragment --><p>Les valeurs possibles pour <code>writer_service_name</code> sont des services qui implémentent <a class="el" href="../../dc/d13/classArcane_1_1IMeshWriter.html">IMeshWriter</a>. Par exemple:</p>
<ul>
<li><code>MshMeshWriter</code> (le défaut)</li>
<li><code>LimaMeshWriter</code></li>
<li><code>VtkLegacyMeshWriter</code> : uniquement pour visualiser le résultat. Les fichiers générés ne pourront pas être utilisés en lecture du code.</li>
</ul>
<p>Le fichier de maillage d'entrée (<code>mesh_file_name</code>) peut être au format MSH (extension <code>.msh</code>), au format VTK history (extension <code>.vtk</code>) ou un format supporté par <code>Lima</code> (extension <code>.mli2</code>, <code>.mli</code>, <code>.unf</code>). Lorsque le maillage d'entrée est au format MSH, il n'est pas possible de savoir à priori si le maillage est non-manifold. Par défaut Arcane suppose qu'il s'agit d'un maillage manifold. Si ce n'est pas le cas il faut spécifier l'option <code>--manifold-</code> dans la ligne de commande.</p>
<p>Le partitionneur se lancera sur <code>nb_proc</code> processus (via MPI) et va générer <code>nb_part</code> partitions. Le nombre de partitions doit être un multiple du nombre de processus utilisés. En sortie, il y a aura un fichier par partie. Les fichiers de sortie seront de la forme <code>CPU00000</code>, <code>CPU00001</code>, ... avec l'extension correspondante au format du maillage (par exemple <code>.msh</code> pour le format MSH).</p>
<p>L'option <code>-Wp</code> permet de fournir des arguments pour le lanceur parallèle (<code>mpiexec</code> ou <code>srun</code> en général). Par exemple, la valeur <code>-Wp,-c,4</code> permet d'ajouter <code>-c 4</code> au lanceur parallèle.</p>
<h2><a class="anchor" id="autotoc_md57"></a>
Gestion du format MSH</h2>
<dl class="section warning"><dt>Avertissement</dt><dd>La lecture et la sortie au format MSH est expérimental depuis la version 3.16.0 de Arcane et comporte actuellement un certain nombre de limitations.</dd></dl>
<p>Si le format d'entrée et de sortie est MSH, chaque fichier contiendra les mêmes <code>$Entities</code> que le format d'origine ainsi que les informations de périodicité (<code>$Periodics</code>) pour la partie concernée. Il y a actuellement les limitations suivantes:</p>
<ul>
<li>Seules les entités d'ordre 1 sont gérées</li>
<li>Les informations de périodicité autre que les couples de noeuds (maitre,esclave) sont cohérentes. Les informations affines ou sur les entités ne sont pas significatives. Pour les couples (maitre,esclave), le couple sera présent dans le fichier si un des deux noeuds est présent dans la partie.</li>
<li>les informations sur les boîtes englobantes pour les <code>$Entities</code> ne sont pas gérées</li>
<li>les blocs d'origine du format MSH ne sont pas forcément sauvegardés et les numéros des <code>$Entities</code> d'origine ne sont pas conservés.</li>
</ul>
<h2><a class="anchor" id="autotoc_md58"></a>
Utilisation des fichiers pré-découpés</h2>
<p>TODO</p>
<h2><a class="anchor" id="autotoc_md59"></a>
Exemples d'utilisation</h2>
<p>L'exemple suivant utilise 2 processeurs pour découper le maillage <code>onesphere.msh</code> en 4 parties. Le fichier de sortie sera au format VTK.</p>
<div class="fragment"><div class="line">./bin/arcane_partition_mesh -n 2 -p 4 --writer VtkLegacyMeshWriter onesphere.msh</div>
<div class="line">ls</div>
<div class="line">CPU00000.vtk</div>
<div class="line">CPU00001.vtk</div>
<div class="line">CPU00002.vtk</div>
<div class="line">CPU00003.vtk</div>
</div><!-- fragment --><p>L'exemple suivant utilise 4 processeurs pour découper le maillage <code>mesh_with_loose_items.msh</code> en 12 parties. Le fichier de sortie sera au format MSH. Le maillage d'entrée étant non-manifold, on utilise l'option <code>--manifold-</code> pour le spécifier.</p>
<div class="fragment"><div class="line">./bin/arcane_partition_mesh -n 4 -p 12 --writer MshMeshWriter --manifold- mesh_with_loose_items.msh</div>
<div class="line">ls</div>
<div class="line">CPU00000.msh</div>
<div class="line">CPU00001.msh</div>
<div class="line">...</div>
<div class="line">CPU00010.msh</div>
<div class="line">CPU00011.msh</div>
<div class="line">CPU00012.msh</div>
</div><!-- fragment --><h1><a class="anchor" id="arcanedoc_entities_tools_arcane_convert_mesh"></a>
Outils de conversion de maillage</h1>
<p>L'outil <code>arcane_convert_mesh</code> permet de convertir un fichier de maillage d'un format vers un autre.</p>
<hr  />
<div class="section_buttons"> <span class="back_section_button"> <a class="el" href="../../dc/d8a/arcanedoc_entities_geometric.html">Gestion de la géométrie</a> </span>   </div> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
  <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <ul>
      <li class="navelem"><a class="el" href="../../index.html">%Arcane</a></li><li class="navelem"><a class="el" href="../../d0/d59/arcanedoc_entities.html">Entités, maillages et connectivités</a></li>
      <li class="footer">Généré le Lundi 20 Octobre 2025 03:12:34 pour Arcane par <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
    </ul>
  </div>
  <script type="text/javascript" src="../../script-apply-config-theme.js"></script>
  <script type="text/javascript">
    // On met l'appel à cette fonction dans le footer dans le cas où
    // une page ne veut pas de personnalisation (changement de la 
    // variable globale "no_custom_theme").
    applyConfigWithCookies();
  </script>
</body>
</html>
