<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.9.8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="../../logo_arcane.svg" type="image/svg+xml">
    <title>Arcane: Jeu de données (.ARC)</title>
    <link href="../../tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../../jquery.js"></script>
    <script type="text/javascript" src="../../dynsections.js"></script>
    <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
    <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
    <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-custom.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../user_colors.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
    <script type="text/javascript" src="../../script-helper.js"></script>
    <script type="text/javascript" src="../../script-resize.js"></script>
    <script type="text/javascript" src="../../script-num-lines-code.js"></script>
    <script type="text/javascript" src="../../script-config-theme.js"></script>
    <script type="text/javascript" src="../../script-edit-config-theme.js"></script>
    <script type="text/javascript" src="../../script-alternative-theme.js"></script>
    <script type="text/javascript">
      // On demande l'activation de la personnalisation de la page.
      var no_custom_theme = false;
      DoxygenAwesomeDarkModeToggle.title = "Thème clair/sombre";
      DoxygenAwesomeDarkModeToggle.init();
      DoxygenAwesomeFragmentCopyButton.title = "Copier le code dans le presse-papier";
      DoxygenAwesomeFragmentCopyButton.init();
      DoxygenAwesomeParagraphLink.init();
      DoxygenAwesomeInteractiveToc.init();
      DoxygenAwesomeTabs.init()
      waitElemForResizeSideNav();
      setOldSize();
      //waitItemExpandCurrent();
    </script>
  </head>
  <body>
    <!--BEGIN CORNER_GITHUB-->
    <!-- https://tholman.com/github-corners/ -->
    <a href="https://github.com/arcaneframework/framework" class="github-corner" aria-label="Voir les sources sur GitHub">
      <svg width="70" height="70" viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body"></path>
      </svg>
    </a>
    <!--END CORNER_GITHUB-->
      <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0">
            <tbody>
              <tr id="projectrow">
                <td id="projectlogo">
                  <a href="../../index.html" title="Aller à la page principale">
                    <img alt="Logo" src="../../arcane_framework_small.webp" />
                  </a>
                </td>
              </tr>
              <tr id="projectrow">
                <td id="projectalign">
                  <div id="projectname">Arcane
                    <span id="projectnumber">&#160;v3.14.0.0</span>
                  </div>
                  <div id="projectbrief">Documentation utilisateur</div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part -->
<!-- Généré par Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d5/dcd/arcanedoc_core_types_casefile.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Jeu de données (.ARC)</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table des matières</h3>
<ul><li class="level1"><a href="#arcanedoc_core_types_casefile_intro">Introduction</a></li>
<li class="level1"><a href="#arcanedoc_core_types_casefile_arcaneelement">Élément &lt;arcane&gt;</a></li>
<li class="level1"><a href="#arcanedoc_core_types_casefile_meshes">Maillages (balise &lt;meshes&gt;)</a></li>
<li class="level1"><a href="#arcanedoc_core_types_casefile_functions">Fonctions (balises &lt;fonctions&gt; ou &lt;functions&gt;)</a><ul><li class="level2"><a href="#autotoc_md42">Syntaxe des tables de marche</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="arcanedoc_core_types_casefile_intro"></a>
Introduction</h1>
<p>Ce chapître décrit la structure d'un jeu de données. Le jeu de données est un fichier au format <a href="https://www.w3.org/TR/xml">XML</a> qui contient les valeurs permettant de paramétrer l'exécution d'un code de calcul.</p>
<p>Voici un exemple de jeu de donnée en anglais :</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>?&gt;</div>
<div class="line">&lt;<span class="keywordtype">case</span> <span class="keyword">codename</span>=<span class="stringliteral">&quot;ArcaneTest&quot;</span> <span class="keyword">codeversion</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line"> &lt;<span class="keywordtype">arcane</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">title</span>&gt;<span class="keyword">Tube</span> <span class="keyword">à</span> <span class="keyword">choc</span> <span class="keyword">de</span> <span class="keyword">Sod</span>&lt;/<span class="keywordtype">title</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">description</span>&gt;<span class="keyword">Ce</span> <span class="keyword">JDD</span> <span class="keyword">permet</span> <span class="keyword">de</span> <span class="keyword">tester</span> <span class="keyword">le</span> <span class="keyword">module</span> <span class="keyword">Hydro</span> <span class="keyword">simplifié</span> <span class="keyword">de</span></div>
<div class="line">     <span class="keyword">Arcane</span>&lt;/<span class="keywordtype">description</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">timeloop</span>&gt;<span class="keyword">ArcaneHydroLoop</span>&lt;/<span class="keywordtype">timeloop</span>&gt;</div>
<div class="line"> &lt;/<span class="keywordtype">arcane</span>&gt;</div>
<div class="line"> </div>
<div class="line"> <span class="comment">&lt;!-- Liste des maillages (toujours en anglais) --&gt;</span></div>
<div class="line"> &lt;<span class="keywordtype">meshes</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">mesh</span>&gt;</div>
<div class="line">   &lt;<span class="keywordtype">filename</span>&gt;<span class="keyword">tube5x5x100.ice</span>&lt;/<span class="keywordtype">filename</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">mesh</span>&gt;</div>
<div class="line"> &lt;/<span class="keywordtype">meshes</span>&gt;</div>
<div class="line"> </div>
<div class="line"> &lt;<span class="keywordtype">functions</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">table</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;table-dt&quot;</span> <span class="keyword">parameter</span>=<span class="stringliteral">&quot;time&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;real&quot;</span> <span class="keyword">interpolation</span>=<span class="stringliteral">&quot;linear&quot;</span>&gt;</div>
<div class="line">   &lt;<span class="keywordtype">value</span>&gt;&lt;<span class="keywordtype">x</span>&gt;0.0&lt;/<span class="keywordtype">x</span>&gt;&lt;<span class="keywordtype">y</span>&gt;1.0<span class="keyword">e-3</span>&lt;/<span class="keywordtype">y</span>&gt;&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line">   &lt;<span class="keywordtype">value</span>&gt;&lt;<span class="keywordtype">x</span>&gt;1.0<span class="keyword">e-2</span>&lt;/<span class="keywordtype">x</span>&gt;&lt;<span class="keywordtype">y</span>&gt;1.0<span class="keyword">e-5</span>&lt;/<span class="keywordtype">y</span>&gt;&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">table</span>&gt;</div>
<div class="line"> &lt;/<span class="keywordtype">functions</span>&gt;</div>
<div class="line"> </div>
<div class="line"> &lt;<span class="keywordtype">simple-hydro</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">deltat-init</span>&gt;0.001&lt;/<span class="keywordtype">deltat-init</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">deltat-min</span>&gt;0.0001&lt;/<span class="keywordtype">deltat-min</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">deltat-max</span>&gt;0.01&lt;/<span class="keywordtype">deltat-max</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">final-time</span>&gt;0.2&lt;/<span class="keywordtype">final-time</span>&gt;</div>
<div class="line"> &lt;<span class="keywordtype">simple-hydro</span>&gt;</div>
<div class="line"> </div>
<div class="line">&lt;/<span class="keywordtype">case</span>&gt;</div>
</div><!-- fragment --><p>Un jeu de données se compose de quatres parties :</p>
<ul>
<li>l'élément <code>&lt;arcane&gt;</code> permettant entre autre de configurer la boucle en temps et les modules actifs (voir <a class="el" href="../../d5/dcd/arcanedoc_core_types_casefile.html#arcanedoc_core_types_casefile_arcaneelement">Élément &lt;arcane&gt;</a>)</li>
<li>l'élément maillage (<code>&lt;meshes&gt;</code>) permettant de décrire le maillage (voir <a class="el" href="../../d5/dcd/arcanedoc_core_types_casefile.html#arcanedoc_core_types_casefile_meshes">Maillages (balise &lt;meshes&gt;)</a>).</li>
<li>l'élément contenant les fonctions (<code>&lt;functions&gt;</code> ou <code>&lt;fonctions&gt;</code>)(voir <a class="el" href="../../d5/dcd/arcanedoc_core_types_casefile.html#arcanedoc_core_types_casefile_functions">Fonctions (balises &lt;fonctions&gt; ou &lt;functions&gt;)</a>)</li>
<li>les éléments restants concernent les options des différents modules du code.</li>
</ul>
<p>Seule la balise <code>&lt;arcane&gt;</code> est requise. Les autres balises sont optionnelles</p>
<dl class="section warning"><dt>Avertissement</dt><dd>Les caractères blancs dans les attributs sont interdits dans la norme XML. Le jeu de données est donc invalide s'il y en a. Cependant les analyseurs peuvent les tolérer. Les caractères blancs en début et fin de balises sont significatifs et peuvent changer la signification ou rendre invalide un jeu de données. Par exemple, &lt;file&gt; Toto&lt;/file&gt; indique que le fichier de maillage contient un blanc avant les caractères 'Toto'.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Pour des raisons historiques, il est toléré d'avoir des espaces en début ou fin de texte d'une balise dans le cas des options simples du jeu de données (voir <a class="el" href="../../de/d49/arcanedoc_core_types_axl_caseoptions_options.html#arcanedoc_core_types_axl_caseoptions_options_simple">Les options simples</a>). Dans ce cas, ces espaces sont ignorés. Par exemple <code>&lt;deltat&gt; 25.0 &lt;/deltat&gt;</code> est valide. Ces blancs ne sont autorisés que dans les options des modules et services, pas dans les balises spécifiques à Arcane (comme <code>&lt;arcane&gt;</code>, <code>&lt;functions&gt;</code>, <code>&lt;meshes&gt;</code>, ...).</dd></dl>
<h1><a class="anchor" id="arcanedoc_core_types_casefile_arcaneelement"></a>
Élément &lt;arcane&gt;</h1>
<p>Cet élément contient les informations sur la boucle en temps utilisée et la liste des modules actifs. Le contenu de cet élément est la première chose lue dans le jeu de données. Les éléments suivants sont possibles :</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">arcane</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">title</span>&gt;<span class="keyword">Tube</span> <span class="keyword">à</span> <span class="keyword">choc</span> <span class="keyword">de</span> <span class="keyword">Sod</span>&lt;/<span class="keywordtype">title</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">description</span>&gt;<span class="keyword">Ce</span> <span class="keyword">JDD</span> <span class="keyword">permet</span> <span class="keyword">de</span> <span class="keyword">tester</span> <span class="keyword">le</span> <span class="keyword">module</span> <span class="keyword">Hydro</span> <span class="keyword">simplifié</span> <span class="keyword">de</span> <span class="keyword">Arcane</span>&lt;/<span class="keywordtype">description</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">timeloop</span>&gt;<span class="keyword">ArcaneHydroLoop</span>&lt;/<span class="keywordtype">timeloop</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">modules</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Hydro&quot;</span> <span class="keyword">actif</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">    &lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PostProcessing&quot;</span> <span class="keyword">actif</span>=<span class="stringliteral">&quot;false&quot;</span> /&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">modules</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">configuration</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">parameter</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;NotParallel&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;false&quot;</span> /&gt;</div>
<div class="line">    &lt;<span class="keywordtype">parameter</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;NotCheckpoint&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">configuration</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">arcane</span>&gt;</div>
</div><!-- fragment --><p>Le tableau suivant donne la liste des éléments possibles :</p>
<table class="doxtable">
<tr>
<th>élément anglais </th><th>élément francais </th><th>description  </th></tr>
<tr>
<td><b>timeloop</b> </td><td><b>boucle-en-temps</b> </td><td><p class="starttd">nom de la boucle en temps utilisée. Ce nom doit correspondre à une boucle en temps disponible dans le fichier de configuration du code.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><b>title</b> </td><td><b>titre</b> </td><td><p class="starttd">titre du jeu de données. Purement informatif.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><b>description</b> </td><td><b>description</b> </td><td><p class="starttd">description du cas test. Purement informatif.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><b>modules</b> </td><td><b>modules</b> </td><td><p class="starttd">Liste des modules avec leur état d'activation. Cette balise est utilisée pour indiquer si un module optionnel est activé ou non. Par défaut les modules optionnels ne sont pas actifs. Il s'agit d'une liste d'éléments <code>&lt;module&gt;</code> comme suit :</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Module1&quot;</span> <span class="keyword">active</span>=<span class="stringliteral">&#39;true&#39;</span> /&gt;</div>
<div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Module2&quot;</span> <span class="keyword">active</span>=<span class="stringliteral">&#39;false&#39;</span> /&gt;</div>
</div><!-- fragment -->  <p class="endtd"></p>
</td></tr>
<tr>
<td><b>services</b> </td><td><b>services</b> </td><td><p class="starttd">Liste de services singletons avec leur état d'activation (qui vaut <em>vrai</em> par défaut). Il s'agit d'une liste d'éléments &lt;service&gt; comme suit :</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">service</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Service1&quot;</span> <span class="keyword">active</span>=<span class="stringliteral">&#39;true&#39;</span> /&gt;</div>
<div class="line">&lt;<span class="keywordtype">service</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Service2&quot;</span> <span class="keyword">active</span>=<span class="stringliteral">&#39;false&#39;</span> /&gt;</div>
<div class="line">&lt;<span class="keywordtype">service</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Service3&quot;</span> /&gt;</div>
</div><!-- fragment --><p> Dans l'exemple précédent, les services de nom 'Service1' et 'Service3' seront chargés.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><b>configuration</b> </td><td><b>configuration</b> </td><td><p class="starttd">Liste de paramêtres de configuration. Ces paramètres ne sont pas lus par Arcane mais peuvent être utilisés par exemple par la procédure de lancement du code. Chaque paramètre est de la forme suivante :</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">parameter</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Param1&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&#39;value1&#39;</span> /&gt; <span class="comment">&lt;!-- Anglais --&gt;</span></div>
<div class="line">&lt;<span class="keywordtype">parametre</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Param1&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&#39;value1&#39;</span> /&gt; <span class="comment">&lt;!-- Francais --&gt;</span></div>
</div><!-- fragment -->   </td></tr>
</table>
<h1><a class="anchor" id="arcanedoc_core_types_casefile_meshes"></a>
Maillages (balise &lt;meshes&gt;)</h1>
<p>Les maillages sont gérées par le service <code>ArcaneCaseMeshService</code>. Les valeurs possibles sont décrites dans la page <a class="el" href="../../da/d86/axldoc_service_ArcaneCaseMeshService_arcane_impl.html">Service 'ArcaneCaseMeshService'</a>. Il est possible de spécifier plusieurs maillages. Par exemple :</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">meshes</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">mesh</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">filename</span>&gt;<span class="keyword">sod.vtk</span>&lt;/<span class="keywordtype">filename</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">mesh</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">mesh</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">filename</span>&gt;<span class="keyword">plancher.msh</span>&lt;/<span class="keywordtype">filename</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">mesh</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">meshes</span>&gt;</div>
</div><!-- fragment --><p>Il existe une autre possibilité pour spécifier les maillages. Cette possibilité est déclarée obsolète et ne doit être utilisée que par les codes existants. Pour ces codes, on utilise la balise <code>&lt;mesh&gt;</code> (ou <code>&lt;maillage&gt;</code> en francais) pour spécifier les informations du maillage. Par exemple :</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">maillage</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">fichier</span>&gt;<span class="keyword">sod.vtk</span>&lt;/<span class="keywordtype">fichier</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">maillage</span>&gt;</div>
<div class="line">&lt;<span class="keywordtype">maillage</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">fichier</span>&gt;<span class="keyword">plancher.msh</span>&lt;/<span class="keywordtype">fichier</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">maillage</span>&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="arcanedoc_core_types_casefile_functions"></a>
Fonctions (balises &lt;fonctions&gt; ou &lt;functions&gt;)</h1>
<p>Il est possible de définir dans le jeu de données des fonctions qui sont utilisées pour faire varier les valeurs d'une option en fonction du temps physique ou de l'itération. L'ensemble des fonctions est défini dans la balise <code>&lt;fonctions&gt;</code> si la langue est le francais ou `&lt;functions&gt; si la langue est l'anglais.</p>
<dl class="section note"><dt>Note</dt><dd>Dans la suite du document on utilisera uniquement les termes en anglais pour améliorer la lisibilité.</dd></dl>
<p>Une fonction doit avoir un nom unique qui est utilisé par l'option pour la référencer. L'exemple suivante montre comment définir une fonction <code>table-dt</code> et l'utiliser en référence dans l'option <code>&lt;my-option&gt;</code> :</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>?&gt;</div>
<div class="line">&lt;<span class="keywordtype">case</span> <span class="keyword">codename</span>=<span class="stringliteral">&quot;ArcaneTest&quot;</span> <span class="keyword">xml:lang</span>=<span class="stringliteral">&quot;en&quot;</span> <span class="keyword">codeversion</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line"> &lt;<span class="keywordtype">arcane</span>&gt;</div>
<div class="line"> &lt;/<span class="keywordtype">arcane</span>&gt;</div>
<div class="line"> </div>
<div class="line"> &lt;<span class="keywordtype">functions</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">table</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;table-dt&quot;</span> <span class="keyword">parameter</span>=<span class="stringliteral">&quot;time&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;real&quot;</span> <span class="keyword">interpolation</span>=<span class="stringliteral">&quot;linear&quot;</span>&gt;</div>
<div class="line">   ...</div>
<div class="line">  &lt;/<span class="keywordtype">table</span>&gt;</div>
<div class="line"> &lt;/<span class="keywordtype">functions</span>&gt;</div>
<div class="line"> &lt;<span class="keywordtype">my-module</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">my-option</span> <span class="keyword">function</span>=<span class="stringliteral">&quot;table-dt&quot;</span>&gt;0.01&lt;/<span class="keywordtype">function</span>&gt;</div>
<div class="line"> &lt;/<span class="keywordtype">my-module</span>&gt;</div>
</div><!-- fragment --><p>Les fonctions prennent un seul argument en paramètre et peuvent retourner le type attendu par l'option qui les utilise. Les deux valeurs possibles pour les paramètres sont :</p>
<ul>
<li>le temps physique. Dans ce cas le type du paramètre est un <code>reel</code>.</li>
<li>le numéro de l'itération. Dans ce cas le type du paramètre est un entier.</li>
</ul>
<p>Au début de chaque itération, Arcane met automatiquement à jour les options du jeu de données qui référencent une fonction (via la méthode <a class="el" href="../../d3/dcf/classArcane_1_1ICaseMng.html#adff38e7ef3226b2917c9190cc21dcc88">ICaseMng::updateOptions()</a>).</p>
<p>La balise <code>&lt;functions&gt;</code> permet de définir deux types de fonction:</p>
<ul>
<li>les tables de marche qui sont spécifiées directement dans le jeu de données. Il s'agit de fonctions linéaires continues ou linéaires par morceau.</li>
<li>des fonctions externes écrite en C#. Dans ce cas il est possible de définir n'importe quel type de fonction dont la signature correspond au type attendu par l'option. Le chapître <a class="el" href="../../d5/df1/arcanedoc_wrapping_csharp_casefunction.html">Utilisation de fonctions C# pour le jeu de données</a> indique comment définir et utiliser ces fonctions.</li>
</ul>
<h2><a class="anchor" id="autotoc_md42"></a>
Syntaxe des tables de marche</h2>
<p>Une table de marche est une fonction linéaire continue ou linéaire par morceau définie par un ensemble de couples <code>(X,Y)</code>. Par exemple :</p>
<div class="fragment"><div class="line"><span class="comment">&lt;!-- Exemple en anglais --&gt;</span></div>
<div class="line">&lt;<span class="keywordtype">functions</span>&gt;</div>
<div class="line"> &lt;<span class="keywordtype">table</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;table-dt&quot;</span> <span class="keyword">parameter</span>=<span class="stringliteral">&quot;time&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;real&quot;</span> <span class="keyword">interpolation</span>=<span class="stringliteral">&quot;linear&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">value</span>&gt;&lt;<span class="keywordtype">x</span>&gt;0.0&lt;/<span class="keywordtype">x</span>&gt;&lt;<span class="keywordtype">y</span>&gt;1.0<span class="keyword">e-3</span>&lt;/<span class="keywordtype">y</span>&gt;&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">value</span>&gt;&lt;<span class="keywordtype">x</span>&gt;1.0<span class="keyword">e-2</span>&lt;/<span class="keywordtype">x</span>&gt;&lt;<span class="keywordtype">y</span>&gt;1.0<span class="keyword">e-5</span>&lt;/<span class="keywordtype">y</span>&gt;&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line"> &lt;/<span class="keywordtype">table</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">functions</span>&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">&lt;!-- Exemple en francais --&gt;</span></div>
<div class="line">&lt;<span class="keywordtype">table</span> <span class="keyword">nom</span>=<span class="stringliteral">&#39;test-time-real-2&#39;</span> <span class="keyword">parametre</span>=<span class="stringliteral">&#39;temps&#39;</span> <span class="keyword">valeur</span>=<span class="stringliteral">&#39;reel&#39;</span> <span class="keyword">interpolation</span>=<span class="stringliteral">&#39;lineaire&#39;</span>&gt;</div>
<div class="line"> &lt;<span class="keywordtype">valeur</span>&gt; &lt;<span class="keywordtype">x</span>&gt;0.0&lt;/<span class="keywordtype">x</span>&gt; &lt;<span class="keywordtype">y</span>&gt;3.0&lt;/<span class="keywordtype">y</span>&gt; &lt;/<span class="keywordtype">valeur</span>&gt;</div>
<div class="line"> &lt;<span class="keywordtype">valeur</span>&gt; &lt;<span class="keywordtype">x</span>&gt;4.0&lt;/<span class="keywordtype">x</span>&gt; &lt;<span class="keywordtype">y</span>&gt;9.0&lt;/<span class="keywordtype">y</span>&gt; &lt;/<span class="keywordtype">valeur</span>&gt;</div>
<div class="line"> &lt;<span class="keywordtype">valeur</span>&gt; &lt;<span class="keywordtype">x</span>&gt;5.0&lt;/<span class="keywordtype">x</span>&gt; &lt;<span class="keywordtype">y</span>&gt;7.&lt;/<span class="keywordtype">y</span>&gt; &lt;/<span class="keywordtype">valeur</span>&gt;</div>
<div class="line"> &lt;<span class="keywordtype">valeur</span>&gt; &lt;<span class="keywordtype">x</span>&gt;6.0&lt;/<span class="keywordtype">x</span>&gt; &lt;<span class="keywordtype">y</span>&gt;2.0&lt;/<span class="keywordtype">y</span>&gt; &lt;/<span class="keywordtype">valeur</span>&gt;</div>
<div class="line"> &lt;<span class="keywordtype">valeur</span>&gt; &lt;<span class="keywordtype">x</span>&gt;10.0&lt;/<span class="keywordtype">x</span>&gt;&lt;<span class="keywordtype">y</span>&gt;-1.0&lt;/<span class="keywordtype">y</span>&gt; &lt;/<span class="keywordtype">valeur</span>&gt;</div>
<div class="line"> &lt;<span class="keywordtype">valeur</span>&gt; &lt;<span class="keywordtype">x</span>&gt;14.0&lt;/<span class="keywordtype">x</span>&gt;&lt;<span class="keywordtype">y</span>&gt;-3.0&lt;/<span class="keywordtype">y</span>&gt; &lt;/<span class="keywordtype">valeur</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">table</span>&gt;</div>
</div><!-- fragment --><p>Les couples <code>(X,Y)</code> doivent être rangés par valeur croissante de <code>X</code>. Si la valeur du paramètre est plus petite ou plus grande que la première ou la dernière valeur de la tablea de marche, on prend cette dernière. Dans l'exemple précédent pour la table de marche <code>test-time-real-2</code>, si <code>X&lt;0.0</code> on retourne <code>3.0</code> et si <code>X&gt;14.0</code> on retourne <code>-3.0</code>.</p>
<p>Les tables de marche ont les attributes suivants :</p>
<table class="doxtable">
<tr>
<th>Nom Anglais </th><th>Nom Francais </th><th>Type </th><th><p class="starttd">Description </p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>nom </td><td>name </td><td>string </td><td><p class="starttd">Nom de la table de marche. </p>
<p class="intertd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>parameter </td><td>parametre </td><td>string </td><td><p class="starttd">Type du paramètre. Les valeurs possibles sont <code>time</code> (<code>temps</code> en francais) pour un paramètre qui est le temps physique ou <code>iteration</code> pour un paramètre qui est le numéro de l'itération courante.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>value </td><td>valeur </td><td>string </td><td><p class="starttd">Type de la valeur de retour de la table de marche. Les valeurs possibles sont <code>real</code>, <code>integer</code>, <code>real3</code>, <code>string</code> ou <code>bool</code> (respectivement <code>reel</code>, <code>entier</code>, <code>reel3</code>, <code>string</code> et <code>bool</code> en francais).  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>interpolation </td><td>interpolation </td><td>string </td><td><p class="starttd">Les valeurs possibles sont <code>linear</code> ou <code>constant</code> (<code>lineaire</code> ou <code>constant-par-morceaux</code> en francais). Si l'interpolation est constante, la valeur retournée est celle correspondante de <code>Y</code> qui correspond au <code>X</code> immédiatement inférieur à la valeur du paramètre. Si l'interpolation est linéaire, on réalise une interpolation linéaire entre <code>(X1,Y1)</code> et <code>(X2,Y2)</code>, avec <code>X1</code> la valeur de <code>X</code> immédiatement inférieure au paramètre et <code>X2</code> la valeur suivante dans la table de marche. Pour la table de marche précedente (<code>test-time-real-2</code>) en exemple, si <code>X</code> vaut <code>4.5</code> alors on retourne <code>9.0</code> si l'interpolation est constante par morceaux et <code>8.0</code> (soit <code>Y1 + (X-X1)*(Y2-Y1)/(X2-X1)</code> &lt;=&gt; <code>9.0 + (4.5-4.0)*(7.0-9.0)/(5.0-4.0)</code>) si l'interpolation est linéaire.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>comul </td><td>comul </td><td>string </td><td><p class="starttd">Coefficient multiplicateur pour la valeur. Cet attribut est optionnel et doit être du même type que la valeur de la fonction. S'il est présent, la valeur de la fonction est multipliée par la valeur de cet attribut (pour un <code>Real3</code>, la multiplication est faite composante par composante)  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>deltat-coef </td><td>deltat-coef </td><td>real </td><td><p class="starttd">Coefficient multiplicateur pour le temps physique. Cet attribut est optionnel et est utilisé pour multiplier la valeur du pas de temps courant (voir <a class="el" href="../../d3/dcf/classArcane_1_1ICaseMng.html#adff38e7ef3226b2917c9190cc21dcc88">ICaseMng::updateOptions()</a>).  </p>
<p class="endtd"></p>
</td></tr>
</table>
<hr  />
<div class="section_buttons"> <span class="back_section_button"> <a class="el" href="../../df/de3/arcanedoc_core_types_axl_caseoptions_default_values.html">Gestion des valeurs par défaut</a> </span> <span class="next_section_button"> <a class="el" href="../../de/d13/arcanedoc_core_types_codeconfig.html">Configuration du code (.CONFIG)</a> </span> </div> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
  <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <ul>
      <li class="navelem"><a class="el" href="../../index.html">%Arcane</a></li><li class="navelem"><a class="el" href="../../d4/dc9/arcanedoc_core_types.html">Types fondamentaux</a></li>
      <li class="footer">Généré le Lundi 22 Juillet 2024 02:43:18 pour Arcane par <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
    </ul>
  </div>
  <script type="text/javascript" src="../../script-apply-config-theme.js"></script>
  <script type="text/javascript">
    // On met l'appel à cette fonction dans le footer dans le cas où
    // une page ne veut pas de personnalisation (changement de la 
    // variable globale "no_custom_theme").
    applyConfigWithCookies();
  </script>
</body>
</html>
