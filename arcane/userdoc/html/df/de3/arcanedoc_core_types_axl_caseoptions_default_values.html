<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.9.8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Arcane: Gestion des valeurs par défaut</title>
    <link href="../../tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../../jquery.js"></script>
    <script type="text/javascript" src="../../dynsections.js"></script>
    <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
    <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
    <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-custom.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../user_colors.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
    <script type="text/javascript" src="../../script-helper.js"></script>
    <script type="text/javascript" src="../../script-resize.js"></script>
    <script type="text/javascript" src="../../script-num-lines-code.js"></script>
    <script type="text/javascript" src="../../script-config-theme.js"></script>
    <script type="text/javascript" src="../../script-edit-config-theme.js"></script>
    <script type="text/javascript" src="../../script-alternative-theme.js"></script>
    <script type="text/javascript">
      // On demande l'activation de la personnalisation de la page.
      var no_custom_theme = false;
      DoxygenAwesomeDarkModeToggle.title = "Thème clair/sombre";
      DoxygenAwesomeDarkModeToggle.init();
      DoxygenAwesomeFragmentCopyButton.title = "Copier le code dans le presse-papier";
      DoxygenAwesomeFragmentCopyButton.init();
      DoxygenAwesomeParagraphLink.init();
      DoxygenAwesomeInteractiveToc.init();
      DoxygenAwesomeTabs.init()
      waitElemForResizeSideNav();
      setOldSize();
      //waitItemExpandCurrent();
    </script>
  </head>
  <body>
    <!--BEGIN CORNER_GITHUB-->
    <!-- https://tholman.com/github-corners/ -->
    <a href="https://github.com/arcaneframework/framework" class="github-corner" aria-label="Voir les sources sur GitHub">
      <svg width="70" height="70" viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body"></path>
      </svg>
    </a>
    <!--END CORNER_GITHUB-->
      <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0">
            <tbody>
              <tr id="projectrow">
                <td id="projectlogo">
                  <a href="../../index.html" title="Aller à la page principale">
                    <img alt="Logo" src="../../arcane_logo.webp" />
                  </a>
                </td>
              </tr>
              <tr id="projectrow">
                <td id="projectalign">
                  <div id="projectname">Arcane
                    <span id="projectnumber">&#160;v3.12.18.0</span>
                  </div>
                  <div id="projectbrief">Documentation utilisateur</div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part --><!-- Généré par Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('df/de3/arcanedoc_core_types_axl_caseoptions_default_values.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Gestion des valeurs par défaut</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Il est possible de spécifier une valeur par défaut dans le fichier <b>axl</b> pour les options simples, énumérées, étendues et les services. Depuis la version 2.10.0 (septembre 2018), il est aussi possible de définir ces valeurs par catégorie et de spécifier la catégorie voulue lors de l'exécution. Le choix de la catégorie doit se faire avant la lecture des options du jeu de donnée, par exemple dans la classe gérant la session du code : </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;arcane/ICaseDocument.h&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><span class="keywordtype">void</span> f()</div>
<div class="line">{</div>
<div class="line">  <a class="code hl_class" href="../../d9/d1e/classArcane_1_1ISubDomain.html">ISubDomain</a>* <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">sd</a> = ...;</div>
<div class="line">  <a class="code hl_class" href="../../d3/dd9/classArcane_1_1ICaseDocument.html">ICaseDocument</a>* <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">doc</a> = <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">sd</a>-&gt;caseDocument();</div>
<div class="line">  <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">doc</a>-&gt;setDefaultCategory(<span class="stringliteral">&quot;MyCategory&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="aclassArcane_1_1ICaseDocument_html"><div class="ttname"><a href="../../d3/dd9/classArcane_1_1ICaseDocument.html">Arcane::ICaseDocument</a></div><div class="ttdef"><b>Definition</b> <a href="../../d6/d0e/ICaseDocument_8h_source.html#l00100">ICaseDocument.h:102</a></div></div>
<div class="ttc" id="aclassArcane_1_1ISubDomain_html"><div class="ttname"><a href="../../d9/d1e/classArcane_1_1ISubDomain.html">Arcane::ISubDomain</a></div><div class="ttdoc">Interface du gestionnaire d'un sous-domaine.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d4b/ISubDomain_8h_source.html#l00072">ISubDomain.h:74</a></div></div>
<div class="ttc" id="aclassArcane_1_1ScopedPtrT_html"><div class="ttname"><a href="../../db/d19/classArcane_1_1ScopedPtrT.html">Arcane::ScopedPtrT</a></div><div class="ttdoc">Encapsulation d'un pointeur qui se détruit automatiquement.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/ScopedPtr_8h_source.html#l00042">ScopedPtr.h:44</a></div></div>
<div class="ttc" id="anamespaceArcane_html"><div class="ttname"><a href="../../d0/d32/namespaceArcane.html">Arcane</a></div><div class="ttdoc">-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-</div><div class="ttdef"><b>Definition</b> <a href="../../de/df4/AbstractCaseDocumentVisitor_8cc_source.html#l00020">AbstractCaseDocumentVisitor.cc:20</a></div></div>
</div><!-- fragment --><p>Enfin, depuis la version 2.9.1 (juin 2018) de Arcane, il est aussi possible de changer dynamiquement lors de l'exécution ces valeurs par défaut. Cela peut être utile par exemple si on veut des valeurs par défaut par type de boucle en temps, par dimension du maillage, ...</p>
<p>Pour changer les valeurs par défaut, il existe une méthode <b>setDefaultValue()</b> suivant le type de l'option :</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Classe Arcane   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d4/d3d/classArcane_1_1CaseOptionSimpleT.html#af12c8cb47fac6ce77ee1ecb791f26e14">CaseOptionSimpleT::setDefaultValue()</a>   </td><td class="markdownTableBodyNone">options simples    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../d2/d4c/classArcane_1_1CaseOptionEnumT.html#a92705f1c2f8f63c1c7f44b6997906a01">CaseOptionEnumT::setDefaultValue()</a>   </td><td class="markdownTableBodyNone">options énumérées    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../db/d3f/classArcane_1_1CaseOptionExtended.html#ab1ebd89e2047c4cab2a3b9a022b8626d">CaseOptionExtendedT::setDefaultValue()</a>   </td><td class="markdownTableBodyNone">options étendues    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../dd/ddd/classArcane_1_1CaseOptionService.html#af896db193145913ef19c2de6bc04959c">CaseOptionService::setDefaultValue()</a>   </td><td class="markdownTableBodyNone">services   </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>Il n'est pas possible de changer les valeurs par défaut des options possédant des occurrences multiples.</dd></dl>
<p>Pour bien comprendre comment utiliser cette méthode, il est nécessaire de connaitre les mécanismes de lecture des options du jeu de données. La lecture du jeu de données se fait en plusieurs phases :</p><ol type="1">
<li>Phase 1. Lors de cette phase, on lit toutes les options sauf les options étendues car elles peuvent reposer sur le maillage et dans cette phase le maillage n'est pas encore lu. C'est lors de cette phase que sont aussi créés les différentes instances des services qui apparaissent dans le jeu de données.</li>
<li>Appel des points d'entrée <b>Build</b> du code.</li>
<li>Phase 2. Lors de cette phase, le maillage a été lu et on lit les options étendues du jeu de données. Après cette phase, toutes les options ont été lues.</li>
<li>Affichage dans le listing des valeurs des options du jeu de données.</li>
<li>Appel des points d'entrée <b>Init</b> du code.</li>
</ol>
<p>Pour exécuter du code lors des parties (<em>2</em>) et (<em>5</em>), il faut utiliser des points d'entrées déclarées dans la boucle en temps. Pour exécuter du code lors des parties 1 ou 3, il est possible de s'enregistrer auprès du <a class="el" href="../../d3/dcf/classArcane_1_1ICaseMng.html#a9c222f983df0721705b6bd43015229af" title="Observable sur l&#39;instance.">Arcane::ICaseMng::observable()</a> pour être notifié du début des phases 1 et 2. Le code sera exécuté avant que Arcane n'effectue la phase correspondante. Par exemple :</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;arcane/ObserverPool.h&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">MyService</a></div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">MyService</a>(<span class="keyword">const</span> <a class="code hl_class" href="../../d8/dc4/classArcane_1_1ServiceBuildInfo.html">ServiceBuildInfo</a>&amp; <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">sbi</a>)</div>
<div class="line">  {</div>
<div class="line">    <a class="code hl_class" href="../../d3/dcf/classArcane_1_1ICaseMng.html">ICaseMng</a>* <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">cm</a> = <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">sbi</a>.subDomain()-&gt;caseMng();</div>
<div class="line">    m_observers.addObserver(<span class="keyword">this</span>,&amp;MyService::onBeforePhase1,</div>
<div class="line">                            <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">cm</a>-&gt;observable(eCaseMngEventType::BeginReadOptionsPhase1));</div>
<div class="line">    m_observers.addObserver(<span class="keyword">this</span>,&amp;MyService::onBeforePhase2,</div>
<div class="line">                            <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">cm</a>-&gt;observable(eCaseMngEventType::BeginReadOptionsPhase2));</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">onBeforePhase1</a>() { ... }</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_class" href="../../db/d19/classArcane_1_1ScopedPtrT.html">onBeforePhase2</a>() { ... }</div>
<div class="line"> <span class="keyword">private</span>:</div>
<div class="line">  <a class="code hl_class" href="../../d1/d7d/classArcane_1_1ObserverPool.html">ObserverPool</a> m_observers;</div>
<div class="line">};</div>
<div class="ttc" id="aclassArcane_1_1ICaseMng_html"><div class="ttname"><a href="../../d3/dcf/classArcane_1_1ICaseMng.html">Arcane::ICaseMng</a></div><div class="ttdoc">Interface du gestionnaire de cas.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/ddf/ICaseMng_8h_source.html#l00055">ICaseMng.h:56</a></div></div>
<div class="ttc" id="aclassArcane_1_1ObserverPool_html"><div class="ttname"><a href="../../d1/d7d/classArcane_1_1ObserverPool.html">Arcane::ObserverPool</a></div><div class="ttdoc">Liste d'observateurs.</div><div class="ttdef"><b>Definition</b> <a href="../../df/d6b/ObserverPool_8h_source.html#l00040">ObserverPool.h:41</a></div></div>
<div class="ttc" id="aclassArcane_1_1ServiceBuildInfo_html"><div class="ttname"><a href="../../d8/dc4/classArcane_1_1ServiceBuildInfo.html">Arcane::ServiceBuildInfo</a></div><div class="ttdoc">Structure contenant les informations pour créer un service.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/dd2/ServiceBuildInfo_8h_source.html#l00196">ServiceBuildInfo.h:198</a></div></div>
</div><!-- fragment --><p>Les points suivants sont à noter :</p>
<ul>
<li>si on souhaite changer la valeur par défaut d'un service, il faut le faire lors de la partie (<em>1</em>) car ensuite les services ont déjà été créés.</li>
<li>si une valeur par défaut est présente dans le fichier <b>axl</b>, ce sera cette valeur qui sera utilisée tant qu'il n'y a pas eu d'appel à setDefaultValue(). Si on change une valeur d'une option simple lors de la partie (<em>3</em>) par exemple, elle ne sera pas encore prise en compte dans lors de l'appel des points d'entrée <b>Build</b> (qui sont dans la partie (<em>2</em>)).</li>
<li>il est possible de mettre une valeur par défaut même s'il n'y en a pas dans le fichier <b>axl</b>. Dans ce cas, il faut la positionner dans la partie (<em>1</em>) sinon Arcane considérera le jeu de donnée comme invalide après lecture de la phase 1.</li>
<li>si on souhaite changer une valeur par défaut en fonction des informations du maillage, il faut le faire lors de la partie (<em>3</em>).</li>
</ul>
<hr  />
<div class="section_buttons"> <span class="back_section_button"> <a class="el" href="../../dd/d4d/arcanedoc_core_types_axl_caseoptions_usage.html">Utilisation dans le module</a> </span> <span class="next_section_button"> <a class="el" href="../../da/d1a/arcanedoc_core_types_axl_others.html">Autres élements</a> </span> </div> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
  <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <ul>
      <li class="navelem"><a class="el" href="../../index.html">%Arcane</a></li><li class="navelem"><a class="el" href="../../d4/dc9/arcanedoc_core_types.html">Types fondamentaux</a></li><li class="navelem"><a class="el" href="../../db/d4e/arcanedoc_core_types_axl.html">Descripteur de module/service (.AXL)</a></li><li class="navelem"><a class="el" href="../../d4/d00/arcanedoc_core_types_axl_caseoptions.html">Options</a></li>
      <li class="footer">Généré le Lundi 20 Mai 2024 02:24:58 pour Arcane par <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
    </ul>
  </div>
  <script type="text/javascript" src="../../script-apply-config-theme.js"></script>
  <script type="text/javascript">
    // On met l'appel à cette fonction dans le footer dans le cas où
    // une page ne veut pas de personnalisation (changement de la 
    // variable globale "no_custom_theme").
    applyConfigWithCookies();
  </script>
</body>
</html>
