<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arcane: Réalisation d&#39;un lecteur de maillage</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arcane
   &#160;<span id="projectnumber">3.6.7.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Recherche');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Réalisation d'un lecteur de maillage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Cette page décrit la manière de réaliser un lecteur de maillage pour <a class="el" href="../../d0/d32/namespaceArcane.html" title="-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-">Arcane</a>.</p>
<p>Un lecteur de maillage est un service qui implémente l'interface IMeshReader, décrite ci-dessous:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>IMeshReader</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line"><span class="keyword">virtual</span> <span class="keywordtype">bool</span> allowExtension(<span class="keyword">const</span> String&amp; str) =0;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">virtual</span> eReturnType readMeshFromFile(IMesh* mesh,</div>
<div class="line">                                     <span class="keyword">const</span> XmlNode&amp; mesh_element,</div>
<div class="line">                                     <span class="keyword">const</span> String&amp; file_name,</div>
<div class="line">                                     <span class="keyword">const</span> String&amp; dir_name,</div>
<div class="line">                                     <span class="keywordtype">bool</span> use_internal_partition) =0;</div>
<div class="line">};</div>
</div><!-- fragment --><p>La première chose à faire est donc de définir une classe service qui implémente cette interface. Notre classe s'appellera 'SampleMeshReader' et héritera de BasicService. Ce service aura pour nom 'SampleMeshReaderService'</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;arcane/BasicService.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;arcane/IMeshReader.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;arcane/FactoryService.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>SampleMeshReader</div>
<div class="line">: <span class="keyword">public</span> <a class="code" href="../../d1/d5e/classArcane_1_1BasicService.html">BasicService</a></div>
<div class="line">, <span class="keyword">public</span> <a class="code" href="../../d7/d2c/classArcane_1_1IMeshReader.html">IMeshReader</a></div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  SampleMeshReader(<span class="keyword">const</span> <a class="code" href="../../d8/dc4/classArcane_1_1ServiceBuildInfo.html">ServiceBuildInfo</a>&amp; sbi);</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> allowExtension(<span class="keyword">const</span> String&amp; str);</div>
<div class="line">  <span class="keyword">virtual</span> eReturnType readMeshFromFile(<a class="code" href="../../d0/d9f/classArcane_1_1IMesh.html">IMesh</a>* mesh,</div>
<div class="line">                                       <span class="keyword">const</span> <a class="code" href="../../d9/dcc/classArcane_1_1XmlNode.html">XmlNode</a>&amp; mesh_element,</div>
<div class="line">                                       <span class="keyword">const</span> String&amp; file_name,</div>
<div class="line">                                       <span class="keyword">const</span> String&amp; dir_name,</div>
<div class="line">                                       <span class="keywordtype">bool</span> use_internal_partition);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code" href="../../d3/d58/ServiceFactory_8h.html#a480db4972e53162abf799e425a4e73ad">ARCANE_REGISTER_SUB_DOMAIN_FACTORY</a>(SampleMeshReader,<a class="code" href="../../d7/d2c/classArcane_1_1IMeshReader.html">IMeshReader</a>,SampleMeshReaderService);</div>
</div><!-- fragment --><p>La méthode IMeshReader::allowExtension() permet de spécifier l'extension de fichier que notre lecteur supportera. Par exemple, cette extension est 'vtu' pour les fichiers VTK contenant des maillages non structurés. Dans notre exemple, nous prendrons l'extension 'msh'. Nous implémenterons donc la méthode allowExtension() comme suit:</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> SampleMeshReader::allowExtension(<span class="keyword">const</span> String&amp; str)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> str==<span class="stringliteral">&#39;msh&#39;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>TODO: a continuer </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="aclassArcane_1_1XmlNode_html"><div class="ttname"><a href="../../d9/dcc/classArcane_1_1XmlNode.html">Arcane::XmlNode</a></div><div class="ttdoc">Noeud d'un arbre DOM.</div><div class="ttdef"><b>Definition:</b> XmlNode.h:49</div></div>
<div class="ttc" id="aclassArcane_1_1ServiceBuildInfo_html"><div class="ttname"><a href="../../d8/dc4/classArcane_1_1ServiceBuildInfo.html">Arcane::ServiceBuildInfo</a></div><div class="ttdoc">Structure contenant les informations pour créer un service.</div><div class="ttdef"><b>Definition:</b> ServiceBuildInfo.h:122</div></div>
<div class="ttc" id="aclassArcane_1_1IMesh_html"><div class="ttname"><a href="../../d0/d9f/classArcane_1_1IMesh.html">Arcane::IMesh</a></div><div class="ttdef"><b>Definition:</b> IMesh.h:55</div></div>
<div class="ttc" id="aclassArcane_1_1IMeshReader_html"><div class="ttname"><a href="../../d7/d2c/classArcane_1_1IMeshReader.html">Arcane::IMeshReader</a></div><div class="ttdoc">Interface du service gérant la lecture d'un maillage.</div><div class="ttdef"><b>Definition:</b> IMeshReader.h:36</div></div>
<div class="ttc" id="aServiceFactory_8h_html_a480db4972e53162abf799e425a4e73ad"><div class="ttname"><a href="../../d3/d58/ServiceFactory_8h.html#a480db4972e53162abf799e425a4e73ad">ARCANE_REGISTER_SUB_DOMAIN_FACTORY</a></div><div class="ttdeci">#define ARCANE_REGISTER_SUB_DOMAIN_FACTORY(aclass, ainterface, aname)</div><div class="ttdoc">Enregistre un service de fabrique pour la classe aclass.</div><div class="ttdef"><b>Definition:</b> ServiceFactory.h:586</div></div>
<div class="ttc" id="aclassArcane_1_1BasicService_html"><div class="ttname"><a href="../../d1/d5e/classArcane_1_1BasicService.html">Arcane::BasicService</a></div><div class="ttdoc">Classe de base de service lié à un sous-domaine.</div><div class="ttdef"><b>Definition:</b> BasicService.h:39</div></div>
<div class="ttc" id="anamespaceArcane_html"><div class="ttname"><a href="../../d0/d32/namespaceArcane.html">Arcane</a></div><div class="ttdoc">-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-</div><div class="ttdef"><b>Definition:</b> AbstractCaseDocumentVisitor.cc:20</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré le Lundi 20 Juin 2022 03:26:39 pour Arcane par &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
