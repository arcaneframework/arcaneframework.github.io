<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arcane: Référence du modèle de la classe Arcane::Accelerator::Reducer&lt; DataType, ReduceFunctor &gt;</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arcane
   &#160;<span id="projectnumber">3.7.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Recherche','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d0/d32/namespaceArcane.html">Arcane</a></li><li class="navelem"><a class="el" href="../../de/dae/namespaceArcane_1_1Accelerator.html">Accelerator</a></li><li class="navelem"><a class="el" href="../../d3/d12/classArcane_1_1Accelerator_1_1Reducer.html">Reducer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Fonctions membres publiques</a> &#124;
<a href="#pro-attribs">Attributs protégés</a> &#124;
<a href="#pri-attribs">Attributs privés</a> &#124;
<a href="../../d1/d8d/classArcane_1_1Accelerator_1_1Reducer-members.html">Liste de tous les membres</a>  </div>
  <div class="headertitle">
<div class="title">Référence du modèle de la classe Arcane::Accelerator::Reducer&lt; DataType, ReduceFunctor &gt;</div>  </div>
</div><!--header-->
<div class="contents">

<p>Opérateur de réduction.  
 <a href="../../d3/d12/classArcane_1_1Accelerator_1_1Reducer.html#details">Plus de détails...</a></p>

<p><code>#include &lt;<a class="el" href="../../df/dd2/Reduce_8h_source.html">arcane/accelerator/Reduce.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Graphe de collaboration de Arcane::Accelerator::Reducer&lt; DataType, ReduceFunctor &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/de9/classArcane_1_1Accelerator_1_1Reducer__coll__graph.png" border="0" usemap="#aArcane_1_1Accelerator_1_1Reducer_3_01DataType_00_01ReduceFunctor_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="aArcane_1_1Accelerator_1_1Reducer_3_01DataType_00_01ReduceFunctor_01_4_coll__map" id="aArcane_1_1Accelerator_1_1Reducer_3_01DataType_00_01ReduceFunctor_01_4_coll__map">
<area shape="rect" title="Opérateur de réduction." alt="" coords="505,2260,728,2543"/>
<area shape="rect" href="../../dd/d65/classArcane_1_1Accelerator_1_1RunCommand.html" title="Gestion d&#39;une commande sur accélérateur." alt="" coords="415,1944,599,2197"/>
<area shape="rect" href="../../d2/d7c/classArcane_1_1Accelerator_1_1impl_1_1RunCommandImpl.html" title="Implémentation d&#39;une commande pour accélérateur." alt="" coords="501,1577,759,1830"/>
<area shape="rect" href="../../d1/d0a/classArcane_1_1Accelerator_1_1impl_1_1RunQueueImpl.html" title="File d&#39;exécution pour accélérateur." alt="" coords="249,1011,510,1367"/>
<area shape="rect" href="../../d9/d8e/classArcane_1_1Accelerator_1_1RunQueue.html" title="File d&#39;exécution pour accélérateur." alt="" coords="303,1525,475,1881"/>
<area shape="rect" href="../../d8/d5a/classArcane_1_1Accelerator_1_1impl_1_1IRunQueueRuntime.html" title="Interface du runtime associé à une RunQueue." alt="" coords="5,534,199,714"/>
<area shape="rect" href="../../da/dbb/classArcane_1_1Accelerator_1_1impl_1_1IRunQueueStream.html" title="Interface d&#39;un flux d&#39;exécution pour une RunQueue." alt="" coords="223,541,408,707"/>
<area shape="rect" href="../../d1/d61/classArcane_1_1Accelerator_1_1Runner.html" title="Gestionnaire d&#39;exécution pour accélérateur." alt="" coords="432,431,668,817"/>
<area shape="rect" href="../../d2/ddb/classArccore_1_1String.html" title="Chaîne de caractères unicode." alt="" coords="533,916,756,1463"/>
<area shape="rect" href="../../d0/de1/classArccore_1_1StringImpl.html" title="Implémentation de la classe String." alt="" coords="691,395,846,853"/>
<area shape="rect" href="../../d4/de3/classArccore_1_1CoreArray.html" title=" " alt="" coords="555,5,753,332"/>
<area shape="rect" href="../../d4/de3/classArccore_1_1CoreArray.html" title=" " alt="" coords="778,5,986,332"/>
<area shape="rect" href="../../db/d6c/classArccore_1_1TraceInfo.html" title="Informations de trace." alt="" coords="779,1085,929,1294"/>
<area shape="rect" href="../../da/dc8/classArcane_1_1Accelerator_1_1impl_1_1IReduceMemoryImpl.html" title="Interface de la gestion mémoire pour les réductions." alt="" coords="623,2010,826,2131"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Fonctions membres publiques</h2></td></tr>
<tr class="memitem:adec96b256c97a6cadbce2ab4c7a5f99d"><td class="memItemLeft" align="right" valign="top"><a id="adec96b256c97a6cadbce2ab4c7a5f99d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Reducer</b> (<a class="el" href="../../dd/d65/classArcane_1_1Accelerator_1_1RunCommand.html">RunCommand</a> &amp;command)</td></tr>
<tr class="separator:adec96b256c97a6cadbce2ab4c7a5f99d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b463a4ad76604544c981a4de356a435"><td class="memItemLeft" align="right" valign="top"><a id="a1b463a4ad76604544c981a4de356a435"></a>
ARCCORE_HOST_DEVICE&#160;</td><td class="memItemRight" valign="bottom"><b>Reducer</b> (const <a class="el" href="../../d3/d12/classArcane_1_1Accelerator_1_1Reducer.html">Reducer</a> &amp;rhs)</td></tr>
<tr class="separator:a1b463a4ad76604544c981a4de356a435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8bce97ecdc16441e3ccd30420ffb4b4"><td class="memItemLeft" align="right" valign="top"><a id="ad8bce97ecdc16441e3ccd30420ffb4b4"></a>
ARCCORE_HOST_DEVICE&#160;</td><td class="memItemRight" valign="bottom"><b>Reducer</b> (<a class="el" href="../../d3/d12/classArcane_1_1Accelerator_1_1Reducer.html">Reducer</a> &amp;&amp;rhs)</td></tr>
<tr class="separator:ad8bce97ecdc16441e3ccd30420ffb4b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802fa0dedf2272407843d2c017da60a8"><td class="memItemLeft" align="right" valign="top"><a id="a802fa0dedf2272407843d2c017da60a8"></a>
ARCCORE_HOST_DEVICE void&#160;</td><td class="memItemRight" valign="bottom"><b>setValue</b> (DataType v)</td></tr>
<tr class="separator:a802fa0dedf2272407843d2c017da60a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf9f396c62b5b50704390379d12e0a3a"><td class="memItemLeft" align="right" valign="top"><a id="acf9f396c62b5b50704390379d12e0a3a"></a>
ARCCORE_HOST_DEVICE DataType&#160;</td><td class="memItemRight" valign="bottom"><b>localValue</b> () const</td></tr>
<tr class="separator:acf9f396c62b5b50704390379d12e0a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8498963b46de5e18a20fb495b70199f0"><td class="memItemLeft" align="right" valign="top"><a id="a8498963b46de5e18a20fb495b70199f0"></a>
DataType&#160;</td><td class="memItemRight" valign="bottom"><b>reduce</b> ()</td></tr>
<tr class="separator:a8498963b46de5e18a20fb495b70199f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Attributs protégés</h2></td></tr>
<tr class="memitem:a595bf64f719d351c62613ea20b6049af"><td class="memItemLeft" align="right" valign="top"><a id="a595bf64f719d351c62613ea20b6049af"></a>
<a class="el" href="../../da/dc8/classArcane_1_1Accelerator_1_1impl_1_1IReduceMemoryImpl.html">impl::IReduceMemoryImpl</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>m_memory_impl</b> = nullptr</td></tr>
<tr class="separator:a595bf64f719d351c62613ea20b6049af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b19526cb61b8a9d92162d46d220a1c2"><td class="memItemLeft" align="right" valign="top"><a id="a9b19526cb61b8a9d92162d46d220a1c2"></a>
DataType *&#160;</td><td class="memItemRight" valign="bottom"><b>m_managed_memory_value</b></td></tr>
<tr class="separator:a9b19526cb61b8a9d92162d46d220a1c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b90b94afcc2d7cf1069de80ed8cc7e0"><td class="memItemLeft" align="right" valign="top"><a id="a0b90b94afcc2d7cf1069de80ed8cc7e0"></a>
DataType&#160;</td><td class="memItemRight" valign="bottom"><b>m_local_value</b></td></tr>
<tr class="separator:a0b90b94afcc2d7cf1069de80ed8cc7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8906b6920cd321bd7e7d4e61741962cc"><td class="memItemLeft" align="right" valign="top"><a id="a8906b6920cd321bd7e7d4e61741962cc"></a>
std::atomic&lt; DataType &gt; *&#160;</td><td class="memItemRight" valign="bottom"><b>m_parent_value</b> = nullptr</td></tr>
<tr class="separator:a8906b6920cd321bd7e7d4e61741962cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a594597de0a7dd3c0fd255b7bda06ac11"><td class="memItemLeft" align="right" valign="top"><a id="a594597de0a7dd3c0fd255b7bda06ac11"></a>
std::atomic&lt; DataType &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_atomic_value</b></td></tr>
<tr class="separator:a594597de0a7dd3c0fd255b7bda06ac11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Attributs privés</h2></td></tr>
<tr class="memitem:adf24aae955916c8a7fe6616e2c9da930"><td class="memItemLeft" align="right" valign="top"><a id="adf24aae955916c8a7fe6616e2c9da930"></a>
<a class="el" href="../../dd/d65/classArcane_1_1Accelerator_1_1RunCommand.html">RunCommand</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>m_command</b></td></tr>
<tr class="separator:adf24aae955916c8a7fe6616e2c9da930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab181f8c2264974e2d781f310b1a00cee"><td class="memItemLeft" align="right" valign="top"><a id="ab181f8c2264974e2d781f310b1a00cee"></a>
DataType&#160;</td><td class="memItemRight" valign="bottom"><b>m_identity</b></td></tr>
<tr class="separator:ab181f8c2264974e2d781f310b1a00cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ccc48ce83bab37a616c6fea728baab9"><td class="memItemLeft" align="right" valign="top"><a id="a7ccc48ce83bab37a616c6fea728baab9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_is_allocated</b> = false</td></tr>
<tr class="separator:a7ccc48ce83bab37a616c6fea728baab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c1c81b6f4808f4bb11a672379a94921"><td class="memItemLeft" align="right" valign="top"><a id="a0c1c81b6f4808f4bb11a672379a94921"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_is_master_instance</b> = false</td></tr>
<tr class="separator:a0c1c81b6f4808f4bb11a672379a94921"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<div class="textblock"><h3>template&lt;typename DataType, typename ReduceFunctor&gt;<br />
class Arcane::Accelerator::Reducer&lt; DataType, ReduceFunctor &gt;</h3>

<p>Opérateur de réduction. </p>
<p>Cette classe permet de gérer une réduction sur accélérateur ou en multi-thread.</p>
<p>La réduction finale a lieu lors de l'appel à reduce(). Il ne faut donc faire cet appel qu'une seule fois et dans une partie collective. Cet appel n'est valide que sur les instance créées avec un constructeur vide. Ces dernières ne peuvent être créées que sur l'hôte.</p>
<dl class="section warning"><dt>Avertissement</dt><dd>Le constructeur de recopie ne doit pas être appelé explicitement. L'instance de départ doit rester valide tant qu'il existe des copies ou des références dans le noyau de calcul.</dd></dl>
<p>NOTE sur l'implémentation</p>
<p>Sur GPU, les réductions sont effectuées dans le destructeur de la classe La valeur 'm_managed_memory_value' sert à conserver ces valeurs. Sur l'hôte, on utilise un 'std::atomic' pour conserver la valeur commune entre les threads. Cette valeur est référencée par 'm_parent_value' et n'est valide que sur l'hôte. </p>
</div><hr/>La documentation de cette classe a été générée à partir du fichier suivant :<ul>
<li><a class="el" href="../../df/dd2/Reduce_8h_source.html">Reduce.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré le Lundi 8 Août 2022 03:39:02 pour Arcane par&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
