<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arcane: Détection des problèmes mémoire.</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arcane
   &#160;<span id="projectnumber">3.7.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Recherche','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Détection des problèmes mémoire. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="../../d0/d32/namespaceArcane.html" title="-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-">Arcane</a> dispose d'un mécanisme permettant de détecter certains problèmes mémoire, en particulier:</p><ul>
<li>les fuites mémoire</li>
<li>les désallocations qui ne correspondent à aucune allocation.</li>
</ul>
<p>De plus, cela permet d'obtenir des statistiques sur l'utilisation mémoire.</p>
<dl class="section warning"><dt>Avertissement</dt><dd>Ce mécanisme ne fonctionne actuellement que sur les OS Linux.</dd>
<dd>
Ce mécanisme ne fonctionne pas lorsque le multi-treading est activé.</dd></dl>
<p>Pour l'activer, il suffit de positionner la variable d'environnement ARCANE_CHECK_MEMORY à <code>true</code>. Toutes les allocations et désallocations sont tracées. Cependant, pour des problèmes de performance, on ne conserve et n'affiche la pile d'appel que pour les allocations supérieures à une certaine taille. Par défaut, la valeur est de 1Mo (1000000). Il est possible de spécifier une autre valeur via la variable d'environnement ARCANE_CHECK_MEMORY_BLOCK_SIZE. La variable d'environnement ARCANE_CHECK_MEMORY_BLOCK_SIZE_ITERATION permet de spécifier une valeur de bloc qui sera utilisé pour la boucle en temps après l'initialisation. Cela permet de tracer plus finement les allocations durant le calcul que celles qui ont lieu lors de l'initialisation.</p>
<p>Les appels sont tracés depuis l'appel à ArcaneMain::arcaneInitialize() jusqu'à l'appel à ArcaneMain::arcaneFinalize(). Lors de ce dernier appel, une liste des blocs alloués qui n'ont pas été désalloués est affiché.</p>
<p>Il est possible de gérer plus finement le vérificateur mémoire via l'interface IMemoryInfo. Cette interface est un singleton accessible via la méthode arcaneGlobalMemoryInfo();</p>
<dl class="section note"><dt>Note</dt><dd>INTERNE: Pour l'instant, les éventuelles incohérence entre allocation et désallocations sont indiquées sur std::cout. Cela peut poser des problèmes de lisibilités en parallèle. A terme, il faudra utiliser ITraceMng, mais cela est délicat actuellement car ce mécanisme effectue lui aussi des appels mémoire et il difficile de le rendre compatible avec les fonctions de débug actuelles. </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré le Lundi 5 Septembre 2022 04:19:11 pour Arcane par&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
