<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arcane: Lancement d&#39;un calcul</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arcane
   &#160;<span id="projectnumber">3.7.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Recherche','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Lancement d'un calcul </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table des matières</h3>
<ul><li class="level1"><a href="#autotoc_md17">Initialisation de MPI</a></li>
<li class="level1"><a href="#autotoc_md18">Exécution du code</a></li>
<li class="level1"><a href="#autotoc_md19">Options de la ligne de commande</a></li>
<li class="level1"><a href="#autotoc_md20">Choix du gestionnaire d&#39;échange de message</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md____w_arcaneframework_github_io_arcaneframework_github_io_framework_arcane_doc_common_launcher"></a></p>
<p>Il existe deux mécanismes pour exécuter un code avec Arcane:</p>
<ol type="1">
<li>le mécanisme avec boucle en temps qui est le mécanisme classique disponible depuis les premières versions de Arcane.</li>
<li>l'exécution directe</li>
</ol>
<p>Pour les deux mécanismes, il faut utiliser la classe <a class="el" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html" title="Classe de gestion de l&#39;exécution.">Arcane::ArcaneLauncher</a>. Cette classe permet de spécifier les paramètres d'exécution. Toutes les méthodes de cette classe sont statiques</p>
<p>La première chose à faire est d'appeler la méthode <a class="el" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a637c73ac97c8d466c4125b76aba84d78" title="Positionne les informations à partir des arguments de la ligne de commande et initialise le lanceur.">Arcane::ArcaneLauncher::init()</a> pour spécifier à Arcane les paramètres d'exécution. Cela permet d'analyser automatiquement certaines valeurs de la ligne de commande (comme le niveau de verbosité, le nom du répertoire de sortie, ...)</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;arcane/launcher/ArcaneLauncher.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">int</span> argc,<span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a637c73ac97c8d466c4125b76aba84d78">ArcaneLauncher::init</a>(CommandLineArguments(&amp;argc,&amp;argv));</div>
<div class="line">  ...</div>
<div class="line">}</div>
<div class="ttc" id="aclassArcane_1_1ArcaneLauncher_html_a637c73ac97c8d466c4125b76aba84d78"><div class="ttname"><a href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a637c73ac97c8d466c4125b76aba84d78">Arcane::ArcaneLauncher::init</a></div><div class="ttdeci">static void init(const CommandLineArguments &amp;args)</div><div class="ttdoc">Positionne les informations à partir des arguments de la ligne de commande et initialise le lanceur.</div><div class="ttdef"><b>Definition:</b> ArcaneLauncher.cc:317</div></div>
<div class="ttc" id="anamespaceArcane_html"><div class="ttname"><a href="../../d0/d32/namespaceArcane.html">Arcane</a></div><div class="ttdoc">-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-</div><div class="ttdef"><b>Definition:</b> AbstractCaseDocumentVisitor.cc:20</div></div>
</div><!-- fragment --><p>Il existe deux classes permettant de spécifier les paramètres d'exécution: <a class="el" href="../../d0/d68/classArcane_1_1ApplicationInfo.html" title="Informations sur une application.">Arcane::ApplicationInfo</a> et <a class="el" href="../../d2/d2b/classArcane_1_1ApplicationBuildInfo.html" title="Informations pour construire une instance de IApplication.">Arcane::ApplicationBuildInfo</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Ces deux classes existent pour des raisons de compatiblités avec le code existant. À terme, seule la classe <a class="el" href="../../d2/d2b/classArcane_1_1ApplicationBuildInfo.html" title="Informations pour construire une instance de IApplication.">Arcane::ApplicationBuildInfo</a> restera et c'est donc cette dernière qu'il faut utiliser.</dd></dl>
<p>Les instances statiques de ces deux classes peuvent être récupérées via les méthodes <a class="el" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#aa7fc14843c8fd871a28495be4c396b40" title="Informations sur l&#39;application.">Arcane::ArcaneLauncher::applicationInfo()</a> et <a class="el" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a649de237fb80c38ecb01eb53734fe71d" title="Informations sur les paramêtre d&#39;exécutions de l&#39;application.">Arcane::ArcaneLauncher::applicationBuildInfo()</a>. L'exemple suivant montre comment changer le nom et la version du code et le répertoire par défaut pour les sorties:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;arcane/launcher/ArcaneLauncher.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">int</span> argc,<span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a637c73ac97c8d466c4125b76aba84d78">ArcaneLauncher::init</a>(CommandLineArguments(&amp;argc,&amp;argv));</div>
<div class="line">  ApplicationBuildInfo&amp; app_build_info = <a class="code" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a649de237fb80c38ecb01eb53734fe71d">ArcaneLauncher::applicationBuildInfo</a>();</div>
<div class="line">  app_build_info.setCodeName(<span class="stringliteral">&quot;ArcaneTest&quot;</span>);</div>
<div class="line">  app_build_info.setCodeVersion(VersionInfo(1,0,0));</div>
<div class="line">  app_build_info.setOutputDirectory(<span class="stringliteral">&quot;test_output&quot;</span>);</div>
<div class="line">  ...</div>
<div class="line">}</div>
<div class="ttc" id="aclassArcane_1_1ArcaneLauncher_html_a649de237fb80c38ecb01eb53734fe71d"><div class="ttname"><a href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a649de237fb80c38ecb01eb53734fe71d">Arcane::ArcaneLauncher::applicationBuildInfo</a></div><div class="ttdeci">static ApplicationBuildInfo &amp; applicationBuildInfo()</div><div class="ttdoc">Informations sur les paramêtre d'exécutions de l'application.</div><div class="ttdef"><b>Definition:</b> ArcaneLauncher.cc:146</div></div>
</div><!-- fragment --><p>Une fois l'initialisation effectuée, il est possible de lancer l'exécution du code via l'appel à <a class="el" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a0947388b5dc8e3f6edb5cde9e5d516be" title="Point d&#39;entrée de l&#39;exécutable dans Arcane.">Arcane::ArcaneLauncher::run()</a>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;arcane/launcher/ArcaneLauncher.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/d32/namespaceArcane.html">Arcane</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">int</span> argc,<span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a637c73ac97c8d466c4125b76aba84d78">ArcaneLauncher::init</a>(CommandLineArguments(&amp;argc,&amp;argv));</div>
<div class="line">  ApplicationBuildInfo&amp; app_build_info = <a class="code" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a649de237fb80c38ecb01eb53734fe71d">ArcaneLauncher::applicationBuildInfo</a>();</div>
<div class="line">  app_build_info.setCodeName(<span class="stringliteral">&quot;ArcaneTest&quot;</span>);</div>
<div class="line">  app_build_info.setCodeVersion(VersionInfo(1,0,0));</div>
<div class="line">  app_build_info.setOutputDirectory(<span class="stringliteral">&quot;test_output&quot;</span>);</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a0947388b5dc8e3f6edb5cde9e5d516be">ArcaneLauncher::run</a>();</div>
<div class="line">}</div>
<div class="ttc" id="aclassArcane_1_1ArcaneLauncher_html_a0947388b5dc8e3f6edb5cde9e5d516be"><div class="ttname"><a href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a0947388b5dc8e3f6edb5cde9e5d516be">Arcane::ArcaneLauncher::run</a></div><div class="ttdeci">static int run()</div><div class="ttdoc">Point d'entrée de l'exécutable dans Arcane.</div><div class="ttdef"><b>Definition:</b> ArcaneLauncher.cc:110</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17"></a>
Initialisation de MPI</h1>
<p>L'utilisation de MPI nécessite de faire un appel à la méthode MPI_Init_thread() de la bibliothèque MPI. Si Arcane est compilé avec le support de MPI, alors la détection de MPI et l'appel à MPI_Init_thread() est fait automatiquement par Arcane. Le niveau de support des threads utilisé pour l'appel à MPI_Init_thread() dépend des options telles que le nombre de tâches ou de sous-domaines locaux en mode hybride qu'on souhaite utiliser.</p>
<p>Il est néanmoins possible pour le code d'initialiser lui même MPI s'il le souhaite. Pour cela, il doit appeler la méthode MPI_Init_thread() avant l'appel à <a class="el" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a0947388b5dc8e3f6edb5cde9e5d516be" title="Point d&#39;entrée de l&#39;exécutable dans Arcane.">Arcane::ArcaneLauncher::run()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Même si l'exécutable est utilisé en séquentiel (c'est à dire sans passer par une commande telle que <code>mpiexec ...</code>), Arcane tente d'initialiser MPI. Cela est nécessaire car certaines bibliothèques (par exemple les solveurs linéaires) ont besoin que MPI soit initialisé dans tous les cas. Il est possible de modifier ce comportement en spécifiant explicitement le service de parallélisme souhaité (TODO faire doc).</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Il faut faire attention à bien utiliser l'exécutable <code>mpiexec</code> qui correspond à la version de MPI avec laquelle Arcane a été compilé sinon on va lancer <em>N</em> fois l'exécution séquentielle.</dd></dl>
<h1><a class="anchor" id="autotoc_md18"></a>
Exécution du code</h1>
<p>La méthode <a class="el" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a0947388b5dc8e3f6edb5cde9e5d516be" title="Point d&#39;entrée de l&#39;exécutable dans Arcane.">Arcane::ArcaneLauncher::run()</a> permet de lancer l'exécution du code. Cette méthode possède trois surcharges:</p>
<ol type="1">
<li>L'appel sans argument (<a class="el" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a0947388b5dc8e3f6edb5cde9e5d516be" title="Point d&#39;entrée de l&#39;exécutable dans Arcane.">Arcane::ArcaneLauncher::run()</a>) pour lancer l'exécution classique en utilisant une boucle en temps (voir <a class="el" href="../../d7/d98/arcanedoc_codeconfig.html">La configuration du code</a>). Ce mécanisme est à privilégier car elle permet de disposer de toutes les fonctionnalités de Arcane. La page <a class="el" href="../../d4/d02/arcanedoc_minimal_sample.html">Exemple minimal d'utilisation</a> montre un exemple minimal de ce type d'utilisation.</li>
<li><a class="el" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a0947388b5dc8e3f6edb5cde9e5d516be" title="Point d&#39;entrée de l&#39;exécutable dans Arcane.">Arcane::ArcaneLauncher::run</a>(std::function&lt;int(DirectSubDomainExecutionContext&amp;)&gt; func) pour exécuter le code spécifié par la <em>func</em> après l'initialisation et la création des sous-domaines. La page <a class="el" href="../../dd/d62/arcanedoc_launcher_direct.html">Lancement directe d'une exécution</a> montre un exemple d'exécution directe.</li>
<li><a class="el" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a0947388b5dc8e3f6edb5cde9e5d516be" title="Point d&#39;entrée de l&#39;exécutable dans Arcane.">Arcane::ArcaneLauncher::run</a>(std::function&lt;int(DirectExecutionContext&amp;)&gt; func) pour exécuter uniquement en <b>séquentiel</b> le code spécifié par la <em>func</em>. Ce mécanisme est à utiliser si on souhaite par exemple faire des tests unitaires simples sans avoir de sous-domaine (<a class="el" href="../../d9/d1e/classArcane_1_1ISubDomain.html" title="Interface du gestionnaire d&#39;un sous-domaine.">Arcane::ISubDomain</a>*). application sans jeu de données ni boucle en temps.</li>
</ol>
<h1><a class="anchor" id="autotoc_md19"></a>
Options de la ligne de commande</h1>
<p>Arcane interprète les options de la ligne de commande qui commencent par <code>-A</code>. Par exemple, pour changer le niveau de verbosité, il suffit de spécifier l'option <code>-A,VerbosityLevel=3</code> dans la ligne de commande.</p>
<p>Les options sont interprétés lors de l'appel à <a class="el" href="../../d3/d46/classArcane_1_1ArcaneLauncher.html#a637c73ac97c8d466c4125b76aba84d78" title="Positionne les informations à partir des arguments de la ligne de commande et initialise le lanceur.">Arcane::ArcaneLauncher::init()</a> et les valeurs de ArcaneLauncher::applicationBuildInfo() sont automatiquement remplies avec ces options. Il est cependant possible de les surcharger si nécessaire.</p>
<p>Les options disponibles sont:</p>
<table class="doxtable">
<tr>
<th>Option </th><th>Variable d'environnement </th><th>Type </th><th>Défaut </th><th><p class="starttd">Description </p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>T </td><td>ARCANE_NB_TASK </td><td>Int32 </td><td>1 </td><td><p class="starttd">Nombre de tâches concurrentes à exécuter </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>S </td><td>ARCANE_NB_THREAD (Cette variable d'environnement est obsolète) </td><td>Int32 </td><td></td><td><p class="starttd">Nombre de sous-domaines en mémoire partagée </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>R </td><td>ARCANE_NB_REPLICATION (Cette variable d'environnement est obsolète) </td><td>Int32 </td><td>1 </td><td><p class="starttd">Nombre de sous-domaines répliqués </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>P </td><td>ARCANE_NB_SUB_DOMAIN (Cette variable d'environnement est obsolète) </td><td>Int32 </td><td></td><td><p class="starttd">Nombre de processus à utiliser pour les sous-domaines. Cette valeur est normalement calculée automatiquement en fonction des paramètres MPI. Elle n'est utile que si on souhaite utiliser moins de processus pour le partitionnement de domaine que ceux alloués pour le calcul.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>MaxIteration </td><td></td><td>Int32 </td><td></td><td><p class="starttd">Nombre maximum d'itérations à effectuer pour l'exécution. Si le nombre d'itération spécifié par cette variable est atteint, le calcul s'arrête.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>OutputLevel </td><td>ARCANE_OUTPUT_LEVEL </td><td>Int32 </td><td>3 </td><td><p class="starttd">Niveau de verbosité des messages sur la sortie standard. </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>VerbosityLevel </td><td>ARCANE_VERBOSITY_LEVEL </td><td>Int32 </td><td>3 </td><td><p class="starttd">Niveau de verbosité des messages pour les sorties listings fichiers. Si l'option <code>OutputLevel</code> n'est pas spécifiée, cette option est aussi utilisée pour les sorties standards.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>MinimalVerbosityLevel </td><td></td><td>Int32 </td><td></td><td><p class="starttd">Niveau de verbosité minimal. Si spécifié, les appels explicites dans le code pour modifier la verbosité (via <a class="el" href="../../d0/df9/classArccore_1_1ITraceMng.html#a94f6ee298c1abe8b4de61d43d53871b1" title="Positionne le niveau de verbosité des sorties.">Arccore::ITraceMng::setVerbosityLevel()</a>) ne pourront pas descendre en dessous de ce niveau de verbosité minimal. Ce mécanisme est surtout utilisé en débug pour garantir l'affichage des messages.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>MasterHasOutputFile </td><td>ARCANE_MASTER_HAS_OUTPUT_FILE </td><td>Bool </td><td>False </td><td><p class="starttd">Indique si le processus maitre (en général le processus 0) écrit le listing dans un fichier en plus de la sortie standard </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>OutputDirectory </td><td>ARCANE_OUTPUT_DIRECTORY </td><td>String </td><td>. </td><td><p class="starttd">Répertoire de base pour les fichiers générés (listings, logs, courbes, dépouillement, ...). Cette valeur est celle retournée par <a class="el" href="../../d9/d1e/classArcane_1_1ISubDomain.html#a115b6b92318cba625934f18094144c37" title="Répertoire de base des exportations.">Arcane::ISubDomain::exportDirectory()</a>.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>CaseDatasetFileName </td><td></td><td>String </td><td></td><td><p class="starttd">Nom du fichier du jeu de données. Si non specifié et requis, le dernier argument de la ligne de commande est considéré comme le nom de fichier du jeu données.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>ThreadBindingStrategy </td><td>ARCANE_THREAD_BINDING_STRATEGY </td><td>String </td><td></td><td><p class="starttd">Stratégie de punaisage des threads. Cela fonctionne uniquement si Arcane est compilé avec la bibliothèque 'hwloc'. Par défaut aucun binding n'est effectué. Le seul mode disponible est 'Simple' qui alloue les threads suivant un mécanisme round-robin.</p>
<p class="intertd">NOTE: ce mécanisme de punaisage est en cours de développement et il est possible qu'il ne fonctionne pas de manière optimale dans tous les cas  </p>
<p class="endtd"></p>
</td></tr>
</table>
<h1><a class="anchor" id="autotoc_md20"></a>
Choix du gestionnaire d'échange de message</h1>
<p>Le gestionnaire d'échange de message (<a class="el" href="../../d9/dca/classArcane_1_1IParallelSuperMng.html" title="Classe abstraite du superviseur de parallélisme.">Arcane::IParallelSuperMng</a>) est choisi lors du lancement du calcul. Arcane fournit les gestionnaires suivants:</p>
<ul>
<li>MpiParallelSuperMng</li>
<li>SequentialParallelSuperMng</li>
<li>MpiSequentialParallelSuperMng</li>
<li>SharedMemoryParallelSuperMng</li>
<li>HybridParallelSuperMng</li>
</ul>
<p>En général, Arcane choisit automatiquement le gestionnaire en fonction des paramètres utilisés pour lancer le calcul mais il est possible de spécifier explicitement le gestionnaire à utiliser en positionnant la variable d'environnement (obsolète) <code>ARCANE_PARALLEL_SERVICE</code> ou en spécifiant l'option <code>MessagePassingService</code> dans la ligne de commande avec une des valeurs ci-dessus (sans le suffixe <code>ParallelSuperMng</code>, donc par exemple <code>Mpi</code>, <code>Sequential</code>, <code>MpiSequential</code>, ...).</p>
<p>Le choix automatique du gestionnaire est fait comme suit:</p>
<table class="doxtable">
<tr>
<th>Ligne de commande </th><th>Gestionnaire utilisé </th><th>Description  </th></tr>
<tr>
<td><code>./a.out ...</code> </td><td><code>MpiSequentialParallelSuperMng</code> ou <code>SequentialParallelSuperMng</code> </td><td><p class="starttd"><code>MpiSequentialParallelSuperMng</code> si Arcane a été compilé avec MPI, <code>SequentialParallelSuperMng</code> sinon. La différence entre les deux est que le premier initialise MPI afin que les communicateurs tels que <code>MPI_COMM_WORLD</code> puissent être utilisés  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><code>mpiexec -n $N ./a.out ...</code> </td><td><code>MpiParallelSuperMng</code> </td><td><p class="starttd">$N processus, 1 sous-domaine par processus </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><code>./a.out -A,S=$S ...</code> </td><td><code>SharedMemoryParallelSuperMng</code> </td><td><p class="starttd">1 processus, $S sous-domaines par processus. La communication entre les sous-domaines se fait par échange de message en mémoire partagée.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>mpiexec -n $N ./a.out -A,S=$S ... </td><td><code>HybridParallelSuperMng</code> </td><td><p class="starttd">$N processus, $S sous-domaines par processus soit au total $N * $S sous-domaines.  </p>
<p class="endtd"></p>
</td></tr>
</table>
<p>Voici quelques exemples de lancement:</p>
<div class="fragment"><div class="line"># lancement séquentiel du jeu de données &#39;Test.arc&#39;</div>
<div class="line">a.out Test.arc</div>
<div class="line"> </div>
<div class="line"># lancement avec 4 sous-domaines MPI</div>
<div class="line">mpiexec -n 4 a.out Test.arc</div>
<div class="line"> </div>
<div class="line"># lancement avec 4 sous-domaines en mode mémoire partagée</div>
<div class="line">a.out -A,S=4 Test.arc</div>
<div class="line"> </div>
<div class="line"># lancement avec 12 sous-domaines et 4 processus (4 sous-domaines en</div>
<div class="line"># mémoire partagée par processus)</div>
<div class="line">mpiexec -n 3 -c 4 a.out -A,S=4 Test.arc</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré le Lundi 26 Septembre 2022 04:29:09 pour Arcane par&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
